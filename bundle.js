var nu=e=>{throw TypeError(e)};var qi=(e,t,r)=>t.has(e)||nu("Cannot "+r);var P=(e,t,r)=>(qi(e,t,"read from private field"),r?r.call(e):t.get(e)),B=(e,t,r)=>t.has(e)?nu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),F=(e,t,r,s)=>(qi(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Y=(e,t,r)=>(qi(e,t,"access private method"),r);var Za=(e,t,r,s)=>({set _(a){F(e,t,a,r)},get _(){return P(e,t,s)}});function hp(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function fp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xh={exports:{}},ui={},yh={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),mp=Symbol.for("react.portal"),gp=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),yp=Symbol.for("react.provider"),vp=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),wp=Symbol.for("react.suspense"),kp=Symbol.for("react.memo"),jp=Symbol.for("react.lazy"),au=Symbol.iterator;function Np(e){return e===null||typeof e!="object"?null:(e=au&&e[au]||e["@@iterator"],typeof e=="function"?e:null)}var vh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bh=Object.assign,wh={};function Tn(e,t,r){this.props=e,this.context=t,this.refs=wh,this.updater=r||vh}Tn.prototype.isReactComponent={};Tn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kh(){}kh.prototype=Tn.prototype;function Fd(e,t,r){this.props=e,this.context=t,this.refs=wh,this.updater=r||vh}var Ud=Fd.prototype=new kh;Ud.constructor=Fd;bh(Ud,Tn.prototype);Ud.isPureReactComponent=!0;var lu=Array.isArray,jh=Object.prototype.hasOwnProperty,$d={current:null},Nh={key:!0,ref:!0,__self:!0,__source:!0};function Sh(e,t,r){var s,a={},l=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)jh.call(t,s)&&!Nh.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var d=Array(o),u=0;u<o;u++)d[u]=arguments[u+2];a.children=d}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:Da,type:e,key:l,ref:i,props:a,_owner:$d.current}}function Sp(e,t){return{$$typeof:Da,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Da}function Cp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var iu=/\/+/g;function Hi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cp(""+e.key):t.toString(36)}function vl(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Da:case mp:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+Hi(i,0):s,lu(a)?(r="",e!=null&&(r=e.replace(iu,"$&/")+"/"),vl(a,t,r,"",function(u){return u})):a!=null&&(Bd(a)&&(a=Sp(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(iu,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",lu(e))for(var o=0;o<e.length;o++){l=e[o];var d=s+Hi(l,o);i+=vl(l,t,r,d,a)}else if(d=Np(e),typeof d=="function")for(e=d.call(e),o=0;!(l=e.next()).done;)l=l.value,d=s+Hi(l,o++),i+=vl(l,t,r,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function el(e,t,r){if(e==null)return e;var s=[],a=0;return vl(e,s,"","",function(l){return t.call(r,l,a++)}),s}function Ep(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},bl={transition:null},Pp={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:$d};function Ch(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:el,forEach:function(e,t,r){el(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return el(e,function(){t++}),t},toArray:function(e){return el(e,function(t){return t})||[]},only:function(e){if(!Bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Tn;te.Fragment=gp;te.Profiler=xp;te.PureComponent=Fd;te.StrictMode=pp;te.Suspense=wp;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pp;te.act=Ch;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=bh({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=$d.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)jh.call(t,d)&&!Nh.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=r;else if(1<d){o=Array(d);for(var u=0;u<d;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:Da,type:e.type,key:a,ref:l,props:s,_owner:i}};te.createContext=function(e){return e={$$typeof:vp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yp,_context:e},e.Consumer=e};te.createElement=Sh;te.createFactory=function(e){var t=Sh.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:bp,render:e}};te.isValidElement=Bd;te.lazy=function(e){return{$$typeof:jp,_payload:{_status:-1,_result:e},_init:Ep}};te.memo=function(e,t){return{$$typeof:kp,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=bl.transition;bl.transition={};try{e()}finally{bl.transition=t}};te.unstable_act=Ch;te.useCallback=function(e,t){return tt.current.useCallback(e,t)};te.useContext=function(e){return tt.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};te.useEffect=function(e,t){return tt.current.useEffect(e,t)};te.useId=function(){return tt.current.useId()};te.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return tt.current.useMemo(e,t)};te.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};te.useRef=function(e){return tt.current.useRef(e)};te.useState=function(e){return tt.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return tt.current.useTransition()};te.version="18.3.1";yh.exports=te;var w=yh.exports;const _e=fp(w),Tp=hp({__proto__:null,default:_e},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=w,Ap=Symbol.for("react.element"),Rp=Symbol.for("react.fragment"),_p=Object.prototype.hasOwnProperty,Lp=Op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ip={key:!0,ref:!0,__self:!0,__source:!0};function Eh(e,t,r){var s,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)_p.call(t,s)&&!Ip.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Ap,type:e,key:l,ref:i,props:a,_owner:Lp.current}}ui.Fragment=Rp;ui.jsx=Eh;ui.jsxs=Eh;xh.exports=ui;var n=xh.exports,Ph={exports:{}},vt={},Th={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,H){var W=z.length;z.push(H);e:for(;0<W;){var G=W-1>>>1,$=z[G];if(0<a($,H))z[G]=H,z[W]=$,W=G;else break e}}function r(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var H=z[0],W=z.pop();if(W!==H){z[0]=W;e:for(var G=0,$=z.length,be=$>>>1;G<be;){var $e=2*(G+1)-1,_=z[$e],Z=$e+1,ue=z[Z];if(0>a(_,W))Z<$&&0>a(ue,_)?(z[G]=ue,z[Z]=W,G=Z):(z[G]=_,z[$e]=W,G=$e);else if(Z<$&&0>a(ue,W))z[G]=ue,z[Z]=W,G=Z;else break e}}return H}function a(z,H){var W=z.sortIndex-H.sortIndex;return W!==0?W:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],u=[],c=1,h=null,f=3,x=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var H=r(u);H!==null;){if(H.callback===null)s(u);else if(H.startTime<=z)s(u),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(u)}}function k(z){if(y=!1,v(z),!p)if(r(d)!==null)p=!0,ce(O);else{var H=r(u);H!==null&&Ae(k,H.startTime-z)}}function O(z,H){p=!1,y&&(y=!1,g(C),C=-1),x=!0;var W=f;try{for(v(H),h=r(d);h!==null&&(!(h.expirationTime>H)||z&&!L());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var $=G(h.expirationTime<=H);H=e.unstable_now(),typeof $=="function"?h.callback=$:h===r(d)&&s(d),v(H)}else s(d);h=r(d)}if(h!==null)var be=!0;else{var $e=r(u);$e!==null&&Ae(k,$e.startTime-H),be=!1}return be}finally{h=null,f=W,x=!1}}var N=!1,E=null,C=-1,A=5,T=-1;function L(){return!(e.unstable_now()-T<A)}function V(){if(E!==null){var z=e.unstable_now();T=z;var H=!0;try{H=E(!0,z)}finally{H?K():(N=!1,E=null)}}else N=!1}var K;if(typeof m=="function")K=function(){m(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ne=se.port2;se.port1.onmessage=V,K=function(){ne.postMessage(null)}}else K=function(){b(V,0)};function ce(z){E=z,N||(N=!0,K())}function Ae(z,H){C=b(function(){z(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||x||(p=!0,ce(O))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var W=f;f=H;try{return z()}finally{f=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=f;f=z;try{return H()}finally{f=W}},e.unstable_scheduleCallback=function(z,H,W){var G=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=W+$,z={id:c++,callback:H,priorityLevel:z,startTime:W,expirationTime:$,sortIndex:-1},W>G?(z.sortIndex=W,t(u,z),r(d)===null&&z===r(u)&&(y?(g(C),C=-1):y=!0,Ae(k,W-G))):(z.sortIndex=$,t(d,z),p||x||(p=!0,ce(O))),z},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(z){var H=f;return function(){var W=f;f=H;try{return z.apply(this,arguments)}finally{f=W}}}})(Oh);Th.exports=Oh;var Mp=Th.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp=w,yt=Mp;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ah=new Set,oa={};function _s(e,t){yn(e,t),yn(e+"Capture",t)}function yn(e,t){for(oa[e]=t,e=0;e<t.length;e++)Ah.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=Object.prototype.hasOwnProperty,Dp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ou={},du={};function Fp(e){return ko.call(du,e)?!0:ko.call(ou,e)?!1:Dp.test(e)?du[e]=!0:(ou[e]=!0,!1)}function Up(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $p(e,t,r,s){if(t===null||typeof t>"u"||Up(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,s,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qd=/[\-:]([a-z])/g;function Hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qd,Hd);Ue[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qd,Hd);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qd,Hd);Ue[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qd(e,t,r,s){var a=Ue.hasOwnProperty(t)?Ue[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($p(t,r,a,s)&&(r=null),s||a===null?Fp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var yr=zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),Vd=Symbol.for("react.strict_mode"),jo=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),_h=Symbol.for("react.context"),Wd=Symbol.for("react.forward_ref"),No=Symbol.for("react.suspense"),So=Symbol.for("react.suspense_list"),Kd=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),Lh=Symbol.for("react.offscreen"),cu=Symbol.iterator;function Dn(e){return e===null||typeof e!="object"?null:(e=cu&&e[cu]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Qi;function Wn(e){if(Qi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qi=t&&t[1]||""}return`
`+Qi+e}var Vi=!1;function Wi(e,t){if(!e||Vi)return"";Vi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=s.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{Vi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wn(e):""}function Bp(e){switch(e.tag){case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 2:case 15:return e=Wi(e.type,!1),e;case 11:return e=Wi(e.type.render,!1),e;case 1:return e=Wi(e.type,!0),e;default:return""}}function Co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Us:return"Fragment";case Fs:return"Portal";case jo:return"Profiler";case Vd:return"StrictMode";case No:return"Suspense";case So:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _h:return(e.displayName||"Context")+".Consumer";case Rh:return(e._context.displayName||"Context")+".Provider";case Wd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kd:return t=e.displayName||null,t!==null?t:Co(e.type)||"Memo";case wr:t=e._payload,e=e._init;try{return Co(e(t))}catch{}}return null}function qp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Co(t);case 8:return t===Vd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hp(e){var t=Ih(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=Hp(e))}function Mh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Ih(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eo(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uu(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Wr(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zh(e,t){t=t.checked,t!=null&&Qd(e,"checked",t,!1)}function Po(e,t){zh(e,t);var r=Wr(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?To(e,t.type,r):t.hasOwnProperty("defaultValue")&&To(e,t.type,Wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function To(e,t,r){(t!=="number"||Ml(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kn=Array.isArray;function Ys(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Wr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Oo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Kn(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wr(r)}}function Dh(e,t){var r=Wr(t.value),s=Wr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function mu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sl,Uh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function da(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qp=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(e){Qp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xn[t]=Xn[e]})});function $h(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xn.hasOwnProperty(e)&&Xn[e]?(""+t).trim():t+"px"}function Bh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=$h(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var Vp=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(e,t){if(t){if(Vp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function _o(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=null;function Jd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Io=null,Xs=null,Zs=null;function gu(e){if(e=$a(e)){if(typeof Io!="function")throw Error(I(280));var t=e.stateNode;t&&(t=pi(t),Io(e.stateNode,e.type,t))}}function qh(e){Xs?Zs?Zs.push(e):Zs=[e]:Xs=e}function Hh(){if(Xs){var e=Xs,t=Zs;if(Zs=Xs=null,gu(e),t)for(e=0;e<t.length;e++)gu(t[e])}}function Qh(e,t){return e(t)}function Vh(){}var Ki=!1;function Wh(e,t,r){if(Ki)return e(t,r);Ki=!0;try{return Qh(e,t,r)}finally{Ki=!1,(Xs!==null||Zs!==null)&&(Vh(),Hh())}}function ca(e,t){var r=e.stateNode;if(r===null)return null;var s=pi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Mo=!1;if(mr)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Mo=!1}function Wp(e,t,r,s,a,l,i,o,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Zn=!1,zl=null,Dl=!1,zo=null,Kp={onError:function(e){Zn=!0,zl=e}};function Jp(e,t,r,s,a,l,i,o,d){Zn=!1,zl=null,Wp.apply(Kp,arguments)}function Gp(e,t,r,s,a,l,i,o,d){if(Jp.apply(this,arguments),Zn){if(Zn){var u=zl;Zn=!1,zl=null}else throw Error(I(198));Dl||(Dl=!0,zo=u)}}function Ls(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Kh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pu(e){if(Ls(e)!==e)throw Error(I(188))}function Yp(e){var t=e.alternate;if(!t){if(t=Ls(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return pu(a),e;if(l===s)return pu(a),t;l=l.sibling}throw Error(I(188))}if(r.return!==s.return)r=a,s=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,s=l;break}if(o===s){i=!0,s=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,s=a;break}if(o===s){i=!0,s=l,r=a;break}o=o.sibling}if(!i)throw Error(I(189))}}if(r.alternate!==s)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Jh(e){return e=Yp(e),e!==null?Gh(e):null}function Gh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gh(e);if(t!==null)return t;e=e.sibling}return null}var Yh=yt.unstable_scheduleCallback,xu=yt.unstable_cancelCallback,Xp=yt.unstable_shouldYield,Zp=yt.unstable_requestPaint,we=yt.unstable_now,ex=yt.unstable_getCurrentPriorityLevel,Gd=yt.unstable_ImmediatePriority,Xh=yt.unstable_UserBlockingPriority,Fl=yt.unstable_NormalPriority,tx=yt.unstable_LowPriority,Zh=yt.unstable_IdlePriority,hi=null,Yt=null;function rx(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(hi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:ax,sx=Math.log,nx=Math.LN2;function ax(e){return e>>>=0,e===0?32:31-(sx(e)/nx|0)|0}var nl=64,al=4194304;function Jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ul(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?s=Jn(o):(l&=i,l!==0&&(s=Jn(l)))}else i=r&~a,i!==0?s=Jn(i):l!==0&&(s=Jn(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ft(t),a=1<<r,s|=e[r],t&=~a;return s}function lx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ix(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Ft(l),o=1<<i,d=a[i];d===-1?(!(o&r)||o&s)&&(a[i]=lx(o,t)):d<=t&&(e.expiredLanes|=o),l&=~o}}function Do(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ef(){var e=nl;return nl<<=1,!(nl&4194240)&&(nl=64),e}function Ji(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=r}function ox(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ft(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function Yd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ft(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var ie=0;function tf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rf,Xd,sf,nf,af,Fo=!1,ll=[],zr=null,Dr=null,Fr=null,ua=new Map,ha=new Map,jr=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(t.pointerId)}}function Un(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=$a(t),t!==null&&Xd(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function cx(e,t,r,s,a){switch(t){case"focusin":return zr=Un(zr,e,t,r,s,a),!0;case"dragenter":return Dr=Un(Dr,e,t,r,s,a),!0;case"mouseover":return Fr=Un(Fr,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return ua.set(l,Un(ua.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,ha.set(l,Un(ha.get(l)||null,e,t,r,s,a)),!0}return!1}function lf(e){var t=as(e.target);if(t!==null){var r=Ls(t);if(r!==null){if(t=r.tag,t===13){if(t=Kh(r),t!==null){e.blockedOn=t,af(e.priority,function(){sf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Lo=s,r.target.dispatchEvent(s),Lo=null}else return t=$a(r),t!==null&&Xd(t),e.blockedOn=r,!1;t.shift()}return!0}function vu(e,t,r){wl(e)&&r.delete(t)}function ux(){Fo=!1,zr!==null&&wl(zr)&&(zr=null),Dr!==null&&wl(Dr)&&(Dr=null),Fr!==null&&wl(Fr)&&(Fr=null),ua.forEach(vu),ha.forEach(vu)}function $n(e,t){e.blockedOn===t&&(e.blockedOn=null,Fo||(Fo=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,ux)))}function fa(e){function t(a){return $n(a,e)}if(0<ll.length){$n(ll[0],e);for(var r=1;r<ll.length;r++){var s=ll[r];s.blockedOn===e&&(s.blockedOn=null)}}for(zr!==null&&$n(zr,e),Dr!==null&&$n(Dr,e),Fr!==null&&$n(Fr,e),ua.forEach(t),ha.forEach(t),r=0;r<jr.length;r++)s=jr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<jr.length&&(r=jr[0],r.blockedOn===null);)lf(r),r.blockedOn===null&&jr.shift()}var en=yr.ReactCurrentBatchConfig,$l=!0;function hx(e,t,r,s){var a=ie,l=en.transition;en.transition=null;try{ie=1,Zd(e,t,r,s)}finally{ie=a,en.transition=l}}function fx(e,t,r,s){var a=ie,l=en.transition;en.transition=null;try{ie=4,Zd(e,t,r,s)}finally{ie=a,en.transition=l}}function Zd(e,t,r,s){if($l){var a=Uo(e,t,r,s);if(a===null)ao(e,t,s,Bl,r),yu(e,s);else if(cx(a,e,t,r,s))s.stopPropagation();else if(yu(e,s),t&4&&-1<dx.indexOf(e)){for(;a!==null;){var l=$a(a);if(l!==null&&rf(l),l=Uo(e,t,r,s),l===null&&ao(e,t,s,Bl,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else ao(e,t,s,null,r)}}var Bl=null;function Uo(e,t,r,s){if(Bl=null,e=Jd(s),e=as(e),e!==null)if(t=Ls(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Kh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bl=e,null}function of(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ex()){case Gd:return 1;case Xh:return 4;case Fl:case tx:return 16;case Zh:return 536870912;default:return 16}default:return 16}}var Lr=null,ec=null,kl=null;function df(){if(kl)return kl;var e,t=ec,r=t.length,s,a="value"in Lr?Lr.value:Lr.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===a[l-s];s++);return kl=a.slice(e,1<s?1-s:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function bu(){return!1}function bt(e){function t(r,s,a,l,i){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?il:bu,this.isPropagationStopped=bu,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=bt(On),Ua=xe({},On,{view:0,detail:0}),mx=bt(Ua),Gi,Yi,Bn,fi=xe({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bn&&(Bn&&e.type==="mousemove"?(Gi=e.screenX-Bn.screenX,Yi=e.screenY-Bn.screenY):Yi=Gi=0,Bn=e),Gi)},movementY:function(e){return"movementY"in e?e.movementY:Yi}}),wu=bt(fi),gx=xe({},fi,{dataTransfer:0}),px=bt(gx),xx=xe({},Ua,{relatedTarget:0}),Xi=bt(xx),yx=xe({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),vx=bt(yx),bx=xe({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wx=bt(bx),kx=xe({},On,{data:0}),ku=bt(kx),jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sx[e])?!!t[e]:!1}function rc(){return Cx}var Ex=xe({},Ua,{key:function(e){if(e.key){var t=jx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Px=bt(Ex),Tx=xe({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=bt(Tx),Ox=xe({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),Ax=bt(Ox),Rx=xe({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),_x=bt(Rx),Lx=xe({},fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ix=bt(Lx),Mx=[9,13,27,32],sc=mr&&"CompositionEvent"in window,ea=null;mr&&"documentMode"in document&&(ea=document.documentMode);var zx=mr&&"TextEvent"in window&&!ea,cf=mr&&(!sc||ea&&8<ea&&11>=ea),Nu=" ",Su=!1;function uf(e,t){switch(e){case"keyup":return Mx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $s=!1;function Dx(e,t){switch(e){case"compositionend":return hf(t);case"keypress":return t.which!==32?null:(Su=!0,Nu);case"textInput":return e=t.data,e===Nu&&Su?null:e;default:return null}}function Fx(e,t){if($s)return e==="compositionend"||!sc&&uf(e,t)?(e=df(),kl=ec=Lr=null,$s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cf&&t.locale!=="ko"?null:t.data;default:return null}}var Ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ux[e.type]:t==="textarea"}function ff(e,t,r,s){qh(s),t=ql(t,"onChange"),0<t.length&&(r=new tc("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var ta=null,ma=null;function $x(e){Nf(e,0)}function mi(e){var t=Hs(e);if(Mh(t))return e}function Bx(e,t){if(e==="change")return t}var mf=!1;if(mr){var Zi;if(mr){var eo="oninput"in document;if(!eo){var Eu=document.createElement("div");Eu.setAttribute("oninput","return;"),eo=typeof Eu.oninput=="function"}Zi=eo}else Zi=!1;mf=Zi&&(!document.documentMode||9<document.documentMode)}function Pu(){ta&&(ta.detachEvent("onpropertychange",gf),ma=ta=null)}function gf(e){if(e.propertyName==="value"&&mi(ma)){var t=[];ff(t,ma,e,Jd(e)),Wh($x,t)}}function qx(e,t,r){e==="focusin"?(Pu(),ta=t,ma=r,ta.attachEvent("onpropertychange",gf)):e==="focusout"&&Pu()}function Hx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mi(ma)}function Qx(e,t){if(e==="click")return mi(t)}function Vx(e,t){if(e==="input"||e==="change")return mi(t)}function Wx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Wx;function ga(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!ko.call(t,a)||!$t(e[a],t[a]))return!1}return!0}function Tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ou(e,t){var r=Tu(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tu(r)}}function pf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xf(){for(var e=window,t=Ml();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ml(e.document)}return t}function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kx(e){var t=xf(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pf(r.ownerDocument.documentElement,r)){if(s!==null&&nc(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=Ou(r,l);var i=Ou(r,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jx=mr&&"documentMode"in document&&11>=document.documentMode,Bs=null,$o=null,ra=null,Bo=!1;function Au(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bo||Bs==null||Bs!==Ml(s)||(s=Bs,"selectionStart"in s&&nc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ra&&ga(ra,s)||(ra=s,s=ql($o,"onSelect"),0<s.length&&(t=new tc("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Bs)))}function ol(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qs={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},to={},yf={};mr&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function gi(e){if(to[e])return to[e];if(!qs[e])return e;var t=qs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yf)return to[e]=t[r];return e}var vf=gi("animationend"),bf=gi("animationiteration"),wf=gi("animationstart"),kf=gi("transitionend"),jf=new Map,Ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(e,t){jf.set(e,t),_s(t,[e])}for(var ro=0;ro<Ru.length;ro++){var so=Ru[ro],Gx=so.toLowerCase(),Yx=so[0].toUpperCase()+so.slice(1);Gr(Gx,"on"+Yx)}Gr(vf,"onAnimationEnd");Gr(bf,"onAnimationIteration");Gr(wf,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(kf,"onTransitionEnd");yn("onMouseEnter",["mouseout","mouseover"]);yn("onMouseLeave",["mouseout","mouseover"]);yn("onPointerEnter",["pointerout","pointerover"]);yn("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gn));function _u(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Gp(s,t,void 0,e),e.currentTarget=null}function Nf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],d=o.instance,u=o.currentTarget;if(o=o.listener,d!==l&&a.isPropagationStopped())break e;_u(a,o,u),l=d}else for(i=0;i<s.length;i++){if(o=s[i],d=o.instance,u=o.currentTarget,o=o.listener,d!==l&&a.isPropagationStopped())break e;_u(a,o,u),l=d}}}if(Dl)throw e=zo,Dl=!1,zo=null,e}function he(e,t){var r=t[Wo];r===void 0&&(r=t[Wo]=new Set);var s=e+"__bubble";r.has(s)||(Sf(t,e,2,!1),r.add(s))}function no(e,t,r){var s=0;t&&(s|=4),Sf(r,e,s,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function pa(e){if(!e[dl]){e[dl]=!0,Ah.forEach(function(r){r!=="selectionchange"&&(Xx.has(r)||no(r,!1,e),no(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,no("selectionchange",!1,t))}}function Sf(e,t,r,s){switch(of(t)){case 1:var a=hx;break;case 4:a=fx;break;default:a=Zd}r=a.bind(null,t,r,e),a=void 0,!Mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ao(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;o!==null;){if(i=as(o),i===null)return;if(d=i.tag,d===5||d===6){s=l=i;continue e}o=o.parentNode}}s=s.return}Wh(function(){var u=l,c=Jd(r),h=[];e:{var f=jf.get(e);if(f!==void 0){var x=tc,p=e;switch(e){case"keypress":if(jl(r)===0)break e;case"keydown":case"keyup":x=Px;break;case"focusin":p="focus",x=Xi;break;case"focusout":p="blur",x=Xi;break;case"beforeblur":case"afterblur":x=Xi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ax;break;case vf:case bf:case wf:x=vx;break;case kf:x=_x;break;case"scroll":x=mx;break;case"wheel":x=Ix;break;case"copy":case"cut":case"paste":x=wx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ju}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,v;m!==null;){v=m;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,g!==null&&(k=ca(m,g),k!=null&&y.push(xa(m,k,v)))),b)break;m=m.return}0<y.length&&(f=new x(f,p,null,r,c),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&r!==Lo&&(p=r.relatedTarget||r.fromElement)&&(as(p)||p[gr]))break e;if((x||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,x?(p=r.relatedTarget||r.toElement,x=u,p=p?as(p):null,p!==null&&(b=Ls(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(x=null,p=u),x!==p)){if(y=wu,k="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=ju,k="onPointerLeave",g="onPointerEnter",m="pointer"),b=x==null?f:Hs(x),v=p==null?f:Hs(p),f=new y(k,m+"leave",x,r,c),f.target=b,f.relatedTarget=v,k=null,as(c)===u&&(y=new y(g,m+"enter",p,r,c),y.target=v,y.relatedTarget=b,k=y),b=k,x&&p)t:{for(y=x,g=p,m=0,v=y;v;v=zs(v))m++;for(v=0,k=g;k;k=zs(k))v++;for(;0<m-v;)y=zs(y),m--;for(;0<v-m;)g=zs(g),v--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=zs(y),g=zs(g)}y=null}else y=null;x!==null&&Lu(h,f,x,y,!1),p!==null&&b!==null&&Lu(h,b,p,y,!0)}}e:{if(f=u?Hs(u):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var O=Bx;else if(Cu(f))if(mf)O=Vx;else{O=Hx;var N=qx}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=Qx);if(O&&(O=O(e,u))){ff(h,O,r,c);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&To(f,"number",f.value)}switch(N=u?Hs(u):window,e){case"focusin":(Cu(N)||N.contentEditable==="true")&&(Bs=N,$o=u,ra=null);break;case"focusout":ra=$o=Bs=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,Au(h,r,c);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":Au(h,r,c)}var E;if(sc)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else $s?uf(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(cf&&r.locale!=="ko"&&($s||C!=="onCompositionStart"?C==="onCompositionEnd"&&$s&&(E=df()):(Lr=c,ec="value"in Lr?Lr.value:Lr.textContent,$s=!0)),N=ql(u,C),0<N.length&&(C=new ku(C,e,null,r,c),h.push({event:C,listeners:N}),E?C.data=E:(E=hf(r),E!==null&&(C.data=E)))),(E=zx?Dx(e,r):Fx(e,r))&&(u=ql(u,"onBeforeInput"),0<u.length&&(c=new ku("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=E))}Nf(h,t)})}function xa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ql(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=ca(e,r),l!=null&&s.unshift(xa(e,l,a)),l=ca(e,t),l!=null&&s.push(xa(e,l,a))),e=e.return}return s}function zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lu(e,t,r,s,a){for(var l=t._reactName,i=[];r!==null&&r!==s;){var o=r,d=o.alternate,u=o.stateNode;if(d!==null&&d===s)break;o.tag===5&&u!==null&&(o=u,a?(d=ca(r,l),d!=null&&i.unshift(xa(r,d,o))):a||(d=ca(r,l),d!=null&&i.push(xa(r,d,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Zx=/\r\n?/g,ey=/\u0000|\uFFFD/g;function Iu(e){return(typeof e=="string"?e:""+e).replace(Zx,`
`).replace(ey,"")}function cl(e,t,r){if(t=Iu(t),Iu(e)!==t&&r)throw Error(I(425))}function Hl(){}var qo=null,Ho=null;function Qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,ty=typeof clearTimeout=="function"?clearTimeout:void 0,Mu=typeof Promise=="function"?Promise:void 0,ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Mu<"u"?function(e){return Mu.resolve(null).then(e).catch(sy)}:Vo;function sy(e){setTimeout(function(){throw e})}function lo(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),fa(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);fa(t)}function Ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),Gt="__reactFiber$"+An,ya="__reactProps$"+An,gr="__reactContainer$"+An,Wo="__reactEvents$"+An,ny="__reactListeners$"+An,ay="__reactHandles$"+An;function as(e){var t=e[Gt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gr]||r[Gt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zu(e);e!==null;){if(r=e[Gt])return r;e=zu(e)}return t}e=r,r=e.parentNode}return null}function $a(e){return e=e[Gt]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function pi(e){return e[ya]||null}var Ko=[],Qs=-1;function Yr(e){return{current:e}}function fe(e){0>Qs||(e.current=Ko[Qs],Ko[Qs]=null,Qs--)}function de(e,t){Qs++,Ko[Qs]=e.current,e.current=t}var Kr={},We=Yr(Kr),ot=Yr(!1),ks=Kr;function vn(e,t){var r=e.type.contextTypes;if(!r)return Kr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dt(e){return e=e.childContextTypes,e!=null}function Ql(){fe(ot),fe(We)}function Du(e,t,r){if(We.current!==Kr)throw Error(I(168));de(We,t),de(ot,r)}function Cf(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(I(108,qp(e)||"Unknown",a));return xe({},r,s)}function Vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,ks=We.current,de(We,e),de(ot,ot.current),!0}function Fu(e,t,r){var s=e.stateNode;if(!s)throw Error(I(169));r?(e=Cf(e,t,ks),s.__reactInternalMemoizedMergedChildContext=e,fe(ot),fe(We),de(We,e)):fe(ot),de(ot,r)}var nr=null,xi=!1,io=!1;function Ef(e){nr===null?nr=[e]:nr.push(e)}function ly(e){xi=!0,Ef(e)}function Xr(){if(!io&&nr!==null){io=!0;var e=0,t=ie;try{var r=nr;for(ie=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}nr=null,xi=!1}catch(a){throw nr!==null&&(nr=nr.slice(e+1)),Yh(Gd,Xr),a}finally{ie=t,io=!1}}return null}var Vs=[],Ws=0,Wl=null,Kl=0,Nt=[],St=0,js=null,dr=1,cr="";function ss(e,t){Vs[Ws++]=Kl,Vs[Ws++]=Wl,Wl=e,Kl=t}function Pf(e,t,r){Nt[St++]=dr,Nt[St++]=cr,Nt[St++]=js,js=e;var s=dr;e=cr;var a=32-Ft(s)-1;s&=~(1<<a),r+=1;var l=32-Ft(t)+a;if(30<l){var i=a-a%5;l=(s&(1<<i)-1).toString(32),s>>=i,a-=i,dr=1<<32-Ft(t)+a|r<<a|s,cr=l+e}else dr=1<<l|r<<a|s,cr=e}function ac(e){e.return!==null&&(ss(e,1),Pf(e,1,0))}function lc(e){for(;e===Wl;)Wl=Vs[--Ws],Vs[Ws]=null,Kl=Vs[--Ws],Vs[Ws]=null;for(;e===js;)js=Nt[--St],Nt[St]=null,cr=Nt[--St],Nt[St]=null,dr=Nt[--St],Nt[St]=null}var xt=null,pt=null,me=!1,zt=null;function Tf(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,pt=Ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=js!==null?{id:dr,overflow:cr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,pt=null,!0):!1;default:return!1}}function Jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Go(e){if(me){var t=pt;if(t){var r=t;if(!Uu(e,t)){if(Jo(e))throw Error(I(418));t=Ur(r.nextSibling);var s=xt;t&&Uu(e,t)?Tf(s,r):(e.flags=e.flags&-4097|2,me=!1,xt=e)}}else{if(Jo(e))throw Error(I(418));e.flags=e.flags&-4097|2,me=!1,xt=e}}}function $u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function ul(e){if(e!==xt)return!1;if(!me)return $u(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qo(e.type,e.memoizedProps)),t&&(t=pt)){if(Jo(e))throw Of(),Error(I(418));for(;t;)Tf(e,t),t=Ur(t.nextSibling)}if($u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pt=Ur(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=xt?Ur(e.stateNode.nextSibling):null;return!0}function Of(){for(var e=pt;e;)e=Ur(e.nextSibling)}function bn(){pt=xt=null,me=!1}function ic(e){zt===null?zt=[e]:zt.push(e)}var iy=yr.ReactCurrentBatchConfig;function qn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var s=r.stateNode}if(!s)throw Error(I(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function hl(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bu(e){var t=e._init;return t(e._payload)}function Af(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function s(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function a(g,m){return g=Hr(g,m),g.index=0,g.sibling=null,g}function l(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,m,v,k){return m===null||m.tag!==6?(m=go(v,g.mode,k),m.return=g,m):(m=a(m,v),m.return=g,m)}function d(g,m,v,k){var O=v.type;return O===Us?c(g,m,v.props.children,k,v.key):m!==null&&(m.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===wr&&Bu(O)===m.type)?(k=a(m,v.props),k.ref=qn(g,m,v),k.return=g,k):(k=Ol(v.type,v.key,v.props,null,g.mode,k),k.ref=qn(g,m,v),k.return=g,k)}function u(g,m,v,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=po(v,g.mode,k),m.return=g,m):(m=a(m,v.children||[]),m.return=g,m)}function c(g,m,v,k,O){return m===null||m.tag!==7?(m=bs(v,g.mode,k,O),m.return=g,m):(m=a(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=go(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case tl:return v=Ol(m.type,m.key,m.props,null,g.mode,v),v.ref=qn(g,null,m),v.return=g,v;case Fs:return m=po(m,g.mode,v),m.return=g,m;case wr:var k=m._init;return h(g,k(m._payload),v)}if(Kn(m)||Dn(m))return m=bs(m,g.mode,v,null),m.return=g,m;hl(g,m)}return null}function f(g,m,v,k){var O=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return O!==null?null:o(g,m,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tl:return v.key===O?d(g,m,v,k):null;case Fs:return v.key===O?u(g,m,v,k):null;case wr:return O=v._init,f(g,m,O(v._payload),k)}if(Kn(v)||Dn(v))return O!==null?null:c(g,m,v,k,null);hl(g,v)}return null}function x(g,m,v,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(v)||null,o(m,g,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case tl:return g=g.get(k.key===null?v:k.key)||null,d(m,g,k,O);case Fs:return g=g.get(k.key===null?v:k.key)||null,u(m,g,k,O);case wr:var N=k._init;return x(g,m,v,N(k._payload),O)}if(Kn(k)||Dn(k))return g=g.get(v)||null,c(m,g,k,O,null);hl(m,k)}return null}function p(g,m,v,k){for(var O=null,N=null,E=m,C=m=0,A=null;E!==null&&C<v.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var T=f(g,E,v[C],k);if(T===null){E===null&&(E=A);break}e&&E&&T.alternate===null&&t(g,E),m=l(T,m,C),N===null?O=T:N.sibling=T,N=T,E=A}if(C===v.length)return r(g,E),me&&ss(g,C),O;if(E===null){for(;C<v.length;C++)E=h(g,v[C],k),E!==null&&(m=l(E,m,C),N===null?O=E:N.sibling=E,N=E);return me&&ss(g,C),O}for(E=s(g,E);C<v.length;C++)A=x(E,g,C,v[C],k),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),m=l(A,m,C),N===null?O=A:N.sibling=A,N=A);return e&&E.forEach(function(L){return t(g,L)}),me&&ss(g,C),O}function y(g,m,v,k){var O=Dn(v);if(typeof O!="function")throw Error(I(150));if(v=O.call(v),v==null)throw Error(I(151));for(var N=O=null,E=m,C=m=0,A=null,T=v.next();E!==null&&!T.done;C++,T=v.next()){E.index>C?(A=E,E=null):A=E.sibling;var L=f(g,E,T.value,k);if(L===null){E===null&&(E=A);break}e&&E&&L.alternate===null&&t(g,E),m=l(L,m,C),N===null?O=L:N.sibling=L,N=L,E=A}if(T.done)return r(g,E),me&&ss(g,C),O;if(E===null){for(;!T.done;C++,T=v.next())T=h(g,T.value,k),T!==null&&(m=l(T,m,C),N===null?O=T:N.sibling=T,N=T);return me&&ss(g,C),O}for(E=s(g,E);!T.done;C++,T=v.next())T=x(E,g,C,T.value,k),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?C:T.key),m=l(T,m,C),N===null?O=T:N.sibling=T,N=T);return e&&E.forEach(function(V){return t(g,V)}),me&&ss(g,C),O}function b(g,m,v,k){if(typeof v=="object"&&v!==null&&v.type===Us&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case tl:e:{for(var O=v.key,N=m;N!==null;){if(N.key===O){if(O=v.type,O===Us){if(N.tag===7){r(g,N.sibling),m=a(N,v.props.children),m.return=g,g=m;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===wr&&Bu(O)===N.type){r(g,N.sibling),m=a(N,v.props),m.ref=qn(g,N,v),m.return=g,g=m;break e}r(g,N);break}else t(g,N);N=N.sibling}v.type===Us?(m=bs(v.props.children,g.mode,k,v.key),m.return=g,g=m):(k=Ol(v.type,v.key,v.props,null,g.mode,k),k.ref=qn(g,m,v),k.return=g,g=k)}return i(g);case Fs:e:{for(N=v.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(g,m.sibling),m=a(m,v.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=po(v,g.mode,k),m.return=g,g=m}return i(g);case wr:return N=v._init,b(g,m,N(v._payload),k)}if(Kn(v))return p(g,m,v,k);if(Dn(v))return y(g,m,v,k);hl(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(g,m.sibling),m=a(m,v),m.return=g,g=m):(r(g,m),m=go(v,g.mode,k),m.return=g,g=m),i(g)):r(g,m)}return b}var wn=Af(!0),Rf=Af(!1),Jl=Yr(null),Gl=null,Ks=null,oc=null;function dc(){oc=Ks=Gl=null}function cc(e){var t=Jl.current;fe(Jl),e._currentValue=t}function Yo(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function tn(e,t){Gl=e,oc=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(oc!==e)if(e={context:e,memoizedValue:t,next:null},Ks===null){if(Gl===null)throw Error(I(308));Ks=e,Gl.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return t}var ls=null;function uc(e){ls===null?ls=[e]:ls.push(e)}function _f(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,uc(t)):(r.next=a.next,a.next=r),t.interleaved=r,pr(e,s)}function pr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kr=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $r(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ae&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,pr(e,r)}return a=s.interleaved,a===null?(t.next=t,uc(s)):(t.next=a.next,a.next=t),s.interleaved=t,pr(e,r)}function Nl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Yd(e,r)}}function qu(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yl(e,t,r,s){var a=e.updateQueue;kr=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,u=d.next;d.next=null,i===null?l=u:i.next=u,i=d;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==i&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=d))}if(l!==null){var h=a.baseState;i=0,c=u=d=null,o=l;do{var f=o.lane,x=o.eventTime;if((s&f)===f){c!==null&&(c=c.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(f=t,x=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(x,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(x,h,f):p,f==null)break e;h=xe({},h,f);break e;case 2:kr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else x={eventTime:x,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=x,d=h):c=c.next=x,i|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(c===null&&(d=h),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=c,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Ss|=i,e.lanes=i,e.memoizedState=h}}function Hu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(I(191,a));a.call(s)}}}var Ba={},Xt=Yr(Ba),va=Yr(Ba),ba=Yr(Ba);function is(e){if(e===Ba)throw Error(I(174));return e}function fc(e,t){switch(de(ba,t),de(va,e),de(Xt,Ba),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ao(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ao(t,e)}fe(Xt),de(Xt,t)}function kn(){fe(Xt),fe(va),fe(ba)}function If(e){is(ba.current);var t=is(Xt.current),r=Ao(t,e.type);t!==r&&(de(va,e),de(Xt,r))}function mc(e){va.current===e&&(fe(Xt),fe(va))}var ge=Yr(0);function Xl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=[];function gc(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var Sl=yr.ReactCurrentDispatcher,co=yr.ReactCurrentBatchConfig,Ns=0,pe=null,Ce=null,Le=null,Zl=!1,sa=!1,wa=0,oy=0;function Be(){throw Error(I(321))}function pc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$t(e[r],t[r]))return!1;return!0}function xc(e,t,r,s,a,l){if(Ns=l,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sl.current=e===null||e.memoizedState===null?hy:fy,e=r(s,a),sa){l=0;do{if(sa=!1,wa=0,25<=l)throw Error(I(301));l+=1,Le=Ce=null,t.updateQueue=null,Sl.current=my,e=r(s,a)}while(sa)}if(Sl.current=ei,t=Ce!==null&&Ce.next!==null,Ns=0,Le=Ce=pe=null,Zl=!1,t)throw Error(I(300));return e}function yc(){var e=wa!==0;return wa=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?pe.memoizedState=Le=e:Le=Le.next=e,Le}function Tt(){if(Ce===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Le===null?pe.memoizedState:Le.next;if(t!==null)Le=t,Ce=e;else{if(e===null)throw Error(I(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Le===null?pe.memoizedState=Le=e:Le=Le.next=e}return Le}function ka(e,t){return typeof t=="function"?t(e):t}function uo(e){var t=Tt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var s=Ce,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var o=i=null,d=null,u=l;do{var c=u.lane;if((Ns&c)===c)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(o=d=h,i=s):d=d.next=h,pe.lanes|=c,Ss|=c}u=u.next}while(u!==null&&u!==l);d===null?i=s:d.next=o,$t(s,t.memoizedState)||(it=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=d,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,pe.lanes|=l,Ss|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ho(e){var t=Tt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);$t(l,t.memoizedState)||(it=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function Mf(){}function zf(e,t){var r=pe,s=Tt(),a=t(),l=!$t(s.memoizedState,a);if(l&&(s.memoizedState=a,it=!0),s=s.queue,vc(Uf.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,ja(9,Ff.bind(null,r,s,a,t),void 0,null),Ie===null)throw Error(I(349));Ns&30||Df(r,t,a)}return a}function Df(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ff(e,t,r,s){t.value=r,t.getSnapshot=s,$f(t)&&Bf(e)}function Uf(e,t,r){return r(function(){$f(t)&&Bf(e)})}function $f(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$t(e,r)}catch{return!0}}function Bf(e){var t=pr(e,1);t!==null&&Ut(t,e,1,-1)}function Qu(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=uy.bind(null,pe,e),[t.memoizedState,e]}function ja(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function qf(){return Tt().memoizedState}function Cl(e,t,r,s){var a=Vt();pe.flags|=e,a.memoizedState=ja(1|t,r,void 0,s===void 0?null:s)}function yi(e,t,r,s){var a=Tt();s=s===void 0?null:s;var l=void 0;if(Ce!==null){var i=Ce.memoizedState;if(l=i.destroy,s!==null&&pc(s,i.deps)){a.memoizedState=ja(t,r,l,s);return}}pe.flags|=e,a.memoizedState=ja(1|t,r,l,s)}function Vu(e,t){return Cl(8390656,8,e,t)}function vc(e,t){return yi(2048,8,e,t)}function Hf(e,t){return yi(4,2,e,t)}function Qf(e,t){return yi(4,4,e,t)}function Vf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wf(e,t,r){return r=r!=null?r.concat([e]):null,yi(4,4,Vf.bind(null,t,e),r)}function bc(){}function Kf(e,t){var r=Tt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&pc(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Jf(e,t){var r=Tt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&pc(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Gf(e,t,r){return Ns&21?($t(r,t)||(r=ef(),pe.lanes|=r,Ss|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=r)}function dy(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var s=co.transition;co.transition={};try{e(!1),t()}finally{ie=r,co.transition=s}}function Yf(){return Tt().memoizedState}function cy(e,t,r){var s=qr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Xf(e))Zf(t,r);else if(r=_f(e,t,r,s),r!==null){var a=et();Ut(r,e,s,a),em(r,t,s)}}function uy(e,t,r){var s=qr(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xf(e))Zf(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,$t(o,i)){var d=t.interleaved;d===null?(a.next=a,uc(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=_f(e,t,a,s),r!==null&&(a=et(),Ut(r,e,s,a),em(r,t,s))}}function Xf(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Zf(e,t){sa=Zl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function em(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Yd(e,r)}}var ei={readContext:Pt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},hy={readContext:Pt,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Vu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cl(4194308,4,Vf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cl(4,2,e,t)},useMemo:function(e,t){var r=Vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Vt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=cy.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Qu,useDebugValue:bc,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Qu(!1),t=e[0];return e=dy.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=pe,a=Vt();if(me){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ie===null)throw Error(I(349));Ns&30||Df(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Vu(Uf.bind(null,s,l,e),[e]),s.flags|=2048,ja(9,Ff.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=Vt(),t=Ie.identifierPrefix;if(me){var r=cr,s=dr;r=(s&~(1<<32-Ft(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=wa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=oy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fy={readContext:Pt,useCallback:Kf,useContext:Pt,useEffect:vc,useImperativeHandle:Wf,useInsertionEffect:Hf,useLayoutEffect:Qf,useMemo:Jf,useReducer:uo,useRef:qf,useState:function(){return uo(ka)},useDebugValue:bc,useDeferredValue:function(e){var t=Tt();return Gf(t,Ce.memoizedState,e)},useTransition:function(){var e=uo(ka)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Mf,useSyncExternalStore:zf,useId:Yf,unstable_isNewReconciler:!1},my={readContext:Pt,useCallback:Kf,useContext:Pt,useEffect:vc,useImperativeHandle:Wf,useInsertionEffect:Hf,useLayoutEffect:Qf,useMemo:Jf,useReducer:ho,useRef:qf,useState:function(){return ho(ka)},useDebugValue:bc,useDeferredValue:function(e){var t=Tt();return Ce===null?t.memoizedState=e:Gf(t,Ce.memoizedState,e)},useTransition:function(){var e=ho(ka)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Mf,useSyncExternalStore:zf,useId:Yf,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xo(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vi={isMounted:function(e){return(e=e._reactInternals)?Ls(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=et(),a=qr(e),l=hr(s,a);l.payload=t,r!=null&&(l.callback=r),t=$r(e,l,a),t!==null&&(Ut(t,e,a,s),Nl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=et(),a=qr(e),l=hr(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=$r(e,l,a),t!==null&&(Ut(t,e,a,s),Nl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),s=qr(e),a=hr(r,s);a.tag=2,t!=null&&(a.callback=t),t=$r(e,a,s),t!==null&&(Ut(t,e,s,r),Nl(t,e,s))}};function Wu(e,t,r,s,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,i):t.prototype&&t.prototype.isPureReactComponent?!ga(r,s)||!ga(a,l):!0}function tm(e,t,r){var s=!1,a=Kr,l=t.contextType;return typeof l=="object"&&l!==null?l=Pt(l):(a=dt(t)?ks:We.current,s=t.contextTypes,l=(s=s!=null)?vn(e,a):Kr),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ku(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function Zo(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},hc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Pt(l):(l=dt(t)?ks:We.current,a.context=vn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Xo(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&vi.enqueueReplaceState(a,a.state,null),Yl(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function jn(e,t){try{var r="",s=t;do r+=Bp(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function fo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ed(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gy=typeof WeakMap=="function"?WeakMap:Map;function rm(e,t,r){r=hr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ri||(ri=!0,cd=s),ed(e,t)},r}function sm(e,t,r){r=hr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){ed(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){ed(e,t),typeof s!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Ju(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new gy;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Ty.bind(null,e,t,r),t.then(e,e))}function Gu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yu(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hr(-1,1),t.tag=2,$r(r,t,1))),r.lanes|=1),e)}var py=yr.ReactCurrentOwner,it=!1;function Ye(e,t,r,s){t.child=e===null?Rf(t,null,r,s):wn(t,e.child,r,s)}function Xu(e,t,r,s,a){r=r.render;var l=t.ref;return tn(t,a),s=xc(e,t,r,s,l,a),r=yc(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xr(e,t,a)):(me&&r&&ac(t),t.flags|=1,Ye(e,t,s,a),t.child)}function Zu(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!Pc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,nm(e,t,l,s,a)):(e=Ol(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:ga,r(i,s)&&e.ref===t.ref)return xr(e,t,a)}return t.flags|=1,e=Hr(l,s),e.ref=t.ref,e.return=t,t.child=e}function nm(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(ga(l,s)&&e.ref===t.ref)if(it=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,xr(e,t,a)}return td(e,t,r,s,a)}function am(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Gs,gt),gt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Gs,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,de(Gs,gt),gt|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,de(Gs,gt),gt|=s;return Ye(e,t,a,r),t.child}function lm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function td(e,t,r,s,a){var l=dt(r)?ks:We.current;return l=vn(t,l),tn(t,a),r=xc(e,t,r,s,l,a),s=yc(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xr(e,t,a)):(me&&s&&ac(t),t.flags|=1,Ye(e,t,r,a),t.child)}function e0(e,t,r,s,a){if(dt(r)){var l=!0;Vl(t)}else l=!1;if(tn(t,a),t.stateNode===null)El(e,t),tm(t,r,s),Zo(t,r,s,a),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=dt(r)?ks:We.current,u=vn(t,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||d!==u)&&Ku(t,i,s,u),kr=!1;var f=t.memoizedState;i.state=f,Yl(t,s,i,a),d=t.memoizedState,o!==s||f!==d||ot.current||kr?(typeof c=="function"&&(Xo(t,r,c,s),d=t.memoizedState),(o=kr||Wu(t,r,o,s,f,d,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=u,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Lf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:_t(t.type,o),i.props=u,h=t.pendingProps,f=i.context,d=r.contextType,typeof d=="object"&&d!==null?d=Pt(d):(d=dt(r)?ks:We.current,d=vn(t,d));var x=r.getDerivedStateFromProps;(c=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||f!==d)&&Ku(t,i,s,d),kr=!1,f=t.memoizedState,i.state=f,Yl(t,s,i,a);var p=t.memoizedState;o!==h||f!==p||ot.current||kr?(typeof x=="function"&&(Xo(t,r,x,s),p=t.memoizedState),(u=kr||Wu(t,r,u,s,f,p,d)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,p,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,p,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),i.props=s,i.state=p,i.context=d,s=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return rd(e,t,r,s,l,a)}function rd(e,t,r,s,a,l){lm(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&Fu(t,r,!1),xr(e,t,l);s=t.stateNode,py.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=wn(t,e.child,null,l),t.child=wn(t,null,o,l)):Ye(e,t,o,l),t.memoizedState=s.state,a&&Fu(t,r,!0),t.child}function im(e){var t=e.stateNode;t.pendingContext?Du(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Du(e,t.context,!1),fc(e,t.containerInfo)}function t0(e,t,r,s,a){return bn(),ic(a),t.flags|=256,Ye(e,t,r,s),t.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function nd(e){return{baseLanes:e,cachePool:null,transitions:null}}function om(e,t,r){var s=t.pendingProps,a=ge.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),de(ge,a&1),e===null)return Go(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,l?(s=t.mode,l=t.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ki(i,s,0,null),e=bs(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=nd(r),t.memoizedState=sd,e):wc(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return xy(e,t,i,s,o,a,r);if(l){l=s.fallback,i=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Hr(a,d),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Hr(o,l):(l=bs(l,i,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,i=e.child.memoizedState,i=i===null?nd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=sd,s}return l=e.child,e=l.sibling,s=Hr(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function wc(e,t){return t=ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fl(e,t,r,s){return s!==null&&ic(s),wn(t,e.child,null,r),e=wc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xy(e,t,r,s,a,l,i){if(r)return t.flags&256?(t.flags&=-257,s=fo(Error(I(422))),fl(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=ki({mode:"visible",children:s.children},a,0,null),l=bs(l,a,i,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&wn(t,e.child,null,i),t.child.memoizedState=nd(i),t.memoizedState=sd,l);if(!(t.mode&1))return fl(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,l=Error(I(419)),s=fo(l,s,void 0),fl(e,t,i,s)}if(o=(i&e.childLanes)!==0,it||o){if(s=Ie,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,pr(e,a),Ut(s,e,a,-1))}return Ec(),s=fo(Error(I(421))),fl(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Oy.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,pt=Ur(a.nextSibling),xt=t,me=!0,zt=null,e!==null&&(Nt[St++]=dr,Nt[St++]=cr,Nt[St++]=js,dr=e.id,cr=e.overflow,js=t),t=wc(t,s.children),t.flags|=4096,t)}function r0(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yo(e.return,t,r)}function mo(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function dm(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(Ye(e,t,s.children,r),s=ge.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&r0(e,r,t);else if(e.tag===19)r0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(de(ge,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Xl(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),mo(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xl(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}mo(t,!0,r,null,l);break;case"together":mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function El(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ss|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=Hr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yy(e,t,r){switch(t.tag){case 3:im(t),bn();break;case 5:If(t);break;case 1:dt(t.type)&&Vl(t);break;case 4:fc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;de(Jl,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(de(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?om(e,t,r):(de(ge,ge.current&1),e=xr(e,t,r),e!==null?e.sibling:null);de(ge,ge.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return dm(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),de(ge,ge.current),s)break;return null;case 22:case 23:return t.lanes=0,am(e,t,r)}return xr(e,t,r)}var cm,ad,um,hm;cm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ad=function(){};um=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,is(Xt.current);var l=null;switch(r){case"input":a=Eo(e,a),s=Eo(e,s),l=[];break;case"select":a=xe({},a,{value:void 0}),s=xe({},s,{value:void 0}),l=[];break;case"textarea":a=Oo(e,a),s=Oo(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Hl)}Ro(r,s);var i;r=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oa.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in s){var d=s[u];if(o=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&d!==o&&(d!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(r||(r={}),r[i]=d[i])}else r||(l||(l=[]),l.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(l=l||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oa.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&he("scroll",e),l||o===d||(l=[])):(l=l||[]).push(u,d))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};hm=function(e,t,r,s){r!==s&&(t.flags|=4)};function Hn(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function vy(e,t,r){var s=t.pendingProps;switch(lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return dt(t.type)&&Ql(),qe(t),null;case 3:return s=t.stateNode,kn(),fe(ot),fe(We),gc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(fd(zt),zt=null))),ad(e,t),qe(t),null;case 5:mc(t);var a=is(ba.current);if(r=t.type,e!==null&&t.stateNode!=null)um(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return qe(t),null}if(e=is(Xt.current),ul(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[Gt]=t,s[ya]=l,e=(t.mode&1)!==0,r){case"dialog":he("cancel",s),he("close",s);break;case"iframe":case"object":case"embed":he("load",s);break;case"video":case"audio":for(a=0;a<Gn.length;a++)he(Gn[a],s);break;case"source":he("error",s);break;case"img":case"image":case"link":he("error",s),he("load",s);break;case"details":he("toggle",s);break;case"input":uu(s,l),he("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},he("invalid",s);break;case"textarea":fu(s,l),he("invalid",s)}Ro(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?s.textContent!==o&&(l.suppressHydrationWarning!==!0&&cl(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&cl(s.textContent,o,e),a=["children",""+o]):oa.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&he("scroll",s)}switch(r){case"input":rl(s),hu(s,l,!0);break;case"textarea":rl(s),mu(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Hl)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[Gt]=t,e[ya]=s,cm(e,t,!1,!1),t.stateNode=e;e:{switch(i=_o(r,s),r){case"dialog":he("cancel",e),he("close",e),a=s;break;case"iframe":case"object":case"embed":he("load",e),a=s;break;case"video":case"audio":for(a=0;a<Gn.length;a++)he(Gn[a],e);a=s;break;case"source":he("error",e),a=s;break;case"img":case"image":case"link":he("error",e),he("load",e),a=s;break;case"details":he("toggle",e),a=s;break;case"input":uu(e,s),a=Eo(e,s),he("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=xe({},s,{value:void 0}),he("invalid",e);break;case"textarea":fu(e,s),a=Oo(e,s),he("invalid",e);break;default:a=s}Ro(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="style"?Bh(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Uh(e,d)):l==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&da(e,d):typeof d=="number"&&da(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(oa.hasOwnProperty(l)?d!=null&&l==="onScroll"&&he("scroll",e):d!=null&&Qd(e,l,d,i))}switch(r){case"input":rl(e),hu(e,s,!1);break;case"textarea":rl(e),mu(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Wr(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Ys(e,!!s.multiple,l,!1):s.defaultValue!=null&&Ys(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Hl)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)hm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(r=is(ba.current),is(Xt.current),ul(t)){if(s=t.stateNode,r=t.memoizedProps,s[Gt]=t,(l=s.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:cl(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cl(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Gt]=t,t.stateNode=s}return qe(t),null;case 13:if(fe(ge),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&pt!==null&&t.mode&1&&!(t.flags&128))Of(),bn(),t.flags|=98560,l=!1;else if(l=ul(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(I(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[Gt]=t}else bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),l=!1}else zt!==null&&(fd(zt),zt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Pe===0&&(Pe=3):Ec())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return kn(),ad(e,t),e===null&&pa(t.stateNode.containerInfo),qe(t),null;case 10:return cc(t.type._context),qe(t),null;case 17:return dt(t.type)&&Ql(),qe(t),null;case 19:if(fe(ge),l=t.memoizedState,l===null)return qe(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)Hn(l,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Xl(e),i!==null){for(t.flags|=128,Hn(l,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return de(ge,ge.current&1|2),t.child}e=e.sibling}l.tail!==null&&we()>Nn&&(t.flags|=128,s=!0,Hn(l,!1),t.lanes=4194304)}else{if(!s)if(e=Xl(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!me)return qe(t),null}else 2*we()-l.renderingStartTime>Nn&&r!==1073741824&&(t.flags|=128,s=!0,Hn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=we(),t.sibling=null,r=ge.current,de(ge,s?r&1|2:r&1),t):(qe(t),null);case 22:case 23:return Cc(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?gt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function by(e,t){switch(lc(t),t.tag){case 1:return dt(t.type)&&Ql(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(),fe(ot),fe(We),gc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mc(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return kn(),null;case 10:return cc(t.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var ml=!1,He=!1,wy=typeof WeakSet=="function"?WeakSet:Set,U=null;function Js(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ve(e,t,s)}else r.current=null}function ld(e,t,r){try{r()}catch(s){ve(e,t,s)}}var s0=!1;function ky(e,t){if(qo=$l,e=xf(),nc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,d=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var x;h!==r||a!==0&&h.nodeType!==3||(o=i+a),h!==l||s!==0&&h.nodeType!==3||(d=i+s),h.nodeType===3&&(i+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===r&&++u===a&&(o=i),f===l&&++c===s&&(d=i),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}r=o===-1||d===-1?null:{start:o,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ho={focusedElem:e,selectionRange:r},$l=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:_t(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(k){ve(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return p=s0,s0=!1,p}function na(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ld(t,r,l)}a=a.next}while(a!==s)}}function bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function id(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fm(e){var t=e.alternate;t!==null&&(e.alternate=null,fm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[ya],delete t[Wo],delete t[ny],delete t[ay])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mm(e){return e.tag===5||e.tag===3||e.tag===4}function n0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function od(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hl));else if(s!==4&&(e=e.child,e!==null))for(od(e,t,r),e=e.sibling;e!==null;)od(e,t,r),e=e.sibling}function dd(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(dd(e,t,r),e=e.sibling;e!==null;)dd(e,t,r),e=e.sibling}var De=null,Mt=!1;function vr(e,t,r){for(r=r.child;r!==null;)gm(e,t,r),r=r.sibling}function gm(e,t,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(hi,r)}catch{}switch(r.tag){case 5:He||Js(r,t);case 6:var s=De,a=Mt;De=null,vr(e,t,r),De=s,Mt=a,De!==null&&(Mt?(e=De,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):De.removeChild(r.stateNode));break;case 18:De!==null&&(Mt?(e=De,r=r.stateNode,e.nodeType===8?lo(e.parentNode,r):e.nodeType===1&&lo(e,r),fa(e)):lo(De,r.stateNode));break;case 4:s=De,a=Mt,De=r.stateNode.containerInfo,Mt=!0,vr(e,t,r),De=s,Mt=a;break;case 0:case 11:case 14:case 15:if(!He&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&ld(r,t,i),a=a.next}while(a!==s)}vr(e,t,r);break;case 1:if(!He&&(Js(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){ve(r,t,o)}vr(e,t,r);break;case 21:vr(e,t,r);break;case 22:r.mode&1?(He=(s=He)||r.memoizedState!==null,vr(e,t,r),He=s):vr(e,t,r);break;default:vr(e,t,r)}}function a0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wy),t.forEach(function(s){var a=Ay.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function At(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:De=o.stateNode,Mt=!1;break e;case 3:De=o.stateNode.containerInfo,Mt=!0;break e;case 4:De=o.stateNode.containerInfo,Mt=!0;break e}o=o.return}if(De===null)throw Error(I(160));gm(l,i,a),De=null,Mt=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){ve(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pm(t,e),t=t.sibling}function pm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Ht(e),s&4){try{na(3,e,e.return),bi(3,e)}catch(y){ve(e,e.return,y)}try{na(5,e,e.return)}catch(y){ve(e,e.return,y)}}break;case 1:At(t,e),Ht(e),s&512&&r!==null&&Js(r,r.return);break;case 5:if(At(t,e),Ht(e),s&512&&r!==null&&Js(r,r.return),e.flags&32){var a=e.stateNode;try{da(a,"")}catch(y){ve(e,e.return,y)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&zh(a,l),_o(o,i);var u=_o(o,l);for(i=0;i<d.length;i+=2){var c=d[i],h=d[i+1];c==="style"?Bh(a,h):c==="dangerouslySetInnerHTML"?Uh(a,h):c==="children"?da(a,h):Qd(a,c,h,u)}switch(o){case"input":Po(a,l);break;case"textarea":Dh(a,l);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Ys(a,!!l.multiple,x,!1):f!==!!l.multiple&&(l.defaultValue!=null?Ys(a,!!l.multiple,l.defaultValue,!0):Ys(a,!!l.multiple,l.multiple?[]:"",!1))}a[ya]=l}catch(y){ve(e,e.return,y)}}break;case 6:if(At(t,e),Ht(e),s&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(y){ve(e,e.return,y)}}break;case 3:if(At(t,e),Ht(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{fa(t.containerInfo)}catch(y){ve(e,e.return,y)}break;case 4:At(t,e),Ht(e);break;case 13:At(t,e),Ht(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Nc=we())),s&4&&a0(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(He=(u=He)||c,At(t,e),He=u):At(t,e),Ht(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(U=e,c=e.child;c!==null;){for(h=U=c;U!==null;){switch(f=U,x=f.child,f.tag){case 0:case 11:case 14:case 15:na(4,f,f.return);break;case 1:Js(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){ve(s,r,y)}}break;case 5:Js(f,f.return);break;case 22:if(f.memoizedState!==null){i0(h);continue}}x!==null?(x.return=f,U=x):i0(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{a=h.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=h.stateNode,d=h.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=$h("display",i))}catch(y){ve(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){ve(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:At(t,e),Ht(e),s&4&&a0(e);break;case 21:break;default:At(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mm(r)){var s=r;break e}r=r.return}throw Error(I(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(da(a,""),s.flags&=-33);var l=n0(e);dd(e,l,a);break;case 3:case 4:var i=s.stateNode.containerInfo,o=n0(e);od(e,o,i);break;default:throw Error(I(161))}}catch(d){ve(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jy(e,t,r){U=e,xm(e)}function xm(e,t,r){for(var s=(e.mode&1)!==0;U!==null;){var a=U,l=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||ml;if(!i){var o=a.alternate,d=o!==null&&o.memoizedState!==null||He;o=ml;var u=He;if(ml=i,(He=d)&&!u)for(U=a;U!==null;)i=U,d=i.child,i.tag===22&&i.memoizedState!==null?o0(a):d!==null?(d.return=i,U=d):o0(a);for(;l!==null;)U=l,xm(l),l=l.sibling;U=a,ml=o,He=u}l0(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,U=l):l0(e)}}function l0(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||bi(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!He)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:_t(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Hu(t,l,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Hu(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&fa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}He||t.flags&512&&id(t)}catch(f){ve(t,t.return,f)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function i0(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function o0(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bi(4,t)}catch(d){ve(t,r,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){ve(t,a,d)}}var l=t.return;try{id(t)}catch(d){ve(t,l,d)}break;case 5:var i=t.return;try{id(t)}catch(d){ve(t,i,d)}}}catch(d){ve(t,t.return,d)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var Ny=Math.ceil,ti=yr.ReactCurrentDispatcher,kc=yr.ReactCurrentOwner,Et=yr.ReactCurrentBatchConfig,ae=0,Ie=null,Ne=null,Fe=0,gt=0,Gs=Yr(0),Pe=0,Na=null,Ss=0,wi=0,jc=0,aa=null,lt=null,Nc=0,Nn=1/0,sr=null,ri=!1,cd=null,Br=null,gl=!1,Ir=null,si=0,la=0,ud=null,Pl=-1,Tl=0;function et(){return ae&6?we():Pl!==-1?Pl:Pl=we()}function qr(e){return e.mode&1?ae&2&&Fe!==0?Fe&-Fe:iy.transition!==null?(Tl===0&&(Tl=ef()),Tl):(e=ie,e!==0||(e=window.event,e=e===void 0?16:of(e.type)),e):1}function Ut(e,t,r,s){if(50<la)throw la=0,ud=null,Error(I(185));Fa(e,r,s),(!(ae&2)||e!==Ie)&&(e===Ie&&(!(ae&2)&&(wi|=r),Pe===4&&Nr(e,Fe)),ct(e,s),r===1&&ae===0&&!(t.mode&1)&&(Nn=we()+500,xi&&Xr()))}function ct(e,t){var r=e.callbackNode;ix(e,t);var s=Ul(e,e===Ie?Fe:0);if(s===0)r!==null&&xu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&xu(r),t===1)e.tag===0?ly(d0.bind(null,e)):Ef(d0.bind(null,e)),ry(function(){!(ae&6)&&Xr()}),r=null;else{switch(tf(s)){case 1:r=Gd;break;case 4:r=Xh;break;case 16:r=Fl;break;case 536870912:r=Zh;break;default:r=Fl}r=Sm(r,ym.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ym(e,t){if(Pl=-1,Tl=0,ae&6)throw Error(I(327));var r=e.callbackNode;if(rn()&&e.callbackNode!==r)return null;var s=Ul(e,e===Ie?Fe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ni(e,s);else{t=s;var a=ae;ae|=2;var l=bm();(Ie!==e||Fe!==t)&&(sr=null,Nn=we()+500,vs(e,t));do try{Ey();break}catch(o){vm(e,o)}while(!0);dc(),ti.current=l,ae=a,Ne!==null?t=0:(Ie=null,Fe=0,t=Pe)}if(t!==0){if(t===2&&(a=Do(e),a!==0&&(s=a,t=hd(e,a))),t===1)throw r=Na,vs(e,0),Nr(e,s),ct(e,we()),r;if(t===6)Nr(e,s);else{if(a=e.current.alternate,!(s&30)&&!Sy(a)&&(t=ni(e,s),t===2&&(l=Do(e),l!==0&&(s=l,t=hd(e,l))),t===1))throw r=Na,vs(e,0),Nr(e,s),ct(e,we()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:ns(e,lt,sr);break;case 3:if(Nr(e,s),(s&130023424)===s&&(t=Nc+500-we(),10<t)){if(Ul(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){et(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vo(ns.bind(null,e,lt,sr),t);break}ns(e,lt,sr);break;case 4:if(Nr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-Ft(s);l=1<<i,i=t[i],i>a&&(a=i),s&=~l}if(s=a,s=we()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ny(s/1960))-s,10<s){e.timeoutHandle=Vo(ns.bind(null,e,lt,sr),s);break}ns(e,lt,sr);break;case 5:ns(e,lt,sr);break;default:throw Error(I(329))}}}return ct(e,we()),e.callbackNode===r?ym.bind(null,e):null}function hd(e,t){var r=aa;return e.current.memoizedState.isDehydrated&&(vs(e,t).flags|=256),e=ni(e,t),e!==2&&(t=lt,lt=r,t!==null&&fd(t)),e}function fd(e){lt===null?lt=e:lt.push.apply(lt,e)}function Sy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!$t(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~jc,t&=~wi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ft(t),s=1<<r;e[r]=-1,t&=~s}}function d0(e){if(ae&6)throw Error(I(327));rn();var t=Ul(e,0);if(!(t&1))return ct(e,we()),null;var r=ni(e,t);if(e.tag!==0&&r===2){var s=Do(e);s!==0&&(t=s,r=hd(e,s))}if(r===1)throw r=Na,vs(e,0),Nr(e,t),ct(e,we()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ns(e,lt,sr),ct(e,we()),null}function Sc(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(Nn=we()+500,xi&&Xr())}}function Cs(e){Ir!==null&&Ir.tag===0&&!(ae&6)&&rn();var t=ae;ae|=1;var r=Et.transition,s=ie;try{if(Et.transition=null,ie=1,e)return e()}finally{ie=s,Et.transition=r,ae=t,!(ae&6)&&Xr()}}function Cc(){gt=Gs.current,fe(Gs)}function vs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ty(r)),Ne!==null)for(r=Ne.return;r!==null;){var s=r;switch(lc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ql();break;case 3:kn(),fe(ot),fe(We),gc();break;case 5:mc(s);break;case 4:kn();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:cc(s.type._context);break;case 22:case 23:Cc()}r=r.return}if(Ie=e,Ne=e=Hr(e.current,null),Fe=gt=t,Pe=0,Na=null,jc=wi=Ss=0,lt=aa=null,ls!==null){for(t=0;t<ls.length;t++)if(r=ls[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,s.next=i}r.pending=s}ls=null}return e}function vm(e,t){do{var r=Ne;try{if(dc(),Sl.current=ei,Zl){for(var s=pe.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Zl=!1}if(Ns=0,Le=Ce=pe=null,sa=!1,wa=0,kc.current=null,r===null||r.return===null){Pe=1,Na=t,Ne=null;break}e:{var l=e,i=r.return,o=r,d=t;if(t=Fe,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var x=Gu(i);if(x!==null){x.flags&=-257,Yu(x,i,o,l,t),x.mode&1&&Ju(l,u,t),t=x,d=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(d),t.updateQueue=y}else p.add(d);break e}else{if(!(t&1)){Ju(l,u,t),Ec();break e}d=Error(I(426))}}else if(me&&o.mode&1){var b=Gu(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Yu(b,i,o,l,t),ic(jn(d,o));break e}}l=d=jn(d,o),Pe!==4&&(Pe=2),aa===null?aa=[l]:aa.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var g=rm(l,d,t);qu(l,g);break e;case 1:o=d;var m=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Br===null||!Br.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t;var k=sm(l,o,t);qu(l,k);break e}}l=l.return}while(l!==null)}km(r)}catch(O){t=O,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function bm(){var e=ti.current;return ti.current=ei,e===null?ei:e}function Ec(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ie===null||!(Ss&268435455)&&!(wi&268435455)||Nr(Ie,Fe)}function ni(e,t){var r=ae;ae|=2;var s=bm();(Ie!==e||Fe!==t)&&(sr=null,vs(e,t));do try{Cy();break}catch(a){vm(e,a)}while(!0);if(dc(),ae=r,ti.current=s,Ne!==null)throw Error(I(261));return Ie=null,Fe=0,Pe}function Cy(){for(;Ne!==null;)wm(Ne)}function Ey(){for(;Ne!==null&&!Xp();)wm(Ne)}function wm(e){var t=Nm(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?km(e):Ne=t,kc.current=null}function km(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=by(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ne=null;return}}else if(r=vy(r,t,gt),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Pe===0&&(Pe=5)}function ns(e,t,r){var s=ie,a=Et.transition;try{Et.transition=null,ie=1,Py(e,t,r,s)}finally{Et.transition=a,ie=s}return null}function Py(e,t,r,s){do rn();while(Ir!==null);if(ae&6)throw Error(I(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(ox(e,l),e===Ie&&(Ne=Ie=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gl||(gl=!0,Sm(Fl,function(){return rn(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Et.transition,Et.transition=null;var i=ie;ie=1;var o=ae;ae|=4,kc.current=null,ky(e,r),pm(r,e),Kx(Ho),$l=!!qo,Ho=qo=null,e.current=r,jy(r),Zp(),ae=o,ie=i,Et.transition=l}else e.current=r;if(gl&&(gl=!1,Ir=e,si=a),l=e.pendingLanes,l===0&&(Br=null),rx(r.stateNode),ct(e,we()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(ri)throw ri=!1,e=cd,cd=null,e;return si&1&&e.tag!==0&&rn(),l=e.pendingLanes,l&1?e===ud?la++:(la=0,ud=e):la=0,Xr(),null}function rn(){if(Ir!==null){var e=tf(si),t=Et.transition,r=ie;try{if(Et.transition=null,ie=16>e?16:e,Ir===null)var s=!1;else{if(e=Ir,Ir=null,si=0,ae&6)throw Error(I(331));var a=ae;for(ae|=4,U=e.current;U!==null;){var l=U,i=l.child;if(U.flags&16){var o=l.deletions;if(o!==null){for(var d=0;d<o.length;d++){var u=o[d];for(U=u;U!==null;){var c=U;switch(c.tag){case 0:case 11:case 15:na(8,c,l)}var h=c.child;if(h!==null)h.return=c,U=h;else for(;U!==null;){c=U;var f=c.sibling,x=c.return;if(fm(c),c===u){U=null;break}if(f!==null){f.return=x,U=f;break}U=x}}}var p=l.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}U=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,U=i;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:na(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,U=g;break e}U=l.return}}var m=e.current;for(U=m;U!==null;){i=U;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,U=v;else e:for(i=m;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bi(9,o)}}catch(O){ve(o,o.return,O)}if(o===i){U=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,U=k;break e}U=o.return}}if(ae=a,Xr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(hi,e)}catch{}s=!0}return s}finally{ie=r,Et.transition=t}}return!1}function c0(e,t,r){t=jn(r,t),t=rm(e,t,1),e=$r(e,t,1),t=et(),e!==null&&(Fa(e,1,t),ct(e,t))}function ve(e,t,r){if(e.tag===3)c0(e,e,r);else for(;t!==null;){if(t.tag===3){c0(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Br===null||!Br.has(s))){e=jn(r,e),e=sm(t,e,1),t=$r(t,e,1),e=et(),t!==null&&(Fa(t,1,e),ct(t,e));break}}t=t.return}}function Ty(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,Ie===e&&(Fe&r)===r&&(Pe===4||Pe===3&&(Fe&130023424)===Fe&&500>we()-Nc?vs(e,0):jc|=r),ct(e,t)}function jm(e,t){t===0&&(e.mode&1?(t=al,al<<=1,!(al&130023424)&&(al=4194304)):t=1);var r=et();e=pr(e,t),e!==null&&(Fa(e,t,r),ct(e,r))}function Oy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jm(e,r)}function Ay(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),jm(e,r)}var Nm;Nm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)it=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return it=!1,yy(e,t,r);it=!!(e.flags&131072)}else it=!1,me&&t.flags&1048576&&Pf(t,Kl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;El(e,t),e=t.pendingProps;var a=vn(t,We.current);tn(t,r),a=xc(null,t,s,e,a,r);var l=yc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(s)?(l=!0,Vl(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hc(t),a.updater=vi,t.stateNode=a,a._reactInternals=t,Zo(t,s,e,r),t=rd(null,t,s,!0,l,r)):(t.tag=0,me&&l&&ac(t),Ye(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(El(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=_y(s),e=_t(s,e),a){case 0:t=td(null,t,s,e,r);break e;case 1:t=e0(null,t,s,e,r);break e;case 11:t=Xu(null,t,s,e,r);break e;case 14:t=Zu(null,t,s,_t(s.type,e),r);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),td(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),e0(e,t,s,a,r);case 3:e:{if(im(t),e===null)throw Error(I(387));s=t.pendingProps,l=t.memoizedState,a=l.element,Lf(e,t),Yl(t,s,null,r);var i=t.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=jn(Error(I(423)),t),t=t0(e,t,s,r,a);break e}else if(s!==a){a=jn(Error(I(424)),t),t=t0(e,t,s,r,a);break e}else for(pt=Ur(t.stateNode.containerInfo.firstChild),xt=t,me=!0,zt=null,r=Rf(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bn(),s===a){t=xr(e,t,r);break e}Ye(e,t,s,r)}t=t.child}return t;case 5:return If(t),e===null&&Go(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Qo(s,a)?i=null:l!==null&&Qo(s,l)&&(t.flags|=32),lm(e,t),Ye(e,t,i,r),t.child;case 6:return e===null&&Go(t),null;case 13:return om(e,t,r);case 4:return fc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=wn(t,null,s,r):Ye(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),Xu(e,t,s,a,r);case 7:return Ye(e,t,t.pendingProps,r),t.child;case 8:return Ye(e,t,t.pendingProps.children,r),t.child;case 12:return Ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,de(Jl,s._currentValue),s._currentValue=i,l!==null)if($t(l.value,i)){if(l.children===a.children&&!ot.current){t=xr(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var d=o.firstContext;d!==null;){if(d.context===s){if(l.tag===1){d=hr(-1,r&-r),d.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?d.next=d:(d.next=c.next,c.next=d),u.pending=d}}l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),Yo(l.return,r,t),o.lanes|=r;break}d=d.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(I(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Yo(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ye(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,tn(t,r),a=Pt(a),s=s(a),t.flags|=1,Ye(e,t,s,r),t.child;case 14:return s=t.type,a=_t(s,t.pendingProps),a=_t(s.type,a),Zu(e,t,s,a,r);case 15:return nm(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:_t(s,a),El(e,t),t.tag=1,dt(s)?(e=!0,Vl(t)):e=!1,tn(t,r),tm(t,s,a),Zo(t,s,a,r),rd(null,t,s,!0,e,r);case 19:return dm(e,t,r);case 22:return am(e,t,r)}throw Error(I(156,t.tag))};function Sm(e,t){return Yh(e,t)}function Ry(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,s){return new Ry(e,t,r,s)}function Pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _y(e){if(typeof e=="function")return Pc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wd)return 11;if(e===Kd)return 14}return 2}function Hr(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ol(e,t,r,s,a,l){var i=2;if(s=e,typeof e=="function")Pc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Us:return bs(r.children,a,l,t);case Vd:i=8,a|=8;break;case jo:return e=Ct(12,r,t,a|2),e.elementType=jo,e.lanes=l,e;case No:return e=Ct(13,r,t,a),e.elementType=No,e.lanes=l,e;case So:return e=Ct(19,r,t,a),e.elementType=So,e.lanes=l,e;case Lh:return ki(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rh:i=10;break e;case _h:i=9;break e;case Wd:i=11;break e;case Kd:i=14;break e;case wr:i=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Ct(i,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function bs(e,t,r,s){return e=Ct(7,e,s,t),e.lanes=r,e}function ki(e,t,r,s){return e=Ct(22,e,s,t),e.elementType=Lh,e.lanes=r,e.stateNode={isHidden:!1},e}function go(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function po(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ly(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Tc(e,t,r,s,a,l,i,o,d){return e=new Ly(e,t,r,o,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ct(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(l),e}function Iy(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Cm(e){if(!e)return Kr;e=e._reactInternals;e:{if(Ls(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(dt(r))return Cf(e,r,t)}return t}function Em(e,t,r,s,a,l,i,o,d){return e=Tc(r,s,!0,e,a,l,i,o,d),e.context=Cm(null),r=e.current,s=et(),a=qr(r),l=hr(s,a),l.callback=t??null,$r(r,l,a),e.current.lanes=a,Fa(e,a,s),ct(e,s),e}function ji(e,t,r,s){var a=t.current,l=et(),i=qr(a);return r=Cm(r),t.context===null?t.context=r:t.pendingContext=r,t=hr(l,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=$r(a,t,i),e!==null&&(Ut(e,a,i,l),Nl(e,a,i)),i}function ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function u0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Oc(e,t){u0(e,t),(e=e.alternate)&&u0(e,t)}function My(){return null}var Pm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ac(e){this._internalRoot=e}Ni.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));ji(e,t,null,null)};Ni.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){ji(null,e,null,null)}),t[gr]=null}};function Ni(e){this._internalRoot=e}Ni.prototype.unstable_scheduleHydration=function(e){if(e){var t=nf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jr.length&&t!==0&&t<jr[r].priority;r++);jr.splice(r,0,e),r===0&&lf(e)}};function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function h0(){}function zy(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var u=ai(i);l.call(u)}}var i=Em(t,s,e,0,null,!1,!1,"",h0);return e._reactRootContainer=i,e[gr]=i.current,pa(e.nodeType===8?e.parentNode:e),Cs(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var u=ai(d);o.call(u)}}var d=Tc(e,0,!1,null,null,!1,!1,"",h0);return e._reactRootContainer=d,e[gr]=d.current,pa(e.nodeType===8?e.parentNode:e),Cs(function(){ji(t,d,r,s)}),d}function Ci(e,t,r,s,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var d=ai(i);o.call(d)}}ji(t,i,e,a)}else i=zy(r,t,e,a,s);return ai(i)}rf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Jn(t.pendingLanes);r!==0&&(Yd(t,r|1),ct(t,we()),!(ae&6)&&(Nn=we()+500,Xr()))}break;case 13:Cs(function(){var s=pr(e,1);if(s!==null){var a=et();Ut(s,e,1,a)}}),Oc(e,1)}};Xd=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var r=et();Ut(t,e,134217728,r)}Oc(e,134217728)}};sf=function(e){if(e.tag===13){var t=qr(e),r=pr(e,t);if(r!==null){var s=et();Ut(r,e,t,s)}Oc(e,t)}};nf=function(){return ie};af=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};Io=function(e,t,r){switch(t){case"input":if(Po(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=pi(s);if(!a)throw Error(I(90));Mh(s),Po(s,a)}}}break;case"textarea":Dh(e,r);break;case"select":t=r.value,t!=null&&Ys(e,!!r.multiple,t,!1)}};Qh=Sc;Vh=Cs;var Dy={usingClientEntryPoint:!1,Events:[$a,Hs,pi,qh,Hh,Sc]},Qn={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fy={bundleType:Qn.bundleType,version:Qn.version,rendererPackageName:Qn.rendererPackageName,rendererConfig:Qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jh(e),e===null?null:e.stateNode},findFiberByHostInstance:Qn.findFiberByHostInstance||My,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{hi=pl.inject(Fy),Yt=pl}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dy;vt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(t))throw Error(I(200));return Iy(e,t,null,r)};vt.createRoot=function(e,t){if(!Rc(e))throw Error(I(299));var r=!1,s="",a=Pm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Tc(e,1,!1,null,null,r,!1,s,a),e[gr]=t.current,pa(e.nodeType===8?e.parentNode:e),new Ac(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Jh(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return Cs(e)};vt.hydrate=function(e,t,r){if(!Si(t))throw Error(I(200));return Ci(null,e,t,!0,r)};vt.hydrateRoot=function(e,t,r){if(!Rc(e))throw Error(I(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",i=Pm;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Em(t,null,e,1,r??null,a,!1,l,i),e[gr]=t.current,pa(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ni(t)};vt.render=function(e,t,r){if(!Si(t))throw Error(I(200));return Ci(null,e,t,!1,r)};vt.unmountComponentAtNode=function(e){if(!Si(e))throw Error(I(40));return e._reactRootContainer?(Cs(function(){Ci(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};vt.unstable_batchedUpdates=Sc;vt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Si(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Ci(e,t,r,!1,s)};vt.version="18.3.1-next-f1338f8080-20240426";function Tm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tm)}catch(e){console.error(e)}}Tm(),Ph.exports=vt;var Uy=Ph.exports,Om,f0=Uy;Om=f0.createRoot,f0.hydrateRoot;var Rn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$y={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Sr,Dd,lh,By=(lh=class{constructor(){B(this,Sr,$y);B(this,Dd,!1)}setTimeoutProvider(e){F(this,Sr,e)}setTimeout(e,t){return P(this,Sr).setTimeout(e,t)}clearTimeout(e){P(this,Sr).clearTimeout(e)}setInterval(e,t){return P(this,Sr).setInterval(e,t)}clearInterval(e){P(this,Sr).clearInterval(e)}},Sr=new WeakMap,Dd=new WeakMap,lh),os=new By;function qy(e){setTimeout(e,0)}var Es=typeof window>"u"||"Deno"in globalThis;function Xe(){}function Hy(e,t){return typeof e=="function"?e(t):e}function md(e){return typeof e=="number"&&e>=0&&e!==1/0}function Am(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qr(e,t){return typeof e=="function"?e(t):e}function jt(e,t){return typeof e=="function"?e(t):e}function m0(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:l,queryKey:i,stale:o}=e;if(i){if(s){if(t.queryHash!==_c(i,t.options))return!1}else if(!Sa(t.queryKey,i))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||l&&!l(t))}function g0(e,t){const{exact:r,status:s,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Ps(t.options.mutationKey)!==Ps(l))return!1}else if(!Sa(t.options.mutationKey,l))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function _c(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ps)(e)}function Ps(e){return JSON.stringify(e,(t,r)=>gd(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Sa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Sa(e[r],t[r])):!1}var Qy=Object.prototype.hasOwnProperty;function Rm(e,t,r=0){if(e===t)return e;if(r>500)return t;const s=p0(e)&&p0(t);if(!s&&!(gd(e)&&gd(t)))return t;const l=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),o=i.length,d=s?new Array(o):{};let u=0;for(let c=0;c<o;c++){const h=s?c:i[c],f=e[h],x=t[h];if(f===x){d[h]=f,(s?c<l:Qy.call(e,h))&&u++;continue}if(f===null||x===null||typeof f!="object"||typeof x!="object"){d[h]=x;continue}const p=Rm(f,x,r+1);d[h]=p,p===f&&u++}return l===o&&u===l?e:d}function li(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function p0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gd(e){if(!x0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!x0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function x0(e){return Object.prototype.toString.call(e)==="[object Object]"}function Vy(e){return new Promise(t=>{os.setTimeout(t,e)})}function pd(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Rm(e,t):t}function Wy(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Ky(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Lc=Symbol();function _m(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ic(e,t){return typeof e=="function"?e(...t):!!e}function Jy(e,t,r){let s=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),s||(s=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var cs,Cr,an,ih,Gy=(ih=class extends Rn{constructor(){super();B(this,cs);B(this,Cr);B(this,an);F(this,an,t=>{if(!Es&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){P(this,Cr)||this.setEventListener(P(this,an))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Cr))==null||t.call(this),F(this,Cr,void 0))}setEventListener(t){var r;F(this,an,t),(r=P(this,Cr))==null||r.call(this),F(this,Cr,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){P(this,cs)!==t&&(F(this,cs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof P(this,cs)=="boolean"?P(this,cs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},cs=new WeakMap,Cr=new WeakMap,an=new WeakMap,ih),Mc=new Gy;function xd(){let e,t;const r=new Promise((a,l)=>{e=a,t=l});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}var Yy=qy;function Xy(){let e=[],t=0,r=o=>{o()},s=o=>{o()},a=Yy;const l=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{s(()=>{o.forEach(d=>{r(d)})})})};return{batch:o=>{let d;t++;try{d=o()}finally{t--,t||i()}return d},batchCalls:o=>(...d)=>{l(()=>{o(...d)})},schedule:l,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{a=o}}}var Ee=Xy(),ln,Er,on,oh,Zy=(oh=class extends Rn{constructor(){super();B(this,ln,!0);B(this,Er);B(this,on);F(this,on,t=>{if(!Es&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){P(this,Er)||this.setEventListener(P(this,on))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Er))==null||t.call(this),F(this,Er,void 0))}setEventListener(t){var r;F(this,on,t),(r=P(this,Er))==null||r.call(this),F(this,Er,t(this.setOnline.bind(this)))}setOnline(t){P(this,ln)!==t&&(F(this,ln,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return P(this,ln)}},ln=new WeakMap,Er=new WeakMap,on=new WeakMap,oh),ii=new Zy;function ev(e){return Math.min(1e3*2**e,3e4)}function Lm(e){return(e??"online")==="online"?ii.isOnline():!0}var yd=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Im(e){let t=!1,r=0,s;const a=xd(),l=()=>a.status!=="pending",i=y=>{var b;if(!l()){const g=new yd(y);f(g),(b=e.onCancel)==null||b.call(e,g)}},o=()=>{t=!0},d=()=>{t=!1},u=()=>Mc.isFocused()&&(e.networkMode==="always"||ii.isOnline())&&e.canRun(),c=()=>Lm(e.networkMode)&&e.canRun(),h=y=>{l()||(s==null||s(),a.resolve(y))},f=y=>{l()||(s==null||s(),a.reject(y))},x=()=>new Promise(y=>{var b;s=g=>{(l()||u())&&y(g)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;s=void 0,l()||(y=e.onContinue)==null||y.call(e)}),p=()=>{if(l())return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var N;if(l())return;const m=e.retry??(Es?0:3),v=e.retryDelay??ev,k=typeof v=="function"?v(r,g):v,O=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(t||!O){f(g);return}r++,(N=e.onFail)==null||N.call(e,r,g),Vy(k).then(()=>u()?void 0:x()).then(()=>{t?f(g):p()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:o,continueRetry:d,canStart:c,start:()=>(c()?p():x().then(p),a)}}var us,dh,Mm=(dh=class{constructor(){B(this,us)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),md(this.gcTime)&&F(this,us,os.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Es?1/0:5*60*1e3))}clearGcTimeout(){P(this,us)&&(os.clearTimeout(P(this,us)),F(this,us,void 0))}},us=new WeakMap,dh),hs,dn,kt,fs,Re,_a,ms,Lt,rr,ch,tv=(ch=class extends Mm{constructor(t){super();B(this,Lt);B(this,hs);B(this,dn);B(this,kt);B(this,fs);B(this,Re);B(this,_a);B(this,ms);F(this,ms,!1),F(this,_a,t.defaultOptions),this.setOptions(t.options),this.observers=[],F(this,fs,t.client),F(this,kt,P(this,fs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,F(this,hs,v0(this.options)),this.state=t.state??P(this,hs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Re))==null?void 0:t.promise}setOptions(t){if(this.options={...P(this,_a),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=v0(this.options);r.data!==void 0&&(this.setState(y0(r.data,r.dataUpdatedAt)),F(this,hs,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,kt).remove(this)}setData(t,r){const s=pd(this.state.data,t,this.options);return Y(this,Lt,rr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Y(this,Lt,rr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=P(this,Re))==null?void 0:s.promise;return(a=P(this,Re))==null||a.cancel(t),r?r.then(Xe).catch(Xe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,hs))}isActive(){return this.observers.some(t=>jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Am(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Re))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=P(this,Re))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,kt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(P(this,Re)&&(P(this,ms)?P(this,Re).cancel({revert:!0}):P(this,Re).cancelRetry()),this.scheduleGc()),P(this,kt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Y(this,Lt,rr).call(this,{type:"invalidate"})}async fetch(t,r){var d,u,c,h,f,x,p,y,b,g,m,v;if(this.state.fetchStatus!=="idle"&&((d=P(this,Re))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,Re))return P(this,Re).continueRetry(),P(this,Re).promise}if(t&&this.setOptions(t),!this.options.queryFn){const k=this.observers.find(O=>O.options.queryFn);k&&this.setOptions(k.options)}const s=new AbortController,a=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(F(this,ms,!0),s.signal)})},l=()=>{const k=_m(this.options,r),N=(()=>{const E={client:P(this,fs),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return F(this,ms,!1),this.options.persister?this.options.persister(k,N,this):k(N)},o=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:P(this,fs),state:this.state,fetchFn:l};return a(k),k})();(u=this.options.behavior)==null||u.onFetch(o,this),F(this,dn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Y(this,Lt,rr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),F(this,Re,Im({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:k=>{k instanceof yd&&k.revert&&this.setState({...P(this,dn),fetchStatus:"idle"}),s.abort()},onFail:(k,O)=>{Y(this,Lt,rr).call(this,{type:"failed",failureCount:k,error:O})},onPause:()=>{Y(this,Lt,rr).call(this,{type:"pause"})},onContinue:()=>{Y(this,Lt,rr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const k=await P(this,Re).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(x=(f=P(this,kt).config).onSuccess)==null||x.call(f,k,this),(y=(p=P(this,kt).config).onSettled)==null||y.call(p,k,this.state.error,this),k}catch(k){if(k instanceof yd){if(k.silent)return P(this,Re).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw Y(this,Lt,rr).call(this,{type:"error",error:k}),(g=(b=P(this,kt).config).onError)==null||g.call(b,k,this),(v=(m=P(this,kt).config).onSettled)==null||v.call(m,this.state.data,k,this),k}finally{this.scheduleGc()}}},hs=new WeakMap,dn=new WeakMap,kt=new WeakMap,fs=new WeakMap,Re=new WeakMap,_a=new WeakMap,ms=new WeakMap,Lt=new WeakSet,rr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...zm(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,...y0(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return F(this,dn,t.manual?a:void 0),a;case"error":const l=t.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Ee.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),P(this,kt).notify({query:this,type:"updated",action:t})})},ch);function zm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function y0(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function v0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var nt,re,La,Je,gs,cn,ar,Pr,Ia,un,hn,ps,xs,Tr,fn,le,Yn,vd,bd,wd,kd,jd,Nd,Sd,Dm,uh,rv=(uh=class extends Rn{constructor(t,r){super();B(this,le);B(this,nt);B(this,re);B(this,La);B(this,Je);B(this,gs);B(this,cn);B(this,ar);B(this,Pr);B(this,Ia);B(this,un);B(this,hn);B(this,ps);B(this,xs);B(this,Tr);B(this,fn,new Set);this.options=r,F(this,nt,t),F(this,Pr,null),F(this,ar,xd()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,re).addObserver(this),b0(P(this,re),this.options)?Y(this,le,Yn).call(this):this.updateResult(),Y(this,le,kd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cd(P(this,re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cd(P(this,re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Y(this,le,jd).call(this),Y(this,le,Nd).call(this),P(this,re).removeObserver(this)}setOptions(t){const r=this.options,s=P(this,re);if(this.options=P(this,nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jt(this.options.enabled,P(this,re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Y(this,le,Sd).call(this),P(this,re).setOptions(this.options),r._defaulted&&!li(this.options,r)&&P(this,nt).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,re),observer:this});const a=this.hasListeners();a&&w0(P(this,re),s,this.options,r)&&Y(this,le,Yn).call(this),this.updateResult(),a&&(P(this,re)!==s||jt(this.options.enabled,P(this,re))!==jt(r.enabled,P(this,re))||Qr(this.options.staleTime,P(this,re))!==Qr(r.staleTime,P(this,re)))&&Y(this,le,vd).call(this);const l=Y(this,le,bd).call(this);a&&(P(this,re)!==s||jt(this.options.enabled,P(this,re))!==jt(r.enabled,P(this,re))||l!==P(this,Tr))&&Y(this,le,wd).call(this,l)}getOptimisticResult(t){const r=P(this,nt).getQueryCache().build(P(this,nt),t),s=this.createResult(r,t);return nv(this,s)&&(F(this,Je,s),F(this,cn,this.options),F(this,gs,P(this,re).state)),s}getCurrentResult(){return P(this,Je)}trackResult(t,r){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&P(this,ar).status==="pending"&&P(this,ar).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,a))})}trackProp(t){P(this,fn).add(t)}getCurrentQuery(){return P(this,re)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=P(this,nt).defaultQueryOptions(t),s=P(this,nt).getQueryCache().build(P(this,nt),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Y(this,le,Yn).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,Je)))}createResult(t,r){var A;const s=P(this,re),a=this.options,l=P(this,Je),i=P(this,gs),o=P(this,cn),u=t!==s?t.state:P(this,La),{state:c}=t;let h={...c},f=!1,x;if(r._optimisticResults){const T=this.hasListeners(),L=!T&&b0(t,r),V=T&&w0(t,s,r,a);(L||V)&&(h={...h,...zm(c.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:b}=h;x=h.data;let g=!1;if(r.placeholderData!==void 0&&x===void 0&&b==="pending"){let T;l!=null&&l.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(T=l.data,g=!0):T=typeof r.placeholderData=="function"?r.placeholderData((A=P(this,hn))==null?void 0:A.state.data,P(this,hn)):r.placeholderData,T!==void 0&&(b="success",x=pd(l==null?void 0:l.data,T,r),f=!0)}if(r.select&&x!==void 0&&!g)if(l&&x===(i==null?void 0:i.data)&&r.select===P(this,Ia))x=P(this,un);else try{F(this,Ia,r.select),x=r.select(x),x=pd(l==null?void 0:l.data,x,r),F(this,un,x),F(this,Pr,null)}catch(T){F(this,Pr,T)}P(this,Pr)&&(p=P(this,Pr),x=P(this,un),y=Date.now(),b="error");const m=h.fetchStatus==="fetching",v=b==="pending",k=b==="error",O=v&&m,N=x!==void 0,C={status:b,fetchStatus:h.fetchStatus,isPending:v,isSuccess:b==="success",isError:k,isInitialLoading:O,isLoading:O,data:x,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:k&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:k&&N,isStale:zc(t,r),refetch:this.refetch,promise:P(this,ar),isEnabled:jt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=C.data!==void 0,L=C.status==="error"&&!T,V=ne=>{L?ne.reject(C.error):T&&ne.resolve(C.data)},K=()=>{const ne=F(this,ar,C.promise=xd());V(ne)},se=P(this,ar);switch(se.status){case"pending":t.queryHash===s.queryHash&&V(se);break;case"fulfilled":(L||C.data!==se.value)&&K();break;case"rejected":(!L||C.error!==se.reason)&&K();break}}return C}updateResult(){const t=P(this,Je),r=this.createResult(P(this,re),this.options);if(F(this,gs,P(this,re).state),F(this,cn,this.options),P(this,gs).data!==void 0&&F(this,hn,P(this,re)),li(r,t))return;F(this,Je,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!P(this,fn).size)return!0;const i=new Set(l??P(this,fn));return this.options.throwOnError&&i.add("error"),Object.keys(P(this,Je)).some(o=>{const d=o;return P(this,Je)[d]!==t[d]&&i.has(d)})};Y(this,le,Dm).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Y(this,le,kd).call(this)}},nt=new WeakMap,re=new WeakMap,La=new WeakMap,Je=new WeakMap,gs=new WeakMap,cn=new WeakMap,ar=new WeakMap,Pr=new WeakMap,Ia=new WeakMap,un=new WeakMap,hn=new WeakMap,ps=new WeakMap,xs=new WeakMap,Tr=new WeakMap,fn=new WeakMap,le=new WeakSet,Yn=function(t){Y(this,le,Sd).call(this);let r=P(this,re).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Xe)),r},vd=function(){Y(this,le,jd).call(this);const t=Qr(this.options.staleTime,P(this,re));if(Es||P(this,Je).isStale||!md(t))return;const s=Am(P(this,Je).dataUpdatedAt,t)+1;F(this,ps,os.setTimeout(()=>{P(this,Je).isStale||this.updateResult()},s))},bd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,re)):this.options.refetchInterval)??!1},wd=function(t){Y(this,le,Nd).call(this),F(this,Tr,t),!(Es||jt(this.options.enabled,P(this,re))===!1||!md(P(this,Tr))||P(this,Tr)===0)&&F(this,xs,os.setInterval(()=>{(this.options.refetchIntervalInBackground||Mc.isFocused())&&Y(this,le,Yn).call(this)},P(this,Tr)))},kd=function(){Y(this,le,vd).call(this),Y(this,le,wd).call(this,Y(this,le,bd).call(this))},jd=function(){P(this,ps)&&(os.clearTimeout(P(this,ps)),F(this,ps,void 0))},Nd=function(){P(this,xs)&&(os.clearInterval(P(this,xs)),F(this,xs,void 0))},Sd=function(){const t=P(this,nt).getQueryCache().build(P(this,nt),this.options);if(t===P(this,re))return;const r=P(this,re);F(this,re,t),F(this,La,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Dm=function(t){Ee.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(P(this,Je))}),P(this,nt).getQueryCache().notify({query:P(this,re),type:"observerResultsUpdated"})})},uh);function sv(e,t){return jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function b0(e,t){return sv(e,t)||e.state.data!==void 0&&Cd(e,t,t.refetchOnMount)}function Cd(e,t,r){if(jt(t.enabled,e)!==!1&&Qr(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&zc(e,t)}return!1}function w0(e,t,r,s){return(e!==t||jt(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zc(e,r)}function zc(e,t){return jt(t.enabled,e)!==!1&&e.isStaleByTime(Qr(t.staleTime,e))}function nv(e,t){return!li(e.getCurrentResult(),t)}function k0(e){return{onFetch:(t,r)=>{var c,h,f,x,p;const s=t.options,a=(f=(h=(c=t.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,l=((x=t.state.data)==null?void 0:x.pages)||[],i=((p=t.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},d=0;const u=async()=>{let y=!1;const b=v=>{Jy(v,()=>t.signal,()=>y=!0)},g=_m(t.options,t.fetchOptions),m=async(v,k,O)=>{if(y)return Promise.reject();if(k==null&&v.pages.length)return Promise.resolve(v);const E=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:k,direction:O?"backward":"forward",meta:t.options.meta};return b(L),L})(),C=await g(E),{maxPages:A}=t.options,T=O?Ky:Wy;return{pages:T(v.pages,C,A),pageParams:T(v.pageParams,k,A)}};if(a&&l.length){const v=a==="backward",k=v?av:j0,O={pages:l,pageParams:i},N=k(s,O);o=await m(O,N,v)}else{const v=e??l.length;do{const k=d===0?i[0]??s.initialPageParam:j0(s,o);if(d>0&&k==null)break;o=await m(o,k),d++}while(d<v)}return o};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function j0(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function av(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var Ma,Wt,Ge,ys,Kt,br,hh,lv=(hh=class extends Mm{constructor(t){super();B(this,Kt);B(this,Ma);B(this,Wt);B(this,Ge);B(this,ys);F(this,Ma,t.client),this.mutationId=t.mutationId,F(this,Ge,t.mutationCache),F(this,Wt,[]),this.state=t.state||Fm(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,Wt).includes(t)||(P(this,Wt).push(t),this.clearGcTimeout(),P(this,Ge).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){F(this,Wt,P(this,Wt).filter(r=>r!==t)),this.scheduleGc(),P(this,Ge).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,Wt).length||(this.state.status==="pending"?this.scheduleGc():P(this,Ge).remove(this))}continue(){var t;return((t=P(this,ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,d,u,c,h,f,x,p,y,b,g,m,v,k,O,N,E,C,A;const r=()=>{Y(this,Kt,br).call(this,{type:"continue"})},s={client:P(this,Ma),meta:this.options.meta,mutationKey:this.options.mutationKey};F(this,ys,Im({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(T,L)=>{Y(this,Kt,br).call(this,{type:"failed",failureCount:T,error:L})},onPause:()=>{Y(this,Kt,br).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Ge).canRun(this)}));const a=this.state.status==="pending",l=!P(this,ys).canStart();try{if(a)r();else{Y(this,Kt,br).call(this,{type:"pending",variables:t,isPaused:l}),await((o=(i=P(this,Ge).config).onMutate)==null?void 0:o.call(i,t,this,s));const L=await((u=(d=this.options).onMutate)==null?void 0:u.call(d,t,s));L!==this.state.context&&Y(this,Kt,br).call(this,{type:"pending",context:L,variables:t,isPaused:l})}const T=await P(this,ys).start();return await((h=(c=P(this,Ge).config).onSuccess)==null?void 0:h.call(c,T,t,this.state.context,this,s)),await((x=(f=this.options).onSuccess)==null?void 0:x.call(f,T,t,this.state.context,s)),await((y=(p=P(this,Ge).config).onSettled)==null?void 0:y.call(p,T,null,this.state.variables,this.state.context,this,s)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,T,null,t,this.state.context,s)),Y(this,Kt,br).call(this,{type:"success",data:T}),T}catch(T){try{await((v=(m=P(this,Ge).config).onError)==null?void 0:v.call(m,T,t,this.state.context,this,s))}catch(L){Promise.reject(L)}try{await((O=(k=this.options).onError)==null?void 0:O.call(k,T,t,this.state.context,s))}catch(L){Promise.reject(L)}try{await((E=(N=P(this,Ge).config).onSettled)==null?void 0:E.call(N,void 0,T,this.state.variables,this.state.context,this,s))}catch(L){Promise.reject(L)}try{await((A=(C=this.options).onSettled)==null?void 0:A.call(C,void 0,T,t,this.state.context,s))}catch(L){Promise.reject(L)}throw Y(this,Kt,br).call(this,{type:"error",error:T}),T}finally{P(this,Ge).runNext(this)}}},Ma=new WeakMap,Wt=new WeakMap,Ge=new WeakMap,ys=new WeakMap,Kt=new WeakSet,br=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ee.batch(()=>{P(this,Wt).forEach(s=>{s.onMutationUpdate(t)}),P(this,Ge).notify({mutation:this,type:"updated",action:t})})},hh);function Fm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lr,It,za,fh,iv=(fh=class extends Rn{constructor(t={}){super();B(this,lr);B(this,It);B(this,za);this.config=t,F(this,lr,new Set),F(this,It,new Map),F(this,za,0)}build(t,r,s){const a=new lv({client:t,mutationCache:this,mutationId:++Za(this,za)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){P(this,lr).add(t);const r=xl(t);if(typeof r=="string"){const s=P(this,It).get(r);s?s.push(t):P(this,It).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,lr).delete(t)){const r=xl(t);if(typeof r=="string"){const s=P(this,It).get(r);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&P(this,It).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=xl(t);if(typeof r=="string"){const s=P(this,It).get(r),a=s==null?void 0:s.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const r=xl(t);if(typeof r=="string"){const a=(s=P(this,It).get(r))==null?void 0:s.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ee.batch(()=>{P(this,lr).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,lr).clear(),P(this,It).clear()})}getAll(){return Array.from(P(this,lr))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>g0(r,s))}findAll(t={}){return this.getAll().filter(r=>g0(t,r))}notify(t){Ee.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ee.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xe))))}},lr=new WeakMap,It=new WeakMap,za=new WeakMap,fh);function xl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ir,Or,at,or,fr,Al,Ed,mh,ov=(mh=class extends Rn{constructor(r,s){super();B(this,fr);B(this,ir);B(this,Or);B(this,at);B(this,or);F(this,ir,r),this.setOptions(s),this.bindMethods(),Y(this,fr,Al).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=P(this,ir).defaultMutationOptions(r),li(this.options,s)||P(this,ir).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,at),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ps(s.mutationKey)!==Ps(this.options.mutationKey)?this.reset():((a=P(this,at))==null?void 0:a.state.status)==="pending"&&P(this,at).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=P(this,at))==null||r.removeObserver(this)}onMutationUpdate(r){Y(this,fr,Al).call(this),Y(this,fr,Ed).call(this,r)}getCurrentResult(){return P(this,Or)}reset(){var r;(r=P(this,at))==null||r.removeObserver(this),F(this,at,void 0),Y(this,fr,Al).call(this),Y(this,fr,Ed).call(this)}mutate(r,s){var a;return F(this,or,s),(a=P(this,at))==null||a.removeObserver(this),F(this,at,P(this,ir).getMutationCache().build(P(this,ir),this.options)),P(this,at).addObserver(this),P(this,at).execute(r)}},ir=new WeakMap,Or=new WeakMap,at=new WeakMap,or=new WeakMap,fr=new WeakSet,Al=function(){var s;const r=((s=P(this,at))==null?void 0:s.state)??Fm();F(this,Or,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ed=function(r){Ee.batch(()=>{var s,a,l,i,o,d,u,c;if(P(this,or)&&this.hasListeners()){const h=P(this,Or).variables,f=P(this,Or).context,x={client:P(this,ir),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(s=P(this,or)).onSuccess)==null||a.call(s,r.data,h,f,x)}catch(p){Promise.reject(p)}try{(i=(l=P(this,or)).onSettled)==null||i.call(l,r.data,null,h,f,x)}catch(p){Promise.reject(p)}}else if((r==null?void 0:r.type)==="error"){try{(d=(o=P(this,or)).onError)==null||d.call(o,r.error,h,f,x)}catch(p){Promise.reject(p)}try{(c=(u=P(this,or)).onSettled)==null||c.call(u,void 0,r.error,h,f,x)}catch(p){Promise.reject(p)}}}this.listeners.forEach(h=>{h(P(this,Or))})})},mh),Jt,gh,dv=(gh=class extends Rn{constructor(t={}){super();B(this,Jt);this.config=t,F(this,Jt,new Map)}build(t,r,s){const a=r.queryKey,l=r.queryHash??_c(a,r);let i=this.get(l);return i||(i=new tv({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){P(this,Jt).has(t.queryHash)||(P(this,Jt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=P(this,Jt).get(t.queryHash);r&&(t.destroy(),r===t&&P(this,Jt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ee.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,Jt).get(t)}getAll(){return[...P(this,Jt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>m0(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>m0(t,s)):r}notify(t){Ee.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jt=new WeakMap,gh),ye,Ar,Rr,mn,gn,_r,pn,xn,ph,cv=(ph=class{constructor(e={}){B(this,ye);B(this,Ar);B(this,Rr);B(this,mn);B(this,gn);B(this,_r);B(this,pn);B(this,xn);F(this,ye,e.queryCache||new dv),F(this,Ar,e.mutationCache||new iv),F(this,Rr,e.defaultOptions||{}),F(this,mn,new Map),F(this,gn,new Map),F(this,_r,0)}mount(){Za(this,_r)._++,P(this,_r)===1&&(F(this,pn,Mc.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,ye).onFocus())})),F(this,xn,ii.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,ye).onOnline())})))}unmount(){var e,t;Za(this,_r)._--,P(this,_r)===0&&((e=P(this,pn))==null||e.call(this),F(this,pn,void 0),(t=P(this,xn))==null||t.call(this),F(this,xn,void 0))}isFetching(e){return P(this,ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,Ar).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,ye).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=P(this,ye).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Qr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return P(this,ye).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=P(this,ye).get(s.queryHash),l=a==null?void 0:a.state.data,i=Hy(t,l);if(i!==void 0)return P(this,ye).build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ee.batch(()=>P(this,ye).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=P(this,ye).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=P(this,ye);Ee.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=P(this,ye);return Ee.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=Ee.batch(()=>P(this,ye).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Xe).catch(Xe)}invalidateQueries(e,t={}){return Ee.batch(()=>(P(this,ye).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=Ee.batch(()=>P(this,ye).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(Xe)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(Xe)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=P(this,ye).build(this,t);return r.isStaleByTime(Qr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xe).catch(Xe)}fetchInfiniteQuery(e){return e.behavior=k0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xe).catch(Xe)}ensureInfiniteQueryData(e){return e.behavior=k0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ii.isOnline()?P(this,Ar).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,ye)}getMutationCache(){return P(this,Ar)}getDefaultOptions(){return P(this,Rr)}setDefaultOptions(e){F(this,Rr,e)}setQueryDefaults(e,t){P(this,mn).set(Ps(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,mn).values()],r={};return t.forEach(s=>{Sa(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){P(this,gn).set(Ps(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,gn).values()],r={};return t.forEach(s=>{Sa(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,Rr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_c(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,Rr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,ye).clear(),P(this,Ar).clear()}},ye=new WeakMap,Ar=new WeakMap,Rr=new WeakMap,mn=new WeakMap,gn=new WeakMap,_r=new WeakMap,pn=new WeakMap,xn=new WeakMap,ph),Um=w.createContext(void 0),Me=e=>{const t=w.useContext(Um);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uv=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Um.Provider,{value:e,children:t})),$m=w.createContext(!1),hv=()=>w.useContext($m);$m.Provider;function fv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mv=w.createContext(fv()),gv=()=>w.useContext(mv),pv=(e,t,r)=>{const s=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Ic(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},xv=e=>{w.useEffect(()=>{e.clearReset()},[e])},yv=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||Ic(r,[e.error,s])),vv=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...a)=>r(s(...a)):r(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bv=(e,t)=>e.isLoading&&e.isFetching&&!t,wv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,N0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function kv(e,t,r){var f,x,p,y;const s=hv(),a=gv(),l=Me(),i=l.defaultQueryOptions(e);(x=(f=l.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||x.call(f,i);const o=l.getQueryCache().get(i.queryHash);i._optimisticResults=s?"isRestoring":"optimistic",vv(i),pv(i,a,o),xv(a);const d=!l.getQueryCache().get(i.queryHash),[u]=w.useState(()=>new t(l,i)),c=u.getOptimisticResult(i),h=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(b=>{const g=h?u.subscribe(Ee.batchCalls(b)):Xe;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),w.useEffect(()=>{u.setOptions(i)},[i,u]),wv(i,c))throw N0(i,u,a);if(yv({result:c,errorResetBoundary:a,throwOnError:i.throwOnError,query:o,suspense:i.suspense}))throw c.error;if((y=(p=l.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,i,c),i.experimental_prefetchInRender&&!Es&&bv(c,s)){const b=d?N0(i,u,a):o==null?void 0:o.promise;b==null||b.catch(Xe).finally(()=>{u.updateResult()})}return i.notifyOnChangeProps?c:u.trackResult(c)}function tr(e,t){return kv(e,rv)}function Ke(e,t){const r=Me(),[s]=w.useState(()=>new ov(r,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const a=w.useSyncExternalStore(w.useCallback(i=>s.subscribe(Ee.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=w.useCallback((i,o)=>{s.mutate(i,o).catch(Xe)},[s]);if(a.error&&Ic(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ca.apply(this,arguments)}var Mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mr||(Mr={}));const S0="popstate";function jv(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:i,hash:o}=s.location;return Pd("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:oi(a)}return Sv(t,r,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nv(){return Math.random().toString(36).substr(2,8)}function C0(e,t){return{usr:e.state,key:e.key,idx:t}}function Pd(e,t,r,s){return r===void 0&&(r=null),Ca({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_n(t):t,{state:r,key:t&&t.key||s||Nv()})}function oi(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function _n(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Sv(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,i=a.history,o=Mr.Pop,d=null,u=c();u==null&&(u=0,i.replaceState(Ca({},i.state,{idx:u}),""));function c(){return(i.state||{idx:null}).idx}function h(){o=Mr.Pop;let b=c(),g=b==null?null:b-u;u=b,d&&d({action:o,location:y.location,delta:g})}function f(b,g){o=Mr.Push;let m=Pd(y.location,b,g);u=c()+1;let v=C0(m,u),k=y.createHref(m);try{i.pushState(v,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(k)}l&&d&&d({action:o,location:y.location,delta:1})}function x(b,g){o=Mr.Replace;let m=Pd(y.location,b,g);u=c();let v=C0(m,u),k=y.createHref(m);i.replaceState(v,"",k),l&&d&&d({action:o,location:y.location,delta:0})}function p(b){let g=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof b=="string"?b:oi(b);return m=m.replace(/ $/,"%20"),Se(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return o},get location(){return e(a,i)},listen(b){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(S0,h),d=b,()=>{a.removeEventListener(S0,h),d=null}},createHref(b){return t(a,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:x,go(b){return i.go(b)}};return y}var E0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(E0||(E0={}));function Cv(e,t,r){return r===void 0&&(r="/"),Ev(e,t,r)}function Ev(e,t,r,s){let a=typeof t=="string"?_n(t):t,l=Fc(a.pathname||"/",r);if(l==null)return null;let i=Bm(e);Pv(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let u=Uv(l);o=zv(i[d],u)}return o}function Bm(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(l,i,o)=>{let d={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};d.relativePath.startsWith("/")&&(Se(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let u=Vr([s,d.relativePath]),c=r.concat(d);l.children&&l.children.length>0&&(Se(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Bm(l.children,t,c,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Iv(u,l.index),routesMeta:c})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let d of qm(l.path))a(l,i,d)}),t}function qm(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let i=qm(s.join("/")),o=[];return o.push(...i.map(d=>d===""?l:[l,d].join("/"))),a&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function Pv(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Mv(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Tv=/^:[\w-]+$/,Ov=3,Av=2,Rv=1,_v=10,Lv=-2,P0=e=>e==="*";function Iv(e,t){let r=e.split("/"),s=r.length;return r.some(P0)&&(s+=Lv),t&&(s+=Av),r.filter(a=>!P0(a)).reduce((a,l)=>a+(Tv.test(l)?Ov:l===""?Rv:_v),s)}function Mv(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function zv(e,t,r){let{routesMeta:s}=e,a={},l="/",i=[];for(let o=0;o<s.length;++o){let d=s[o],u=o===s.length-1,c=l==="/"?t:t.slice(l.length)||"/",h=Dv({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},c),f=d.route;if(!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:Vr([l,h.pathname]),pathnameBase:Qv(Vr([l,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(l=Vr([l,h.pathnameBase]))}return i}function Dv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Fv(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((u,c,h)=>{let{paramName:f,isOptional:x}=c;if(f==="*"){let y=o[h]||"";i=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[h];return x&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:e}}function Fv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Dc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(s.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Uv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const $v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bv=e=>$v.test(e);function qv(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?_n(e):e,l;if(r)if(Bv(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Dc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=T0(r.substring(1),"/"):l=T0(r,t)}else l=t;return{pathname:l,search:Vv(s),hash:Wv(a)}}function T0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function xo(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hm(e,t){let r=Hv(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Qm(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=_n(e):(a=Ca({},e),Se(!a.pathname||!a.pathname.includes("?"),xo("?","pathname","search",a)),Se(!a.pathname||!a.pathname.includes("#"),xo("#","pathname","hash",a)),Se(!a.search||!a.search.includes("#"),xo("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!s&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}o=h>=0?t[h]:"/"}let d=qv(a,o),u=i&&i!=="/"&&i.endsWith("/"),c=(l||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||c)&&(d.pathname+="/"),d}const Vr=e=>e.join("/").replace(/\/\/+/g,"/"),Qv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Vm=["post","put","patch","delete"];new Set(Vm);const Jv=["get",...Vm];new Set(Jv);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ea.apply(this,arguments)}const Uc=w.createContext(null),Gv=w.createContext(null),Is=w.createContext(null),Ei=w.createContext(null),Zr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Wm=w.createContext(null);function Yv(e,t){let{relative:r}=t===void 0?{}:t;qa()||Se(!1);let{basename:s,navigator:a}=w.useContext(Is),{hash:l,pathname:i,search:o}=Jm(e,{relative:r}),d=i;return s!=="/"&&(d=i==="/"?s:Vr([s,i])),a.createHref({pathname:d,search:o,hash:l})}function qa(){return w.useContext(Ei)!=null}function wt(){return qa()||Se(!1),w.useContext(Ei).location}function Km(e){w.useContext(Is).static||w.useLayoutEffect(e)}function Te(){let{isDataRoute:e}=w.useContext(Zr);return e?cb():Xv()}function Xv(){qa()||Se(!1);let e=w.useContext(Uc),{basename:t,future:r,navigator:s}=w.useContext(Is),{matches:a}=w.useContext(Zr),{pathname:l}=wt(),i=JSON.stringify(Hm(a,r.v7_relativeSplatPath)),o=w.useRef(!1);return Km(()=>{o.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let h=Qm(u,JSON.parse(i),l,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vr([t,h.pathname])),(c.replace?s.replace:s.push)(h,c.state,c)},[t,s,i,l,e])}function Pi(){let{matches:e}=w.useContext(Zr),t=e[e.length-1];return t?t.params:{}}function Jm(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=w.useContext(Is),{matches:a}=w.useContext(Zr),{pathname:l}=wt(),i=JSON.stringify(Hm(a,s.v7_relativeSplatPath));return w.useMemo(()=>Qm(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function Zv(e,t){return eb(e,t)}function eb(e,t,r,s){qa()||Se(!1);let{navigator:a}=w.useContext(Is),{matches:l}=w.useContext(Zr),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let u=wt(),c;if(t){var h;let b=typeof t=="string"?_n(t):t;d==="/"||(h=b.pathname)!=null&&h.startsWith(d)||Se(!1),c=b}else c=u;let f=c.pathname||"/",x=f;if(d!=="/"){let b=d.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=Cv(e,{pathname:x}),y=ab(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Vr([d,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Vr([d,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,r,s);return t&&y?w.createElement(Ei.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Mr.Pop}},y):y}function tb(){let e=db(),t=Kv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const rb=w.createElement(tb,null);class sb extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(Zr.Provider,{value:this.props.routeContext},w.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nb(e){let{routeContext:t,match:r,children:s}=e,a=w.useContext(Uc);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Zr.Provider,{value:t},s)}function ab(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let c=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);c>=0||Se(!1),i=i.slice(0,Math.min(i.length,c+1))}let d=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:x}=r,p=h.route.loader&&f[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||p){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,f)=>{let x,p=!1,y=null,b=null;r&&(x=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||rb,d&&(u<0&&f===0?(ub("route-fallback"),p=!0,b=null):u===f&&(p=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,f+1)),m=()=>{let v;return x?v=y:p?v=b:h.route.Component?v=w.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,w.createElement(nb,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(sb,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Gm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gm||{}),Ym=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ym||{});function lb(e){let t=w.useContext(Uc);return t||Se(!1),t}function ib(e){let t=w.useContext(Gv);return t||Se(!1),t}function ob(e){let t=w.useContext(Zr);return t||Se(!1),t}function Xm(e){let t=ob(),r=t.matches[t.matches.length-1];return r.route.id||Se(!1),r.route.id}function db(){var e;let t=w.useContext(Wm),r=ib(),s=Xm();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function cb(){let{router:e}=lb(Gm.UseNavigateStable),t=Xm(Ym.UseNavigateStable),r=w.useRef(!1);return Km(()=>{r.current=!0}),w.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ea({fromRouteId:t},l)))},[e,t])}const O0={};function ub(e,t,r){O0[e]||(O0[e]=!0)}function hb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function je(e){Se(!1)}function fb(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Mr.Pop,navigator:l,static:i=!1,future:o}=e;qa()&&Se(!1);let d=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:d,navigator:l,static:i,future:Ea({v7_relativeSplatPath:!1},o)}),[d,o,l,i]);typeof s=="string"&&(s=_n(s));let{pathname:c="/",search:h="",hash:f="",state:x=null,key:p="default"}=s,y=w.useMemo(()=>{let b=Fc(c,d);return b==null?null:{location:{pathname:b,search:h,hash:f,state:x,key:p},navigationType:a}},[d,c,h,f,x,p,a]);return y==null?null:w.createElement(Is.Provider,{value:u},w.createElement(Ei.Provider,{children:r,value:y}))}function mb(e){let{children:t,location:r}=e;return Zv(Td(t),r)}new Promise(()=>{});function Td(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(s,a)=>{if(!w.isValidElement(s))return;let l=[...t,a];if(s.type===w.Fragment){r.push.apply(r,Td(s.props.children,l));return}s.type!==je&&Se(!1),!s.props.index||!s.props.children||Se(!1);let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Td(s.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Od.apply(this,arguments)}function gb(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xb(e,t){return e.button===0&&(!t||t==="_self")&&!pb(e)}function Ad(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function yb(e,t){let r=Ad(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}const vb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bb="6";try{window.__reactRouterVersion=bb}catch{}const wb="startTransition",A0=Tp[wb];function kb(e){let{basename:t,children:r,future:s,window:a}=e,l=w.useRef();l.current==null&&(l.current=jv({window:a,v5Compat:!0}));let i=l.current,[o,d]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},c=w.useCallback(h=>{u&&A0?A0(()=>d(h)):d(h)},[d,u]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.useEffect(()=>hb(s),[s]),w.createElement(fb,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:s})}const jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X=w.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:l,replace:i,state:o,target:d,to:u,preventScrollReset:c,viewTransition:h}=t,f=gb(t,vb),{basename:x}=w.useContext(Is),p,y=!1;if(typeof u=="string"&&Nb.test(u)&&(p=u,jb))try{let v=new URL(window.location.href),k=u.startsWith("//")?new URL(v.protocol+u):new URL(u),O=Fc(k.pathname,x);k.origin===v.origin&&O!=null?u=O+k.search+k.hash:y=!0}catch{}let b=Yv(u,{relative:a}),g=Sb(u,{replace:i,state:o,target:d,preventScrollReset:c,relative:a,viewTransition:h});function m(v){s&&s(v),v.defaultPrevented||g(v)}return w.createElement("a",Od({},f,{href:p||b,onClick:y||l?s:m,ref:r,target:d}))});var R0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(R0||(R0={}));var _0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_0||(_0={}));function Sb(e,t){let{target:r,replace:s,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,d=Te(),u=wt(),c=Jm(e,{relative:i});return w.useCallback(h=>{if(xb(h,r)){h.preventDefault();let f=s!==void 0?s:oi(u)===oi(c);d(e,{replace:f,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[u,d,c,s,a,r,e,l,i,o])}function Cb(e){let t=w.useRef(Ad(e)),r=w.useRef(!1),s=wt(),a=w.useMemo(()=>yb(s.search,r.current?null:t.current),[s.search]),l=Te(),i=w.useCallback((o,d)=>{const u=Ad(typeof o=="function"?o(a):o);r.current=!0,l("?"+u,d)},[l,a]);return[a,i]}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zm=(...e)=>e.filter((t,r,s)=>!!t&&s.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:i,...o},d)=>w.createElement("svg",{ref:d,...Pb,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:Zm("lucide",a),...o},[...i.map(([u,c])=>w.createElement(u,c)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const r=w.forwardRef(({className:s,...a},l)=>w.createElement(Tb,{ref:l,iconNode:t,className:Zm(`lucide-${Eb(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Q("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Q("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=Q("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Q("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Q("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Q("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Q("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Q("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Q("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Q("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dg=w.createContext(),ts=()=>w.useContext(dg),Bb=({children:e})=>{const t=()=>{try{const x=localStorage.getItem("userInfo");if(x){const p=JSON.parse(x);return p._id||p.id||"guest"}}catch(x){console.error("Failed to get user info:",x)}return"guest"},[r,s]=w.useState(t()),[a,l]=w.useState(()=>{const p=`cart_${t()}`,y=localStorage.getItem("cart");if(y&&!localStorage.getItem(p))try{const g=JSON.parse(y);localStorage.setItem(p,JSON.stringify(g)),localStorage.removeItem("cart")}catch(g){console.error("Failed to migrate old cart:",g)}else y&&localStorage.removeItem("cart");const b=localStorage.getItem(p);if(!b)return[];try{return JSON.parse(b)}catch(g){return console.error("Failed to parse cart from localStorage:",g),[]}});w.useEffect(()=>{const x=()=>{const p=t();if(p!==r){s(p);const y=`cart_${p}`,b=localStorage.getItem(y);if(b)try{const g=JSON.parse(b);l(g)}catch{l([])}else l([])}};return window.addEventListener("storage",x),window.addEventListener("userChanged",x),()=>{window.removeEventListener("storage",x),window.removeEventListener("userChanged",x)}},[r]),w.useEffect(()=>{try{const x=`cart_${r}`;localStorage.setItem(x,JSON.stringify(a))}catch(x){console.error("Failed to save cart to localStorage:",x),x.name==="QuotaExceededError"&&console.warn("LocalStorage quota exceeded. Cart changes may not be saved.")}},[a,r]);const i=x=>{const p=x._id||x.id,y={id:p,title:x.title||x.name,price:x.price,image:x.image,storeId:x.storeId||null,quantity:1};l(b=>b.find(m=>m.id===p)?b.map(m=>m.id===p?{...m,quantity:m.quantity+1}:m):[...b,y])},o=x=>{l(p=>p.filter(y=>y.id!==x))},d=(x,p)=>{if(p<1){o(x);return}l(y=>y.map(b=>b.id===x?{...b,quantity:p}:b))},u=()=>{l([])},c=a.reduce((x,p)=>x+p.price*p.quantity,0),h=a.reduce((x,p)=>x+p.quantity,0),f={cartItems:a,addToCart:i,removeFromCart:o,updateQuantity:d,clearCart:u,cartTotal:c,cartCount:h};return n.jsx(dg.Provider,{value:f,children:e})};function cg(e,t){return function(){return e.apply(t,arguments)}}const{toString:qb}=Object.prototype,{getPrototypeOf:Jc}=Object,{iterator:Ai,toStringTag:ug}=Symbol,Ri=(e=>t=>{const r=qb.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>Ri(t)===e),_i=e=>t=>typeof t===e,{isArray:In}=Array,En=_i("undefined");function Qa(e){return e!==null&&!En(e)&&e.constructor!==null&&!En(e.constructor)&&ht(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hg=Bt("ArrayBuffer");function Hb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&hg(e.buffer),t}const Qb=_i("string"),ht=_i("function"),fg=_i("number"),Va=e=>e!==null&&typeof e=="object",Vb=e=>e===!0||e===!1,Rl=e=>{if(Ri(e)!=="object")return!1;const t=Jc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ug in e)&&!(Ai in e)},Wb=e=>{if(!Va(e)||Qa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Kb=Bt("Date"),Jb=Bt("File"),Gb=Bt("Blob"),Yb=Bt("FileList"),Xb=e=>Va(e)&&ht(e.pipe),Zb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ht(e.append)&&((t=Ri(e))==="formdata"||t==="object"&&ht(e.toString)&&e.toString()==="[object FormData]"))},ew=Bt("URLSearchParams"),[tw,rw,sw,nw]=["ReadableStream","Request","Response","Headers"].map(Bt),aw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wa(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),In(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Qa(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(s=0;s<i;s++)o=l[s],t.call(null,e[o],o,e)}}function mg(e,t){if(Qa(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gg=e=>!En(e)&&e!==ds;function Rd(){const{caseless:e,skipUndefined:t}=gg(this)&&this||{},r={},s=(a,l)=>{const i=e&&mg(r,l)||l;Rl(r[i])&&Rl(a)?r[i]=Rd(r[i],a):Rl(a)?r[i]=Rd({},a):In(a)?r[i]=a.slice():(!t||!En(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Wa(arguments[a],s);return r}const lw=(e,t,r,{allOwnKeys:s}={})=>(Wa(t,(a,l)=>{r&&ht(a)?e[l]=cg(a,r):e[l]=a},{allOwnKeys:s}),e),iw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ow=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},dw=(e,t,r,s)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&Jc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},cw=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},uw=e=>{if(!e)return null;if(In(e))return e;let t=e.length;if(!fg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},hw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jc(Uint8Array)),fw=(e,t)=>{const s=(e&&e[Ai]).call(e);let a;for(;(a=s.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},mw=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},gw=Bt("HTMLFormElement"),pw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),I0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),xw=Bt("RegExp"),pg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Wa(r,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(s[l]=i||a)}),Object.defineProperties(e,s)},yw=e=>{pg(e,(t,r)=>{if(ht(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(ht(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},vw=(e,t)=>{const r={},s=a=>{a.forEach(l=>{r[l]=!0})};return In(e)?s(e):s(String(e).split(t)),r},bw=()=>{},ww=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function kw(e){return!!(e&&ht(e.append)&&e[ug]==="FormData"&&e[Ai])}const jw=e=>{const t=new Array(10),r=(s,a)=>{if(Va(s)){if(t.indexOf(s)>=0)return;if(Qa(s))return s;if(!("toJSON"in s)){t[a]=s;const l=In(s)?[]:{};return Wa(s,(i,o)=>{const d=r(i,a+1);!En(d)&&(l[o]=d)}),t[a]=void 0,l}}return s};return r(e,0)},Nw=Bt("AsyncFunction"),Sw=e=>e&&(Va(e)||ht(e))&&ht(e.then)&&ht(e.catch),xg=((e,t)=>e?setImmediate:t?((r,s)=>(ds.addEventListener("message",({source:a,data:l})=>{a===ds&&l===r&&s.length&&s.shift()()},!1),a=>{s.push(a),ds.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ht(ds.postMessage)),Cw=typeof queueMicrotask<"u"?queueMicrotask.bind(ds):typeof process<"u"&&process.nextTick||xg,Ew=e=>e!=null&&ht(e[Ai]),R={isArray:In,isArrayBuffer:hg,isBuffer:Qa,isFormData:Zb,isArrayBufferView:Hb,isString:Qb,isNumber:fg,isBoolean:Vb,isObject:Va,isPlainObject:Rl,isEmptyObject:Wb,isReadableStream:tw,isRequest:rw,isResponse:sw,isHeaders:nw,isUndefined:En,isDate:Kb,isFile:Jb,isBlob:Gb,isRegExp:xw,isFunction:ht,isStream:Xb,isURLSearchParams:ew,isTypedArray:hw,isFileList:Yb,forEach:Wa,merge:Rd,extend:lw,trim:aw,stripBOM:iw,inherits:ow,toFlatObject:dw,kindOf:Ri,kindOfTest:Bt,endsWith:cw,toArray:uw,forEachEntry:fw,matchAll:mw,isHTMLForm:gw,hasOwnProperty:I0,hasOwnProp:I0,reduceDescriptors:pg,freezeMethods:yw,toObjectSet:vw,toCamelCase:pw,noop:bw,toFiniteNumber:ww,findKey:mg,global:ds,isContextDefined:gg,isSpecCompliantForm:kw,toJSONObject:jw,isAsyncFn:Nw,isThenable:Sw,setImmediate:xg,asap:Cw,isIterable:Ew};function J(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}R.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const yg=J.prototype,vg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vg[e]={value:e}});Object.defineProperties(J,vg);Object.defineProperty(yg,"isAxiosError",{value:!0});J.from=(e,t,r,s,a,l)=>{const i=Object.create(yg);R.toFlatObject(e,i,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return J.call(i,o,d,r,s,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Pw=null;function _d(e){return R.isPlainObject(e)||R.isArray(e)}function bg(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function M0(e,t,r){return e?e.concat(t).map(function(a,l){return a=bg(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function Tw(e){return R.isArray(e)&&!e.some(_d)}const Ow=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function Li(e,t,r){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=R.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!R.isUndefined(b[y])});const s=r.metaTokens,a=r.visitor||c,l=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(R.isDate(p))return p.toISOString();if(R.isBoolean(p))return p.toString();if(!d&&R.isBlob(p))throw new J("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(p)||R.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,y,b){let g=p;if(p&&!b&&typeof p=="object"){if(R.endsWith(y,"{}"))y=s?y:y.slice(0,-2),p=JSON.stringify(p);else if(R.isArray(p)&&Tw(p)||(R.isFileList(p)||R.endsWith(y,"[]"))&&(g=R.toArray(p)))return y=bg(y),g.forEach(function(v,k){!(R.isUndefined(v)||v===null)&&t.append(i===!0?M0([y],k,l):i===null?y:y+"[]",u(v))}),!1}return _d(p)?!0:(t.append(M0(b,y,l),u(p)),!1)}const h=[],f=Object.assign(Ow,{defaultVisitor:c,convertValue:u,isVisitable:_d});function x(p,y){if(!R.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(p),R.forEach(p,function(g,m){(!(R.isUndefined(g)||g===null)&&a.call(t,g,R.isString(m)?m.trim():m,y,f))===!0&&x(g,y?y.concat(m):[m])}),h.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return x(e),t}function z0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Gc(e,t){this._pairs=[],e&&Li(e,this,t)}const wg=Gc.prototype;wg.append=function(t,r){this._pairs.push([t,r])};wg.toString=function(t){const r=t?function(s){return t.call(this,s,z0)}:z0;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Aw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kg(e,t,r){if(!t)return e;const s=r&&r.encode||Aw;R.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=R.isURLSearchParams(t)?t.toString():new Gc(t,r).toString(s),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class D0{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(s){s!==null&&t(s)})}}const jg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rw=typeof URLSearchParams<"u"?URLSearchParams:Gc,_w=typeof FormData<"u"?FormData:null,Lw=typeof Blob<"u"?Blob:null,Iw={isBrowser:!0,classes:{URLSearchParams:Rw,FormData:_w,Blob:Lw},protocols:["http","https","file","blob","url","data"]},Yc=typeof window<"u"&&typeof document<"u",Ld=typeof navigator=="object"&&navigator||void 0,Mw=Yc&&(!Ld||["ReactNative","NativeScript","NS"].indexOf(Ld.product)<0),zw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dw=Yc&&window.location.href||"http://localhost",Fw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yc,hasStandardBrowserEnv:Mw,hasStandardBrowserWebWorkerEnv:zw,navigator:Ld,origin:Dw},Symbol.toStringTag,{value:"Module"})),Qe={...Fw,...Iw};function Uw(e,t){return Li(e,new Qe.classes.URLSearchParams,{visitor:function(r,s,a,l){return Qe.isNode&&R.isBuffer(r)?(this.append(s,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function $w(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Bw(e){const t={},r=Object.keys(e);let s;const a=r.length;let l;for(s=0;s<a;s++)l=r[s],t[l]=e[l];return t}function Ng(e){function t(r,s,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),d=l>=r.length;return i=!i&&R.isArray(a)?a.length:i,d?(R.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!o):((!a[i]||!R.isObject(a[i]))&&(a[i]=[]),t(r,s,a[i],l)&&R.isArray(a[i])&&(a[i]=Bw(a[i])),!o)}if(R.isFormData(e)&&R.isFunction(e.entries)){const r={};return R.forEachEntry(e,(s,a)=>{t($w(s),a,r,0)}),r}return null}function qw(e,t,r){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Ka={transitional:jg,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,l=R.isObject(t);if(l&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return a?JSON.stringify(Ng(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Uw(t,this.formSerializer).toString();if((o=R.isFileList(t))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Li(o?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),qw(t)):t}],transformResponse:[function(t){const r=this.transitional||Ka.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(s&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?J.from(o,J.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{Ka.headers[e]={}});const Hw=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qw=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),s=i.substring(a+1).trim(),!(!r||t[r]&&Hw[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},F0=Symbol("internals");function Vn(e){return e&&String(e).trim().toLowerCase()}function _l(e){return e===!1||e==null?e:R.isArray(e)?e.map(_l):String(e)}function Vw(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const Ww=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yo(e,t,r,s,a){if(R.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!R.isString(t)){if(R.isString(s))return t.indexOf(s)!==-1;if(R.isRegExp(s))return s.test(t)}}function Kw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Jw(e,t){const r=R.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,l,i){return this[s].call(this,t,a,l,i)},configurable:!0})})}let ft=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function l(o,d,u){const c=Vn(d);if(!c)throw new Error("header name must be a non-empty string");const h=R.findKey(a,c);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||d]=_l(o))}const i=(o,d)=>R.forEach(o,(u,c)=>l(u,c,d));if(R.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(R.isString(t)&&(t=t.trim())&&!Ww(t))i(Qw(t),r);else if(R.isObject(t)&&R.isIterable(t)){let o={},d,u;for(const c of t){if(!R.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(d=o[u])?R.isArray(d)?[...d,c[1]]:[d,c[1]]:c[1]}i(o,r)}else t!=null&&l(r,t,s);return this}get(t,r){if(t=Vn(t),t){const s=R.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return Vw(a);if(R.isFunction(r))return r.call(this,a,s);if(R.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Vn(t),t){const s=R.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||yo(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function l(i){if(i=Vn(i),i){const o=R.findKey(s,i);o&&(!r||yo(s,s[o],o,r))&&(delete s[o],a=!0)}}return R.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const l=r[s];(!t||yo(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,s={};return R.forEach(this,(a,l)=>{const i=R.findKey(s,l);if(i){r[i]=_l(a),delete r[l];return}const o=t?Kw(l):String(l).trim();o!==l&&delete r[l],r[o]=_l(a),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return R.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&R.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[F0]=this[F0]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Vn(i);s[o]||(Jw(a,i),s[o]=!0)}return R.isArray(t)?t.forEach(l):l(t),this}};ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(ft.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});R.freezeMethods(ft);function vo(e,t){const r=this||Ka,s=t||r,a=ft.from(s.headers);let l=s.data;return R.forEach(e,function(o){l=o.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function Sg(e){return!!(e&&e.__CANCEL__)}function Mn(e,t,r){J.call(this,e??"canceled",J.ERR_CANCELED,t,r),this.name="CanceledError"}R.inherits(Mn,J,{__CANCEL__:!0});function Cg(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new J("Request failed with status code "+r.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Gw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Yw(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),c=s[l];i||(i=u),r[a]=d,s[a]=u;let h=l,f=0;for(;h!==a;)f+=r[h++],h=h%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),u-i<t)return;const x=c&&u-c;return x?Math.round(f*1e3/x):void 0}}function Xw(e,t){let r=0,s=1e3/t,a,l;const i=(u,c=Date.now())=>{r=c,a=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const c=Date.now(),h=c-r;h>=s?i(u,c):(a=u,l||(l=setTimeout(()=>{l=null,i(a)},s-h)))},()=>a&&i(a)]}const ci=(e,t,r=3)=>{let s=0;const a=Yw(50,250);return Xw(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,d=i-s,u=a(d),c=i<=o;s=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:d,rate:u||void 0,estimated:u&&o&&c?(o-i)/u:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},U0=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},$0=e=>(...t)=>R.asap(()=>e(...t)),Zw=Qe.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Qe.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,e1=Qe.hasStandardBrowserEnv?{write(e,t,r,s,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];R.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),R.isString(s)&&o.push(`path=${s}`),R.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),R.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function t1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function r1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Eg(e,t,r){let s=!t1(t);return e&&(s||r==!1)?r1(e,t):t}const B0=e=>e instanceof ft?{...e}:e;function Rs(e,t){t=t||{};const r={};function s(u,c,h,f){return R.isPlainObject(u)&&R.isPlainObject(c)?R.merge.call({caseless:f},u,c):R.isPlainObject(c)?R.merge({},c):R.isArray(c)?c.slice():c}function a(u,c,h,f){if(R.isUndefined(c)){if(!R.isUndefined(u))return s(void 0,u,h,f)}else return s(u,c,h,f)}function l(u,c){if(!R.isUndefined(c))return s(void 0,c)}function i(u,c){if(R.isUndefined(c)){if(!R.isUndefined(u))return s(void 0,u)}else return s(void 0,c)}function o(u,c,h){if(h in t)return s(u,c);if(h in e)return s(void 0,u)}const d={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,c,h)=>a(B0(u),B0(c),h,!0)};return R.forEach(Object.keys({...e,...t}),function(c){const h=d[c]||a,f=h(e[c],t[c],c);R.isUndefined(f)&&h!==o||(r[c]=f)}),r}const Pg=e=>{const t=Rs({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=ft.from(i),t.url=kg(Eg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),R.isFormData(r)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(R.isFunction(r.getHeaders)){const d=r.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([c,h])=>{u.includes(c.toLowerCase())&&i.set(c,h)})}}if(Qe.hasStandardBrowserEnv&&(s&&R.isFunction(s)&&(s=s(t)),s||s!==!1&&Zw(t.url))){const d=a&&l&&e1.read(l);d&&i.set(a,d)}return t},s1=typeof XMLHttpRequest<"u",n1=s1&&function(e){return new Promise(function(r,s){const a=Pg(e);let l=a.data;const i=ft.from(a.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:u}=a,c,h,f,x,p;function y(){x&&x(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(c),a.signal&&a.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function g(){if(!b)return;const v=ft.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),O={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:e,request:b};Cg(function(E){r(E),y()},function(E){s(E),y()},O),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(s(new J("Request aborted",J.ECONNABORTED,e,b)),b=null)},b.onerror=function(k){const O=k&&k.message?k.message:"Network Error",N=new J(O,J.ERR_NETWORK,e,b);N.event=k||null,s(N),b=null},b.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const O=a.transitional||jg;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),s(new J(k,O.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,b)),b=null},l===void 0&&i.setContentType(null),"setRequestHeader"in b&&R.forEach(i.toJSON(),function(k,O){b.setRequestHeader(O,k)}),R.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),o&&o!=="json"&&(b.responseType=a.responseType),u&&([f,p]=ci(u,!0),b.addEventListener("progress",f)),d&&b.upload&&([h,x]=ci(d),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(c=v=>{b&&(s(!v||v.type?new Mn(null,e,b):v),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(c),a.signal&&(a.signal.aborted?c():a.signal.addEventListener("abort",c)));const m=Gw(a.url);if(m&&Qe.protocols.indexOf(m)===-1){s(new J("Unsupported protocol "+m+":",J.ERR_BAD_REQUEST,e));return}b.send(l||null)})},a1=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const l=function(u){if(!a){a=!0,o();const c=u instanceof Error?u:this.reason;s.abort(c instanceof J?c:new Mn(c instanceof Error?c.message:c))}};let i=t&&setTimeout(()=>{i=null,l(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:d}=s;return d.unsubscribe=()=>R.asap(o),d}},l1=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},i1=async function*(e,t){for await(const r of o1(e))yield*l1(r,t)},o1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},q0=(e,t,r,s)=>{const a=i1(e,t);let l=0,i,o=d=>{i||(i=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:u,value:c}=await a.next();if(u){o(),d.close();return}let h=c.byteLength;if(r){let f=l+=h;r(f)}d.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(d){return o(d),a.return()}},{highWaterMark:2})},H0=64*1024,{isFunction:yl}=R,d1=(({Request:e,Response:t})=>({Request:e,Response:t}))(R.global),{ReadableStream:Q0,TextEncoder:V0}=R.global,W0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},c1=e=>{e=R.merge.call({skipUndefined:!0},d1,e);const{fetch:t,Request:r,Response:s}=e,a=t?yl(t):typeof fetch=="function",l=yl(r),i=yl(s);if(!a)return!1;const o=a&&yl(Q0),d=a&&(typeof V0=="function"?(p=>y=>p.encode(y))(new V0):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=l&&o&&W0(()=>{let p=!1;const y=new r(Qe.origin,{body:new Q0,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),c=i&&o&&W0(()=>R.isReadableStream(new s("").body)),h={stream:c&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(y,b)=>{let g=y&&y[p];if(g)return g.call(y);throw new J(`Response type '${p}' is not supported`,J.ERR_NOT_SUPPORT,b)})});const f=async p=>{if(p==null)return 0;if(R.isBlob(p))return p.size;if(R.isSpecCompliantForm(p))return(await new r(Qe.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(R.isArrayBufferView(p)||R.isArrayBuffer(p))return p.byteLength;if(R.isURLSearchParams(p)&&(p=p+""),R.isString(p))return(await d(p)).byteLength},x=async(p,y)=>{const b=R.toFiniteNumber(p.getContentLength());return b??f(y)};return async p=>{let{url:y,method:b,data:g,signal:m,cancelToken:v,timeout:k,onDownloadProgress:O,onUploadProgress:N,responseType:E,headers:C,withCredentials:A="same-origin",fetchOptions:T}=Pg(p),L=t||fetch;E=E?(E+"").toLowerCase():"text";let V=a1([m,v&&v.toAbortSignal()],k),K=null;const se=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let ne;try{if(N&&u&&b!=="get"&&b!=="head"&&(ne=await x(C,g))!==0){let G=new r(y,{method:"POST",body:g,duplex:"half"}),$;if(R.isFormData(g)&&($=G.headers.get("content-type"))&&C.setContentType($),G.body){const[be,$e]=U0(ne,ci($0(N)));g=q0(G.body,H0,be,$e)}}R.isString(A)||(A=A?"include":"omit");const ce=l&&"credentials"in r.prototype,Ae={...T,signal:V,method:b.toUpperCase(),headers:C.normalize().toJSON(),body:g,duplex:"half",credentials:ce?A:void 0};K=l&&new r(y,Ae);let z=await(l?L(K,T):L(y,Ae));const H=c&&(E==="stream"||E==="response");if(c&&(O||H&&se)){const G={};["status","statusText","headers"].forEach(_=>{G[_]=z[_]});const $=R.toFiniteNumber(z.headers.get("content-length")),[be,$e]=O&&U0($,ci($0(O),!0))||[];z=new s(q0(z.body,H0,be,()=>{$e&&$e(),se&&se()}),G)}E=E||"text";let W=await h[R.findKey(h,E)||"text"](z,p);return!H&&se&&se(),await new Promise((G,$)=>{Cg(G,$,{data:W,headers:ft.from(z.headers),status:z.status,statusText:z.statusText,config:p,request:K})})}catch(ce){throw se&&se(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,p,K),{cause:ce.cause||ce}):J.from(ce,ce&&ce.code,p,K)}}},u1=new Map,Tg=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,l=[s,a,r];let i=l.length,o=i,d,u,c=u1;for(;o--;)d=l[o],u=c.get(d),u===void 0&&c.set(d,u=o?new Map:c1(t)),c=u;return u};Tg();const Xc={http:Pw,xhr:n1,fetch:{get:Tg}};R.forEach(Xc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const K0=e=>`- ${e}`,h1=e=>R.isFunction(e)||e===null||e===!1;function f1(e,t){e=R.isArray(e)?e:[e];const{length:r}=e;let s,a;const l={};for(let i=0;i<r;i++){s=e[i];let o;if(a=s,!h1(s)&&(a=Xc[(o=String(s)).toLowerCase()],a===void 0))throw new J(`Unknown adapter '${o}'`);if(a&&(R.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(K0).join(`
`):" "+K0(i[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const Og={getAdapter:f1,adapters:Xc};function bo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mn(null,e)}function J0(e){return bo(e),e.headers=ft.from(e.headers),e.data=vo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Og.getAdapter(e.adapter||Ka.adapter,e)(e).then(function(s){return bo(e),s.data=vo.call(e,e.transformResponse,s),s.headers=ft.from(s.headers),s},function(s){return Sg(s)||(bo(e),s&&s.response&&(s.response.data=vo.call(e,e.transformResponse,s.response),s.response.headers=ft.from(s.response.headers))),Promise.reject(s)})}const Ag="1.13.2",Ii={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ii[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const G0={};Ii.transitional=function(t,r,s){function a(l,i){return"[Axios v"+Ag+"] Transitional option '"+l+"'"+i+(s?". "+s:"")}return(l,i,o)=>{if(t===!1)throw new J(a(i," has been removed"+(r?" in "+r:"")),J.ERR_DEPRECATED);return r&&!G0[i]&&(G0[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};Ii.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function m1(e,t,r){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const l=s[a],i=t[l];if(i){const o=e[l],d=o===void 0||i(o,l,e);if(d!==!0)throw new J("option "+l+" must be "+d,J.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new J("Unknown option "+l,J.ERR_BAD_OPTION)}}const Ll={assertOptions:m1,validators:Ii},Qt=Ll.validators;let ws=class{constructor(t){this.defaults=t||{},this.interceptors={request:new D0,response:new D0}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Rs(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:l}=r;s!==void 0&&Ll.assertOptions(s,{silentJSONParsing:Qt.transitional(Qt.boolean),forcedJSONParsing:Qt.transitional(Qt.boolean),clarifyTimeoutError:Qt.transitional(Qt.boolean)},!1),a!=null&&(R.isFunction(a)?r.paramsSerializer={serialize:a}:Ll.assertOptions(a,{encode:Qt.function,serialize:Qt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ll.assertOptions(r,{baseUrl:Qt.spelling("baseURL"),withXsrfToken:Qt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&R.merge(l.common,l[r.method]);l&&R.forEach(["delete","get","head","post","put","patch","common"],p=>{delete l[p]}),r.headers=ft.concat(i,l);const o=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(d=d&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,h=0,f;if(!d){const p=[J0.bind(this),void 0];for(p.unshift(...o),p.push(...u),f=p.length,c=Promise.resolve(r);h<f;)c=c.then(p[h++],p[h++]);return c}f=o.length;let x=r;for(;h<f;){const p=o[h++],y=o[h++];try{x=p(x)}catch(b){y.call(this,b);break}}try{c=J0.call(this,x)}catch(p){return Promise.reject(p)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(t){t=Rs(this.defaults,t);const r=Eg(t.baseURL,t.url,t.allowAbsoluteUrls);return kg(r,t.params,t.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(t){ws.prototype[t]=function(r,s){return this.request(Rs(s||{},{method:t,url:r,data:(s||{}).data}))}});R.forEach(["post","put","patch"],function(t){function r(s){return function(l,i,o){return this.request(Rs(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}ws.prototype[t]=r(),ws.prototype[t+"Form"]=r(!0)});let g1=class Rg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{s.subscribe(o),l=o}).then(a);return i.cancel=function(){s.unsubscribe(l)},i},t(function(l,i,o){s.reason||(s.reason=new Mn(l,i,o),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Rg(function(a){t=a}),cancel:t}}};function p1(e){return function(r){return e.apply(null,r)}}function x1(e){return R.isObject(e)&&e.isAxiosError===!0}const Id={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Id).forEach(([e,t])=>{Id[t]=e});function _g(e){const t=new ws(e),r=cg(ws.prototype.request,t);return R.extend(r,ws.prototype,t,{allOwnKeys:!0}),R.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return _g(Rs(e,a))},r}const ke=_g(Ka);ke.Axios=ws;ke.CanceledError=Mn;ke.CancelToken=g1;ke.isCancel=Sg;ke.VERSION=Ag;ke.toFormData=Li;ke.AxiosError=J;ke.Cancel=ke.CanceledError;ke.all=function(t){return Promise.all(t)};ke.spread=p1;ke.isAxiosError=x1;ke.mergeConfig=Rs;ke.AxiosHeaders=ft;ke.formToJSON=e=>Ng(R.isHTMLForm(e)?new FormData(e):e);ke.getAdapter=Og.getAdapter;ke.HttpStatusCode=Id;ke.default=ke;const{Axios:l2,AxiosError:i2,CanceledError:o2,isCancel:d2,CancelToken:c2,VERSION:u2,all:h2,Cancel:f2,isAxiosError:m2,spread:g2,toFormData:p2,AxiosHeaders:x2,HttpStatusCode:y2,formToJSON:v2,getAdapter:b2,mergeConfig:w2}=ke,Lg="https://homly-backend-8616.onrender.com/api";console.log(" API Base URL:",Lg);console.log(" Environment:","production");const q=ke.create({baseURL:Lg,timeout:12e4,headers:{"Content-Type":"application/json"},withCredentials:!0});q.interceptors.request.use(e=>e,e=>Promise.reject(e));q.interceptors.response.use(e=>e.data,e=>{var r,s,a,l,i,o,d,u,c,h,f,x;const t=((s=(r=e.response)==null?void 0:r.data)==null?void 0:s.message)||e.message||"An error occurred";return console.error("API Error Details:",{message:t,status:(a=e.response)==null?void 0:a.status,statusText:(l=e.response)==null?void 0:l.statusText,url:(i=e.config)==null?void 0:i.url,method:(o=e.config)==null?void 0:o.method,data:(d=e.response)==null?void 0:d.data,hasAuthToken:!!((c=(u=e.config)==null?void 0:u.headers)!=null&&c.Authorization)}),((h=e.response)==null?void 0:h.status)===401&&(console.warn("Session expired or unauthorized. Dispatching logout event."),window.dispatchEvent(new Event("auth:unauthorized"))),Promise.reject({message:t,status:(f=e.response)==null?void 0:f.status,data:(x=e.response)==null?void 0:x.data})});const D={getProducts:(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.category&&t.append("category",e.category),e.search&&t.append("search",e.search),e.featured&&t.append("featured",e.featured),e.storeId&&t.append("storeId",e.storeId);const r=t.toString();return q.get(`/products${r?`?${r}`:""}`)},getProduct:e=>q.get(`/products/${e}`),createProduct:e=>q.post("/products",e),updateProduct:(e,t)=>q.put(`/products/${e}`,t),deleteProduct:e=>q.delete(`/products/${e}`),getStores:()=>q.get("/stores"),getStore:e=>q.get(`/stores/${e}`),createStore:e=>q.post("/stores",e),createStore:e=>q.post("/stores",e),updateStore:(e,t)=>q.put(`/stores/${e}`,t),deleteStore:e=>q.delete(`/stores/${e}`),getNews:()=>q.get("/news"),getNewsItem:e=>q.get(`/news/${e}`),createNews:e=>q.post("/news",e),updateNews:(e,t)=>q.put(`/news/${e}`,t),deleteNews:e=>q.delete(`/news/${e}`),getOrders:()=>q.get("/orders"),getOrder:e=>q.get(`/orders/${e}`),createOrder:e=>q.post("/orders",e),updateOrderStatus:(e,t)=>q.put(`/orders/${e}`,{status:t}),deleteOrder:e=>q.delete(`/orders/${e}`),register:e=>q.post("/users/register",e),login:e=>q.post("/users/login",e),logout:()=>q.post("/users/logout"),forgotPassword:e=>q.post("/users/forgotpassword",{email:e}),resetPassword:(e,t)=>q.put(`/users/resetpassword/${e}`,{password:t}),getProfile:()=>q.get("/users/profile"),updateProfile:e=>q.put("/users/profile",e),getSavedProducts:()=>q.get("/users/profile/saved-products"),toggleSavedProduct:e=>q.post("/users/profile/saved-products",{productId:e}),getAds:()=>q.get("/ads"),getAd:e=>q.get(`/ads/${e}`),createAd:e=>q.post("/ads",e),updateAd:(e,t)=>q.put(`/ads/${e}`,t),deleteAd:e=>q.delete(`/ads/${e}`),categories:{getAll:()=>q.get("/categories"),create:e=>q.post("/categories",e),delete:e=>q.delete(`/categories/${e}`)},services:{getAll:()=>q.get("/services"),create:e=>q.post("/services",e),update:(e,t)=>q.put(`/services/${e}`,t),delete:e=>q.delete(`/services/${e}`)},serviceRequests:{create:e=>q.post("/service-requests",e),getAll:()=>q.get("/service-requests"),updateStatus:(e,t)=>q.put(`/service-requests/${e}`,{status:t}),delete:e=>q.delete(`/service-requests/${e}`)},getAllUsers:()=>q.get("/users"),updateUser:(e,t)=>q.put(`/users/${e}`,t),deleteUser:e=>q.delete(`/users/${e}`),settings:{get:e=>q.get(`/settings${e?`/${e}`:""}`),update:(e,t)=>q.put(`/settings/${e}`,{value:t})}},y1=Object.freeze(Object.defineProperty({__proto__:null,apiService:D,default:q},Symbol.toStringTag,{value:"Module"})),Ja=w.createContext(),v1=({children:e})=>{const[t,r]=w.useState(null),[s,a]=w.useState(!0),[l,i]=w.useState(null);w.useEffect(()=>{(async()=>{try{const x=await D.getProfile();r(x.data),localStorage.setItem("userInfo",JSON.stringify(x.data))}catch{r(null),localStorage.removeItem("userInfo"),localStorage.removeItem("authToken")}finally{a(!1)}})();const f=()=>{r(null),localStorage.removeItem("userInfo"),localStorage.removeItem("authToken"),window.dispatchEvent(new Event("userChanged"))};return window.addEventListener("auth:unauthorized",f),()=>{window.removeEventListener("auth:unauthorized",f)}},[]);const o=async(h,f)=>{try{i(null);const x=await D.login({email:h,password:f});return r(x.data),r(x.data),localStorage.setItem("userInfo",JSON.stringify(x.data)),window.dispatchEvent(new Event("userChanged")),!0}catch(x){return i(x.response&&x.response.data.message?x.response.data.message:x.message),!1}},d=async(h,f,x,p)=>{try{i(null);const y=await D.register({name:h,email:f,password:x,mobile:p});return r(y.data),localStorage.setItem("userInfo",JSON.stringify(y.data)),window.dispatchEvent(new Event("userChanged")),!0}catch(y){return i(y.response&&y.response.data.message?y.response.data.message:y.message),!1}},u=async()=>{try{await D.logout()}catch(h){console.error("Logout failed on server",h)}localStorage.removeItem("userInfo"),localStorage.removeItem("authToken"),r(null),window.dispatchEvent(new Event("userChanged"))},c=h=>{r(h),localStorage.setItem("userInfo",JSON.stringify(h))};return n.jsx(Ja.Provider,{value:{user:t,setUser:c,login:o,register:d,logout:u,loading:s,error:l},children:e})},Ga=()=>{const e=w.useContext(Ja);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ig=w.createContext(),oe=()=>w.useContext(Ig),b1=({children:e})=>{const[t,r]=w.useState(()=>localStorage.getItem("language")||"en");w.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t},[t]);const s=o=>{(o==="en"||o==="ta")&&r(o)},a={Home:{en:"Home",ta:""},Store:{en:"Store",ta:""},Orders:{en:"Orders",ta:""},Profile:{en:"Profile",ta:""},Cart:{en:"Cart",ta:""},Checkout:{en:"Checkout",ta:""},Admin:{en:"Admin",ta:""},Categories:{en:"Categories",ta:""},Search:{en:"Search",ta:""},"Search products...":{en:"Search products...",ta:" ..."},"Search by store name or location...":{en:"Search by store name or location...",ta:"     ..."},"Search orders...":{en:"Search orders...",ta:" ..."},"Search users by name or email...":{en:"Search users by name or email...",ta:"     ..."},"Add to Cart":{en:"Add to Cart",ta:" "},"Buy Now":{en:"Buy Now",ta:" "},"Place Order":{en:"Place Order",ta:" "},"Confirm Order":{en:"Confirm Order",ta:" "},Total:{en:"Total",ta:""},Price:{en:"Price",ta:""},Quantity:{en:"Quantity",ta:""},Subtotal:{en:"Subtotal",ta:" "},Shipping:{en:"Shipping",ta:""},"Delivery Charge":{en:"Delivery Charge",ta:" "},Tax:{en:"Tax",ta:""},Free:{en:"Free",ta:""},"Proceed to Checkout":{en:"Proceed to Checkout",ta:" "},"Continue Shopping":{en:"Continue Shopping",ta:" "},"Your cart is empty":{en:"Your cart is empty",ta:"   "},"Start Shopping":{en:"Start Shopping",ta:" "},"Order Summary":{en:"Order Summary",ta:" "},"Shipping Address":{en:"Shipping Address",ta:" "},"Payment Method":{en:"Payment Method",ta:"  "},"Full Name":{en:"Full Name",ta:" "},Address:{en:"Address",ta:""},City:{en:"City",ta:""},Pincode:{en:"Pincode",ta:""},"Mobile Number":{en:"Mobile Number",ta:" "},Back:{en:"Back",ta:""},"Back to Cart":{en:"Back to Cart",ta:" "},"Back to Store":{en:"Back to Store",ta:" "},"Product not found":{en:"Product not found",ta:" "},"Return to Store":{en:"Return to Store",ta:" "},"Find a Store":{en:"Find a Store",ta:" "},"Visit Store":{en:"Visit Store",ta:" "},"No stores found":{en:"No stores found",ta:"  "},"Search products...":{en:"Search products...",ta:" ..."},"Clear Filters":{en:"Clear Filters",ta:" "},"All Products":{en:"All Products",ta:" "},"No products found":{en:"No products found",ta:"  "},"Shop Now":{en:"Shop Now",ta:"  "},"Quick Links":{en:"Quick Links",ta:" "},"Customer Service":{en:"Customer Service",ta:" "},"Contact Us":{en:"Contact Us",ta:"  "},"About Us":{en:"About Us",ta:" "},Contact:{en:"Contact",ta:""},"Privacy Policy":{en:"Privacy Policy",ta:" "},Terms:{en:"Terms",ta:""},Privacy:{en:"Privacy",ta:""},Cookies:{en:"Cookies",ta:""},Login:{en:"Login",ta:""},Logout:{en:"Logout",ta:""},"My Profile":{en:"My Profile",ta:" "},"Edit Profile":{en:"Edit Profile",ta:" "},"Save Changes":{en:"Save Changes",ta:" "},Cancel:{en:"Cancel",ta:" "},"Order History":{en:"Order History",ta:" "},"Order ID":{en:"Order ID",ta:" "},Date:{en:"Date",ta:""},Status:{en:"Status",ta:""},"Manage and track your recent orders":{en:"Manage and track your recent orders",ta:"     "},"View Details":{en:"View Details",ta:" "},"more items":{en:"more items",ta:" "},"Delete Order":{en:"Delete Order",ta:" "},Processing:{en:"Processing",ta:""},Shipped:{en:"Shipped",ta:""},Delivered:{en:"Delivered",ta:" "},Cancelled:{en:"Cancelled",ta:" "},"Cash on Delivery":{en:"Cash on Delivery",ta:"  "},"Review Order":{en:"Review Order",ta:"  "},"Review Your Order":{en:"Review Your Order",ta:"   "},"Order Placed!":{en:"Order Placed!",ta:" !"},"Order Items":{en:"Order Items",ta:" "},"Thank you for your purchase. Your order has been confirmed and will be shipped soon.":{en:"Thank you for your purchase. Your order has been confirmed and will be shipped soon.",ta:"  .      ."},Dashboard:{en:"Dashboard",ta:""},Products:{en:"Products",ta:""},Stores:{en:"Stores",ta:""},"News & Offers":{en:"News & Offers",ta:" & "},Users:{en:"Users",ta:""},"Ads Slider":{en:"Ads Slider",ta:" "},"Admin Panel":{en:"Admin Panel",ta:" "},"Product Inventory":{en:"Product Inventory",ta:" "},"Add New Product":{en:"Add New Product",ta:"  "},"Edit Product":{en:"Edit Product",ta:" "},"View List":{en:"View List",ta:" "},"Add Product":{en:"Add Product",ta:" "},Image:{en:"Image",ta:""},Title:{en:"Title",ta:""},Category:{en:"Category",ta:""},Actions:{en:"Actions",ta:""},"Product Title":{en:"Product Title",ta:" "},"Product Title (Tamil)":{en:"Product Title (Tamil)",ta:"  ()"},Description:{en:"Description",ta:""},"Description (Tamil)":{en:"Description (Tamil)",ta:" ()"},"Main Image":{en:"Main Image",ta:" "},"Upload Image":{en:"Upload Image",ta:" "},"Slider Images (Optional)":{en:"Slider Images (Optional)",ta:"  ()"},"Update Product":{en:"Update Product",ta:" "},"Store Management":{en:"Store Management",ta:" "},"Add Store":{en:"Add Store",ta:" "},"Store Name":{en:"Store Name",ta:" "},"Store Name (Tamil)":{en:"Store Name (Tamil)",ta:"  ()"},Location:{en:"Location",ta:""},"Location (Tamil)":{en:"Location (Tamil)",ta:" ()"},"Store Image":{en:"Store Image",ta:" "},"Update Store":{en:"Update Store",ta:" "},"Manage Products":{en:"Manage Products",ta:" "},"Add Product to Store":{en:"Add Product to Store",ta:"  "},"News Management":{en:"News Management",ta:" "},"Add News":{en:"Add News",ta:" "},"News Title":{en:"News Title",ta:" "},"News Title (Tamil)":{en:"News Title (Tamil)",ta:"  ()"},Type:{en:"Type",ta:""},Content:{en:"Content",ta:""},"Content (Tamil)":{en:"Content (Tamil)",ta:" ()"},"Order Management":{en:"Order Management",ta:" "},"User Management":{en:"User Management",ta:" "},"Ads Management":{en:"Ads Management",ta:" "},"Select Category":{en:"Select Category",ta:" "},"Product description...":{en:"Product description...",ta:" ..."},"No products found in this store. Add one to get started!":{en:"No products found in this store. Add one to get started!",ta:"    .   !"},"Are you sure you want to delete this product?":{en:"Are you sure you want to delete this product?",ta:"    ?"},"Product deleted successfully!":{en:"Product deleted successfully!",ta:"  !"},"Product updated successfully!":{en:"Product updated successfully!",ta:"  !"},"Product uploaded successfully!":{en:"Product uploaded successfully!",ta:"  !"},"Store deleted successfully!":{en:"Store deleted successfully!",ta:"  !"},"Store updated successfully!":{en:"Store updated successfully!",ta:"  !"},"Store added successfully!":{en:"Store added successfully!",ta:"  !"},"Product added to store successfully!":{en:"Product added to store successfully!",ta:"   !"},Shop:{en:"Shop",ta:""},FAQ:{en:"FAQ",ta:"  "},"Shipping Policy":{en:"Shipping Policy",ta:" "},"Returns & Refunds":{en:"Returns & Refunds",ta:"  &   "},"All rights reserved":{en:"All rights reserved",ta:"  "},"Search by store name or location...":{en:"Search by store name or location...",ta:"     ..."},"Try adjusting your search terms to find what you're looking for.":{en:"Try adjusting your search terms to find what you're looking for.",ta:"      ."},"Street Address":{en:"Street Address",ta:" "},State:{en:"State",ta:""},Country:{en:"Country",ta:""},"Including VAT":{en:"Including VAT",ta:"VAT "},"Back to Edit":{en:"Back to Edit",ta:" "},"City Name":{en:"City Name",ta:" "},"John Doe":{en:"John Doe",ta:" "},"123 Main St":{en:"123 Main St",ta:"123  "},Discount:{en:"Discount",ta:""},"more items":{en:"more items",ta:" "},"Total Amount":{en:"Total Amount",ta:" "},Card:{en:"Card",ta:""},"ending in":{en:"ending in",ta:" "},"Store Timing":{en:"Store Timing",ta:" "},"Contact Number":{en:"Contact Number",ta:" "},"Mobile No":{en:"Mobile No",ta:" "},"Summer Collection 2024":{en:"Summer Collection 2024",ta:"  2024"},"Discover the latest trends in fashion.":{en:"Discover the latest trends in fashion.",ta:"   ."},"Modern Electronics":{en:"Modern Electronics",ta:" "},"Upgrade your lifestyle with new tech.":{en:"Upgrade your lifestyle with new tech.",ta:"     ."},"Cozy Home Living":{en:"Cozy Home Living",ta:"  "},"Make your home your sanctuary.":{en:"Make your home your sanctuary.",ta:"    ."},"Shop the latest trends":{en:"Shop the latest trends",ta:"   "},Sports:{en:"Sports",ta:""},Toys:{en:"Toys",ta:""},Books:{en:"Books",ta:""},Automotive:{en:"Automotive",ta:""},"Manage and track your recent orders":{en:"Manage and track your recent orders",ta:"    "},"Search orders...":{en:"Search orders...",ta:" ..."},"Cancel Order":{en:"Cancel Order",ta:"  "},"Are you sure you want to delete this order? This action cannot be undone.":{en:"Are you sure you want to delete this order? This action cannot be undone.",ta:"    ?    ."},Delete:{en:"Delete",ta:""},Headline:{en:"Headline",ta:""},"Headline (Tamil)":{en:"Headline (Tamil)",ta:" ()"},"Publish News & Offers":{en:"Publish News & Offers",ta:" &  "},"Edit Post":{en:"Edit Post",ta:" "},Publish:{en:"Publish",ta:""},"Update Post":{en:"Update Post",ta:" "},"Add Post":{en:"Add Post",ta:" "},"Manage Orders":{en:"Manage Orders",ta:" "},Customer:{en:"Customer",ta:""},Pending:{en:"Pending",ta:""},"User Database":{en:"User Database",ta:" "},"Ads Slider Management":{en:"Ads Slider Management",ta:"  "},"Add New Ad Image":{en:"Add New Ad Image",ta:"   "},"Ad Image":{en:"Ad Image",ta:" "},"Title (Optional)":{en:"Title (Optional)",ta:" ()"},"Ad Title":{en:"Ad Title",ta:" "},Add:{en:"Add",ta:""},Offer:{en:"Offer",ta:""},News:{en:"News",ta:""},Deal:{en:"Deal",ta:""},All:{en:"All",ta:""},Active:{en:"Active",ta:""},Completed:{en:"Completed",ta:""},"Try adjusting your search or filter to find what you're looking for.":{en:"Try adjusting your search or filter to find what you're looking for.",ta:"       ."},Electronics:{en:"Electronics",ta:""},Fashion:{en:"Fashion",ta:""},Beauty:{en:"Beauty",ta:""},Language:{en:"Language",ta:""},Appearance:{en:"Appearance",ta:""},"Dark Mode":{en:"Dark Mode",ta:" "},"Light Mode":{en:"Light Mode",ta:" "},"Sign Out":{en:"Sign Out",ta:""},"Orders Dashboard":{en:"Orders Dashboard",ta:" "},"View All Orders":{en:"View All Orders",ta:"  "},"Total Orders":{en:"Total Orders",ta:" "},"Track your recent order":{en:"Track your recent order",ta:"   "},"No orders yet":{en:"No orders yet",ta:"  "},"Admin Dashboard":{en:"Admin Dashboard",ta:" "},"Manage products, stores, and users":{en:"Manage products, stores, and users",ta:",    "},"Check out latest deals and updates":{en:"Check out latest deals and updates",ta:"    "},"No orders found":{en:"No orders found",ta:"  "}},i={language:t,setLanguage:s,t:(o,d=null)=>typeof o=="object"&&o!==null&&d?o[d]:a[o]?a[o][t]||a[o].en||o:(console.warn(`Translation missing for key: "${o}"`),o)};return n.jsx(Ig.Provider,{value:i,children:e})},w1=()=>{const{t:e}=oe(),[t,r]=w.useState(!1),[s,a]=w.useState(""),{cartCount:l}=ts(),{user:i}=Ga(),o=Te(),u=wt().pathname.startsWith("/admin"),c=f=>{f.preventDefault();const p=new URLSearchParams(window.location.search).get("category");let y="/?";s.trim()&&(y+=`search=${encodeURIComponent(s)}`),p&&(y+=`${s.trim()?"&":""}category=${encodeURIComponent(p)}`),!s.trim()&&!p?o("/"):o(y),r(!1)},h=f=>{const x=f.target.value;a(x),x.trim()===""&&o("/")};return n.jsxs("nav",{className:"sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-800 transition-colors duration-200 pt-[env(safe-area-inset-top)]",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs(X,{to:"/",className:"flex items-center gap-2 group",children:[n.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-xl group-hover:scale-110 transition-transform duration-300",children:n.jsx(er,{size:24})}),n.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent dark:from-blue-400 dark:to-blue-600",children:"Homly"})]}),n.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[n.jsxs("form",{onSubmit:c,className:"relative",children:[n.jsx("input",{type:"text",placeholder:e("Search products..."),value:s,onChange:h,className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white transition-colors"}),n.jsx(Jr,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400 dark:text-gray-500"})]}),n.jsx(X,{to:"/",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",children:e("Home")}),n.jsx(X,{to:"/store",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",children:e("Store")}),n.jsx(X,{to:"/orders",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",children:e("Orders")}),i?n.jsx(X,{to:"/profile",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",children:e("Profile")}):n.jsx(X,{to:"/login",className:"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",children:e("Login")}),!u&&n.jsxs(X,{to:"/cart",className:"relative p-2 text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors group",children:[n.jsx(Oa,{size:24}),l>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center group-hover:scale-110 transition-transform",children:l})]})]}),n.jsx("div",{className:"md:hidden flex items-center gap-4",children:!u&&n.jsxs(X,{to:"/cart",className:"relative p-2 text-gray-600 dark:text-gray-300",children:[n.jsx(Oa,{size:24}),l>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:l})]})})]})}),t&&n.jsx("div",{className:"md:hidden absolute top-16 left-0 w-full bg-white dark:bg-gray-900 border-b border-gray-100 dark:border-gray-800 shadow-lg animate-fade-in-down",children:n.jsxs("div",{className:"px-4 py-6 space-y-4",children:[n.jsxs("form",{onSubmit:c,className:"relative mb-4",children:[n.jsx("input",{type:"text",placeholder:e("Search products..."),value:s,onChange:h,className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white"}),n.jsx(Jr,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400 dark:text-gray-500"})]}),n.jsx(X,{to:"/",className:"block px-4 py-3 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",onClick:()=>r(!1),children:e("Home")}),n.jsx(X,{to:"/store",className:"block px-4 py-3 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",onClick:()=>r(!1),children:e("Store")}),n.jsx(X,{to:"/orders",className:"block px-4 py-3 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",onClick:()=>r(!1),children:e("Orders")}),i?n.jsx(X,{to:"/profile",className:"block px-4 py-3 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",onClick:()=>r(!1),children:e("Profile")}):n.jsx(X,{to:"/login",className:"block px-4 py-3 rounded-xl text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors",onClick:()=>r(!1),children:e("Login")})]})})]})},Mg=w.createContext(),Oe=()=>w.useContext(Mg),k1=({children:e})=>{const[t,r]=w.useState([]),[s,a]=w.useState([]),[l,i]=w.useState({products:!1,stores:!1,news:!1,orders:!!localStorage.getItem("authToken"),services:!1,ads:!1,categories:!1,users:!1}),[o,d]=w.useState({products:null,stores:null,news:null,orders:null,services:null,ads:null,categories:null,users:null}),[u,c]=w.useState([]),[h,f]=w.useState([]),[x,p]=w.useState([]),[y,b]=w.useState([]),[g,m]=w.useState([]),[v,k]=w.useState([]),[O,N]=w.useState([]),[E,C]=w.useState({deliveryTimes:[],maintenanceMode:!1}),[A,T]=w.useState(!0),[L]=w.useState(Date.now());w.useEffect(()=>{localStorage.removeItem("products"),localStorage.removeItem("ads"),localStorage.removeItem("stores"),localStorage.removeItem("news"),localStorage.removeItem("categories"),localStorage.removeItem("orders"),console.log(" Cleared all data cache from localStorage to enforce DB loading")},[]);const V=async()=>{console.log(" Starting to fetch products..."),i(S=>({...S,products:!0})),d(S=>({...S,products:null}));try{console.log(" Calling API: getProducts({ limit: 50, page: 1 })");const S=await D.getProducts({limit:50,page:1});console.log(" API Response:",S),S.success&&S.data?(r(S.data),console.log(` Loaded ${S.data.length} of ${S.total} products from database`)):(console.error(" API returned unsuccessful response:",S),setTimeout(()=>T(!1),1500))}catch(S){console.error(" Failed to fetch products:",S),d(j=>({...j,products:S.message})),setTimeout(()=>T(!1),1500)}finally{i(S=>({...S,products:!1}))}},K=async()=>{i(S=>({...S,stores:!0})),d(S=>({...S,stores:null}));try{const S=await D.getStores();S.success&&S.data&&(a(S.data),console.log(` Loaded ${S.data.length} stores from database`))}catch(S){console.error("Failed to fetch stores:",S),d(j=>({...j,stores:S.message}))}finally{i(S=>({...S,stores:!1}))}},se=async()=>{i(S=>({...S,news:!0})),d(S=>({...S,news:null}));try{const S=await D.getNews();S.success&&S.data&&f(S.data)}catch(S){console.error("Failed to fetch news:",S),d(j=>({...j,news:S.message}))}finally{i(S=>({...S,news:!1}))}};w.useEffect(()=>{V()},[]),w.useEffect(()=>{K()},[]),w.useEffect(()=>{se()},[]);const ne=async()=>{i(S=>({...S,orders:!0})),d(S=>({...S,orders:null}));try{const S=await D.getOrders();S.success&&S.data&&c(S.data)}catch(S){console.error("Failed to fetch orders:",S),d(j=>({...j,orders:S.message}))}finally{i(S=>({...S,orders:!1}))}};w.useEffect(()=>{const S=()=>{console.log(" User changed detected in DataContext. Refreshing user-specific data..."),ne(),Bi(),localStorage.getItem("authToken")||(console.log(" User logged out. Clearing sensitive data."),c([]),N([]),k([]))};return window.addEventListener("userChanged",S),localStorage.getItem("authToken")&&ne(),()=>{window.removeEventListener("userChanged",S)}},[]);const ce=async()=>{i(S=>({...S,categories:!0})),d(S=>({...S,categories:null}));try{console.log("DataContext: Fetching categories...");const S=await D.categories.getAll();console.log("DataContext: Categories response:",S),S.success&&S.data&&(b(S.data),console.log("DataContext: Categories set successfully, count:",S.data.length))}catch(S){console.error("DataContext: Failed to fetch categories - Full error:",S),d(j=>({...j,categories:S.message}))}finally{i(S=>({...S,categories:!1}))}},Ae=async()=>{i(S=>({...S,users:!0})),d(S=>({...S,users:null}));try{console.log("DataContext: Fetching users...");const S=await D.getAllUsers();console.log("DataContext: Users response:",S),S.success&&S.data&&(m(S.data),console.log("DataContext: Users set successfully, count:",S.data.length))}catch(S){throw console.error("DataContext: Failed to fetch users - Full error:",S),d(j=>({...j,users:S.message})),S}finally{i(S=>({...S,users:!1}))}},z=async()=>{i(S=>({...S,ads:!0})),d(S=>({...S,ads:null}));try{const S=await D.getAds();S.success&&S.data&&p(S.data)}catch(S){console.error("Failed to fetch ads:",S),d(j=>({...j,ads:S.message}))}finally{i(S=>({...S,ads:!1}))}},H=async()=>{i(S=>({...S,services:!0})),d(S=>({...S,services:null}));try{const S=await D.services.getAll();S.success&&S.data&&k(S.data)}catch(S){console.error("Failed to fetch services:",S),d(j=>({...j,services:S.message}))}finally{i(S=>({...S,services:!1}))}},W=async()=>{console.log(" Refreshing all data..."),i(S=>({...S,products:!0,stores:!0,news:!0,ads:!0,categories:!0,users:!0,services:!0})),d(S=>({...S,products:null,stores:null,news:null,ads:null,categories:null,users:null,services:null}));try{const[j,M,ee,zn,dp,cp,up]=await Promise.all([D.getProducts({limit:50,page:1}).catch(mt=>(console.error("Failed to fetch products during refresh:",mt),{success:!1,data:[]})),D.getStores().catch(mt=>(console.error("Failed to fetch stores during refresh:",mt),{success:!1,data:[]})),D.getNews().catch(mt=>(console.error("Failed to fetch news during refresh:",mt),{success:!1,data:[]})),D.getAds().catch(mt=>(console.error("Failed to fetch ads during refresh:",mt),{success:!1,data:[]})),D.categories.getAll().catch(mt=>(console.error("Failed to fetch categories during refresh:",mt),{success:!1,data:[]})),D.getAllUsers().catch(mt=>(console.error("Failed to fetch users during refresh:",mt),{success:!1,data:[]})),D.services.getAll().catch(mt=>(console.error("Failed to fetch services during refresh:",mt),{success:!1,data:[]}))]);r(j.data||[]),a(M.data||[]),f(ee.data||[]),p(zn.data||[]),b(dp.data||[]),m(cp.data||[]),k(up.data||[]),console.log(" All data refreshed successfully.")}catch(S){console.error("Refresh data failed partially:",S)}finally{i(S=>({...S,products:!1,stores:!1,news:!1,ads:!1,categories:!1,users:!1,services:!1}))}};w.useEffect(()=>{if(A&&!l.products&&!l.stores&&!l.news&&!l.ads&&!l.services&&!l.categories&&(!localStorage.getItem("authToken")||!l.orders)){const j=Date.now()-L,ee=Math.max(0,2500-j);console.log(" All data loaded. Hiding intro in",ee,"ms"),setTimeout(()=>{T(!1)},ee)}!l.products&&t.length>0&&x.length===0&&!l.ads&&setTimeout(()=>{z()},500)},[l,A,L,x.length,t.length]),w.useEffect(()=>{ce()},[]),w.useEffect(()=>{try{localStorage.setItem("news",JSON.stringify(h))}catch(S){console.error("Failed to save news to local storage",S)}},[h]);const G=async S=>{try{const j=await D.createProduct(S);if(j.success&&j.data)return r(M=>[...M,j.data]),j.data}catch(j){throw console.error("Failed to add product:",j),j}},$=async S=>{try{const j=await D.updateProduct(S._id||S.id,S);if(j.success&&j.data)return r(M=>M.map(ee=>(ee._id||ee.id)===(j.data._id||j.data.id)?j.data:ee)),j.data}catch(j){throw console.error("Failed to update product:",j),j}},be=async S=>{try{await D.deleteProduct(S),r(j=>j.filter(M=>(M._id||M.id)!==S))}catch(j){throw console.error("Failed to delete product:",j),j}},$e=async S=>{try{const j=await D.createStore(S);if(j.success&&j.data)return a(M=>[...M,j.data]),j.data}catch(j){throw console.error("Failed to add store:",j),j}},_=async S=>{try{const j=await D.updateStore(S._id||S.id,S);if(j.success&&j.data)return a(M=>M.map(ee=>(ee._id||ee.id)===(j.data._id||j.data.id)?j.data:ee)),j.data}catch(j){throw console.error("Failed to update store:",j),j}},Z=async S=>{try{const j=await D.createNews(S);if(j.success&&j.data)return f(M=>[...M,j.data]),j.data}catch(j){throw console.error("Failed to add news:",j),j}},ue=async S=>{try{const j=await D.updateNews(S._id||S.id,S);if(j.success&&j.data)return f(M=>M.map(ee=>(ee._id||ee.id)===(j.data._id||j.data.id)?j.data:ee)),j.data}catch(j){throw console.error("Failed to update news:",j),j}},ze=async S=>{try{const j=await D.updateOrderStatus(S._id||S.id,S.status);if(j.success&&j.data)return c(M=>M.map(ee=>(ee._id||ee.id)===(j.data._id||j.data.id)?j.data:ee)),j.data}catch(j){throw console.error("Failed to update order:",j),j}},st=async S=>{try{console.log(" DataContext: Sending order to API...",S);const j=await D.createOrder(S);if(console.log(" DataContext: Received response:",j),j.success&&j.data)return c(M=>[j.data,...M]),j.data}catch(j){throw console.error(" DataContext: Failed to add order:",j),j}},qt=async S=>{try{const j=await D.createAd(S);if(j.success&&j.data)return p(M=>[j.data,...M]),j.data}catch(j){throw console.error("Failed to add ad:",j),j}},Ui=async S=>{try{await D.deleteAd(S),p(j=>j.filter(M=>(M._id||M.id)!==S))}catch(j){throw console.error("Failed to delete ad:",j),j}},rs=async S=>{try{await D.deleteStore(S),a(j=>j.filter(M=>(M._id||M.id)!==S))}catch(j){throw console.error("Failed to delete store:",j),j}},$i=async S=>{try{await D.deleteNews(S),f(j=>j.filter(M=>(M._id||M.id)!==S))}catch(j){throw console.error("Failed to delete news:",j),j}},ru=async S=>{try{await D.deleteOrder(S),c(j=>j.filter(M=>(M._id||M.id)!==S))}catch(j){throw console.error("Failed to delete order:",j),j}},Kg=async S=>{try{const j=await D.updateOrderStatus(S,"Cancelled");if(j.success&&j.data)return c(M=>M.map(ee=>(ee._id||ee.id)===S?{...ee,status:"Cancelled"}:ee)),j.data}catch(j){throw console.error("Failed to cancel order:",j),j}},Jg=async S=>{try{console.log("DataContext: Adding category:",S);const j=await D.createCategory(S);if(console.log("DataContext: Add category response:",j),j.success&&j.data)return b(M=>[...M,j.data]),j.data}catch(j){throw console.error("DataContext: Failed to add category - Full error:",j),j}},Gg=async S=>{try{const j=await D.updateCategory(S._id||S.id,S);if(j.success&&j.data)return b(M=>M.map(ee=>(ee._id||ee.id)===(j.data._id||j.data.id)?j.data:ee)),j.data}catch(j){throw console.error("Failed to update category:",j),j}},Yg=async S=>{try{await D.deleteCategory(S),b(j=>j.filter(M=>(M._id||M.id)!==S))}catch(j){throw console.error("Failed to delete category:",j),j}},Xg=async S=>{try{const j=await D.updateUser(S._id||S.id,S);if(j.success&&j.data)return m(M=>M.map(ee=>(ee._id||ee.id)===(j.data._id||j.data.id)?j.data:ee)),j.data}catch(j){throw console.error("Failed to update user:",j),j}},Zg=async S=>{try{await D.deleteUser(S),m(j=>j.filter(M=>(M._id||M.id)!==S))}catch(j){throw console.error("Failed to delete user:",j),j}};w.useEffect(()=>{H()},[]);const ep=async S=>{i(j=>({...j,services:!0}));try{const j=await D.services.create(S),M=j.data||j;if(M&&(M._id||M.id))return k(ee=>[...ee,M]),M}catch(j){throw d(M=>({...M,services:j.message})),j}finally{i(j=>({...j,services:!1}))}},tp=async S=>{try{const j=await D.serviceRequests.create({serviceId:S});return j.data||j}catch(j){throw console.error("Failed to create service request:",j),j}},rp=async()=>{try{const S=await D.serviceRequests.getAll();return S.data||S}catch(S){return console.error("Failed to fetch service requests:",S),[]}},sp=async(S,j)=>{try{const M=await D.serviceRequests.updateStatus(S,j);return M.data||M}catch(M){throw console.error("Failed to update service request status:",M),M}},np=async S=>{try{return await D.serviceRequests.delete(S),!0}catch(j){throw console.error("Failed to delete service request:",j),j}},ap=async S=>{i(j=>({...j,services:!0}));try{const j=await D.services.update(S._id||S.id,S),M=j.data||j;if(M&&(M._id||M.id))return k(ee=>ee.map(zn=>(zn._id||zn.id)===(M._id||M.id)?M:zn)),M}catch(j){throw d(M=>({...M,services:j.message})),j}finally{i(j=>({...j,services:!1}))}},lp=async S=>{i(j=>({...j,services:!0}));try{return await D.services.delete(S),k(j=>j.filter(M=>(M._id||M.id)!==S)),!0}catch(j){throw d(M=>({...M,services:j.message})),j}finally{i(j=>({...j,services:!1}))}},Bi=async()=>{try{const S=await D.getSavedProducts();S.success&&S.data&&N(S.data)}catch(S){console.error("Failed to fetch saved products:",S)}},ip=async S=>{try{const j=await D.toggleSavedProduct(S);if(j.success&&j.data)return N(j.data),!0}catch(j){return console.error("Failed to toggle saved product:",j),!1}};w.useEffect(()=>{Bi(),su()},[]);const su=async()=>{try{const S=await D.settings.get();if(S.success&&S.data){const j={deliveryTimes:[],maintenanceMode:!1};Array.isArray(S.data)&&S.data.forEach(M=>{M.key==="delivery_times"&&(j.deliveryTimes=M.value),M.key==="maintenance_mode"&&(j.maintenanceMode=M.value)}),C(M=>({...M,...j}))}}catch(S){console.error("Failed to fetch settings:",S)}},op={products:t,stores:s,orders:u,news:h,ads:x,categories:y,users:g,services:v,loading:l,error:o,initialLoading:A,addProduct:G,updateProduct:$,deleteProduct:be,addStore:$e,updateStore:_,deleteStore:rs,addNews:Z,updateNews:ue,deleteNews:$i,updateOrder:ze,addOrder:st,addAd:qt,deleteAd:Ui,deleteOrder:ru,cancelOrder:Kg,refreshOrders:ne,fetchCategories:ce,addCategory:Jg,updateCategory:Gg,deleteCategory:Yg,fetchUsers:Ae,updateUser:Xg,deleteUser:Zg,fetchServices:H,addService:ep,updateService:ap,deleteService:lp,requestService:tp,fetchServiceRequests:rp,updateServiceRequestStatus:sp,deleteServiceRequest:np,refreshData:W,savedProducts:O,fetchSavedProducts:Bi,toggleSaveProduct:ip,settings:E,updateDeliverySettings:async S=>{try{const j=await D.settings.update("delivery_times",S);return j.success&&j.data?(C(M=>({...M,deliveryTimes:j.data.value})),!0):!1}catch(j){throw console.error("Failed to update delivery settings:",j),j}},updateMaintenanceMode:async S=>{try{const j=await D.settings.update("maintenance_mode",S);return j.success&&j.data?(C(M=>({...M,maintenanceMode:j.data.value})),!0):!1}catch(j){throw console.error("Failed to update maintenance mode:",j),j}},fetchSettings:su};return n.jsx(Mg.Provider,{value:op,children:e})},ur={all:["products"],lists:()=>[...ur.all,"list"],list:e=>[...ur.lists(),{...e}],details:()=>[...ur.all,"detail"],detail:e=>[...ur.details(),e]},zg=(e={limit:50,page:1})=>tr({queryKey:ur.list(e),queryFn:async()=>(await D.getProducts(e)).data,staleTime:5*60*1e3,keepPreviousData:!0}),j1=()=>{const e=Me();return Ke({mutationFn:t=>D.createProduct(t),onSuccess:()=>{e.invalidateQueries(ur.lists())}})},N1=()=>{const e=Me();return Ke({mutationFn:({id:t,data:r})=>D.updateProduct(t,r),onSuccess:(t,r)=>{e.invalidateQueries(ur.lists()),e.invalidateQueries(ur.detail(r.id))}})},S1=()=>{const e=Me();return Ke({mutationFn:t=>D.deleteProduct(t),onSuccess:()=>{e.invalidateQueries(ur.lists())}})},sn={all:["ads"],lists:()=>[...sn.all,"list"],details:()=>[...sn.all,"detail"],detail:e=>[...sn.details(),e]},Dg=()=>tr({queryKey:sn.lists(),queryFn:async()=>(await D.getAds()).data,staleTime:10*60*1e3}),C1=()=>{const e=Me();return Ke({mutationFn:t=>D.createAd(t),onSuccess:()=>{e.invalidateQueries(sn.lists())}})},E1=()=>{const e=Me();return Ke({mutationFn:t=>D.deleteAd(t),onSuccess:()=>{e.invalidateQueries(sn.lists())}})},Mi={all:["categories"],lists:()=>[...Mi.all,"list"]},Zc=()=>tr({queryKey:Mi.lists(),queryFn:async()=>(await D.categories.getAll()).data,staleTime:60*60*1e3}),P1=()=>{const e=Me();return Ke({mutationFn:t=>D.categories.create(t),onSuccess:()=>{e.invalidateQueries(Mi.lists())}})},T1=()=>{const e=Me();return Ke({mutationFn:t=>D.categories.delete(t),onSuccess:()=>{e.invalidateQueries(Mi.lists())}})},Ya=(e,t)=>{if(!e)return"Unknown Store";if(typeof e=="object"&&e.name)return e.name;const r=typeof e=="object"&&(e._id||e.id)?e._id||e.id:e;if(!t||!Array.isArray(t))return"Unknown Store";const s=t.find(a=>{const l=a._id||a.id;return l===r||String(l)===String(r)});return s&&s.name||"Unknown Store"},Y0=e=>{if(!e)return null;const[t,r]=e.split(":").map(Number);return isNaN(t)||isNaN(r)?null:t*60+r},X0=()=>{const e=new Date;return e.getHours()*60+e.getMinutes()},Ds=e=>{if(!e)return!1;if(e.openingTime&&e.closingTime){const t=X0(),r=Y0(e.openingTime),s=Y0(e.closingTime);return r===null||s===null?!0:s<r?t>=r||t<s:t>=r&&t<s}if(e.timing){const t=e.timing.match(/(\d{1,2}):(\d{2})\s*(AM|PM)?\s*-\s*(\d{1,2}):(\d{2})\s*(AM|PM)?/i);if(t){let r=parseInt(t[1]);const s=parseInt(t[2]),a=t[3];let l=parseInt(t[4]);const i=parseInt(t[5]),o=t[6];a&&a.toUpperCase()==="PM"&&r!==12?r+=12:a&&a.toUpperCase()==="AM"&&r===12&&(r=0),o&&o.toUpperCase()==="PM"&&l!==12?l+=12:o&&o.toUpperCase()==="AM"&&l===12&&(l=0);const d=X0(),u=r*60+s,c=l*60+i;return c<u?d>=u||d<c:d>=u&&d<c}}return!0},O1=({product:e})=>{const{t}=oe(),{stores:r}=Oe(),{cartItems:s}=ts(),a=e._id||e.id,l=r==null?void 0:r.find(h=>(h._id||h.id)===e.storeId),i=(l==null?void 0:l.name)||"Unknown Store",o=s.find(h=>h.id===a),d=o?o.quantity:0,u=l?(h=>{if(!h||!h.openingTime||!h.closingTime)return!0;const f=new Date,x=p=>{const[y,b]=p.split(" ");let[g,m]=y.split(":");return g=parseInt(g),m=parseInt(m),g===12&&b==="PM"?g=12:g===12&&b==="AM"?g=0:b==="PM"&&(g+=12),g*60+m};try{const p=x(h.openingTime);let y=x(h.closingTime);y<p&&(y+=24*60);const b=f.getHours()*60+f.getMinutes();return b>=p&&b<y}catch(p){return console.error("Error parsing store time:",p),!0}})(l):!0,c=h=>{u||(h.preventDefault(),alert(t("This store is currently closed.")))};return n.jsxs(X,{to:u?`/product/${a}`:"#",onClick:c,className:`bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-all duration-300 flex flex-col h-full border border-gray-100 dark:border-gray-700 ${u?"hover:shadow-lg":"opacity-75 grayscale-[0.5]"}`,children:[n.jsxs("div",{className:"relative pb-[100%] overflow-hidden",children:[n.jsx("img",{src:e.image,alt:t(e,"title"),loading:"lazy",className:`absolute top-0 left-0 w-full h-full object-cover transition-transform duration-300 ${u?"hover:scale-105":""}`}),!u&&n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:n.jsx("span",{className:"bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg transform -rotate-12 border-2 border-white",children:t("STORE CLOSED")})}),d>0&&u&&n.jsxs("div",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg flex items-center gap-1 z-20",children:[n.jsx(Oa,{size:12}),d]})]}),n.jsxs("div",{className:"p-3 flex flex-col justify-between flex-1",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-800 dark:text-white mb-1 line-clamp-2",children:t(e,"title")}),e.storeId&&n.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[n.jsx(Ze,{size:12,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:i})]})]}),n.jsxs("span",{className:`text-lg font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-500"}`,children:["",Number(e.price||0).toFixed(2)]})]})]})};var Aa;(function(e){e[e.UP=-1]="UP",e[e.DOWN=1]="DOWN"})(Aa||(Aa={}));function A1(e){var t=getComputedStyle(e).overflowY;return e===document.scrollingElement&&t==="visible"?!0:!(t!=="scroll"&&t!=="auto")}function R1(e,t){if(!A1(e))return!1;if(t===Aa.DOWN){var r=e.scrollTop+e.clientHeight;return r<e.scrollHeight}if(t===Aa.UP)return e.scrollTop>0;throw new Error("unsupported direction")}function Fg(e,t){return R1(e,t)?!0:e.parentElement==null?!1:Fg(e.parentElement,t)}function Ug(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(!e||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var _1=`.lds-ellipsis {
  display: inline-block;
  position: relative;
  width: 64px;
  height: 64px; }

.lds-ellipsis div {
  position: absolute;
  top: 27px;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #363636;
  animation-timing-function: cubic-bezier(0, 1, 1, 0); }

.lds-ellipsis div:nth-child(1) {
  left: 6px;
  animation: lds-ellipsis1 0.6s infinite; }

.lds-ellipsis div:nth-child(2) {
  left: 6px;
  animation: lds-ellipsis2 0.6s infinite; }

.lds-ellipsis div:nth-child(3) {
  left: 26px;
  animation: lds-ellipsis2 0.6s infinite; }

.lds-ellipsis div:nth-child(4) {
  left: 45px;
  animation: lds-ellipsis3 0.6s infinite; }

@keyframes lds-ellipsis1 {
  0% {
    transform: scale(0); }
  100% {
    transform: scale(1); } }

@keyframes lds-ellipsis3 {
  0% {
    transform: scale(1); }
  100% {
    transform: scale(0); } }

@keyframes lds-ellipsis2 {
  0% {
    transform: translate(0, 0); }
  100% {
    transform: translate(19px, 0); } }
`;Ug(_1);var L1=function(){return _e.createElement("div",{className:"lds-ellipsis"},_e.createElement("div",null),_e.createElement("div",null),_e.createElement("div",null),_e.createElement("div",null))},I1=function(){return _e.createElement("div",null,_e.createElement("p",null,"pull to refresh"))},M1=`.ptr,
.ptr__children {
  height: 100%;
  width: 100%;
  overflow: hidden;
  -webkit-overflow-scrolling: touch;
  position: relative; }

.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {
  display: block; }

.ptr__fetch-more {
  display: none; }

/**
  * Pull down transition 
  */
.ptr__children,
.ptr__pull-down {
  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }

.ptr__pull-down {
  position: absolute;
  overflow: hidden;
  left: 0;
  right: 0;
  top: 0;
  visibility: hidden; }
  .ptr__pull-down > div {
    display: none; }

.ptr--dragging {
  /**
    * Hide PullMore content is treshold breached
    */
  /**
    * Otherwize, display content
    */ }
  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {
    display: none; }
  .ptr--dragging .ptr__pull-down--pull-more {
    display: block; }

.ptr--pull-down-treshold-breached {
  /**
    * Force opacity to 1 is pull down trashold breached
    */
  /**
    * And display loader
    */ }
  .ptr--pull-down-treshold-breached .ptr__pull-down {
    opacity: 1 !important; }
  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {
    display: block; }

.ptr__loader {
  margin: 0 auto;
  text-align: center; }
`;Ug(M1);var z1=function(e){var t=e.isPullable,r=t===void 0?!0:t,s=e.canFetchMore,a=s===void 0?!1:s,l=e.onRefresh,i=e.onFetchMore,o=e.refreshingContent,d=o===void 0?_e.createElement(L1,null):o,u=e.pullingContent,c=u===void 0?_e.createElement(I1,null):u,h=e.children,f=e.pullDownThreshold,x=f===void 0?67:f,p=e.fetchMoreThreshold,y=p===void 0?100:p,b=e.maxPullDownDistance,g=b===void 0?95:b,m=e.resistance,v=m===void 0?1:m,k=e.backgroundColor,O=e.className,N=O===void 0?"":O,E=w.useRef(null),C=w.useRef(null),A=w.useRef(null),T=w.useRef(null),L=!1,V=!1,K=!1,se=0,ne=0;w.useEffect(function(){if(!(!r||!C||!C.current)){var $=C.current;return $.addEventListener("touchstart",z,{passive:!0}),$.addEventListener("mousedown",z),$.addEventListener("touchmove",H,{passive:!1}),$.addEventListener("mousemove",H),window.addEventListener("scroll",W),$.addEventListener("touchend",G),$.addEventListener("mouseup",G),document.body.addEventListener("mouseleave",G),function(){$.removeEventListener("touchstart",z),$.removeEventListener("mousedown",z),$.removeEventListener("touchmove",H),$.removeEventListener("mousemove",H),window.removeEventListener("scroll",W),$.removeEventListener("touchend",G),$.removeEventListener("mouseup",G),document.body.removeEventListener("mouseleave",G)}}},[h,r,l,x,g,a,y]),w.useEffect(function(){var $;if(!(($=E)===null||$===void 0)&&$.current){var be=E.current.classList.contains("ptr--fetch-more-treshold-breached");be||a&&ce()<y&&i&&(E.current.classList.add("ptr--fetch-more-treshold-breached"),V=!0,i().then(Ae).catch(Ae))}},[a,h]);var ce=function(){if(!C||!C.current)return-1;var $=window.scrollY,be=C.current.scrollHeight;return be-$-window.innerHeight},Ae=function(){requestAnimationFrame(function(){C.current&&(C.current.style.overflowX="hidden",C.current.style.overflowY="auto",C.current.style.transform="unset"),A.current&&(A.current.style.opacity="0"),E.current&&(E.current.classList.remove("ptr--pull-down-treshold-breached"),E.current.classList.remove("ptr--dragging"),E.current.classList.remove("ptr--fetch-more-treshold-breached")),L&&(L=!1),V&&(V=!1)})},z=function($){K=!1,$ instanceof MouseEvent&&(se=$.pageY),window.TouchEvent&&$ instanceof TouchEvent&&(se=$.touches[0].pageY),ne=se,!($.type==="touchstart"&&Fg($.target,Aa.UP))&&(C.current.getBoundingClientRect().top<0||(K=!0))},H=function($){if(K){if(window.TouchEvent&&$ instanceof TouchEvent?ne=$.touches[0].pageY:ne=$.pageY,E.current.classList.add("ptr--dragging"),ne<se){K=!1;return}$.cancelable&&$.preventDefault();var be=Math.min((ne-se)/v,g);be>=x&&(K=!0,L=!0,E.current.classList.remove("ptr--dragging"),E.current.classList.add("ptr--pull-down-treshold-breached")),!(be>=g)&&(A.current.style.opacity=(be/65).toString(),C.current.style.overflow="visible",C.current.style.transform="translate(0px, "+be+"px)",A.current.style.visibility="visible")}},W=function($){V||a&&ce()<y&&i&&(V=!0,E.current.classList.add("ptr--fetch-more-treshold-breached"),i().then(Ae).catch(Ae))},G=function(){if(K=!1,se=0,ne=0,!L){A.current&&(A.current.style.visibility="hidden"),Ae();return}C.current&&(C.current.style.overflow="visible",C.current.style.transform="translate(0px, "+x+"px)"),l().then(Ae).catch(Ae)};return _e.createElement("div",{className:"ptr "+N,style:{backgroundColor:k},ref:E},_e.createElement("div",{className:"ptr__pull-down",ref:A},_e.createElement("div",{className:"ptr__loader ptr__pull-down--loading"},d),_e.createElement("div",{className:"ptr__pull-down--pull-more"},c)),_e.createElement("div",{className:"ptr__children",ref:C},h,_e.createElement("div",{className:"ptr__fetch-more",ref:T},_e.createElement("div",{className:"ptr__loader ptr__fetch-more--loading"},d))))};const Ra=({children:e})=>{const{refreshData:t}=Oe(),r=async()=>{try{await t()}catch(s){console.error("Refresh failed:",s)}};return n.jsx(z1,{onRefresh:r,pullingContent:n.jsx("div",{className:"flex justify-center py-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-100 dark:border-gray-800",children:n.jsx("span",{className:"text-gray-500 text-sm font-medium animate-pulse",children:"Pull to refresh..."})}),refreshingContent:n.jsx("div",{className:"flex justify-center py-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-100 dark:border-gray-800",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}),backgroundColor:"transparent",children:n.jsx("div",{className:"min-h-screen",children:e})})},D1=()=>{const[e,t]=w.useState(0),[r,s]=w.useState(""),{data:a=[],isLoading:l,error:i}=zg(),{data:o=[],isLoading:d}=Dg(),{data:u=[]}=Zc(),{t:c}=oe(),h=Te(),f=o&&o.length>0?o:[],p=(a&&Array.isArray(a)?a:[]).reduce((m,v)=>{const k=v.category||"Other";return m[k]||(m[k]=[]),m[k].push(v),m},{});w.useEffect(()=>{const m=setInterval(()=>{const v=document.getElementById("hero-slider");if(v){const k=v.clientWidth,O=v.scrollWidth-v.clientWidth;v.scrollLeft>=O?(v.scrollTo({left:0,behavior:"smooth"}),t(0)):(v.scrollBy({left:k,behavior:"smooth"}),t(N=>N+1))}},5e3);return()=>clearInterval(m)},[]);const y=m=>{const v=m.target,k=Math.round(v.scrollLeft/v.clientWidth);t(k)},b=m=>{const v=document.getElementById("hero-slider");v&&(v.scrollTo({left:m*v.clientWidth,behavior:"smooth"}),t(m))},g=u&&u.length>0?u:[];return!l&&a.length===0&&i?n.jsx(Ra,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-6",children:n.jsx("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:c("Connection Failed")}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mb-8",children:[c("We surely missed the server! Please make sure the backend is running."),n.jsx("br",{}),n.jsx("span",{className:"text-sm font-mono mt-2 block bg-gray-100 dark:bg-gray-800 p-2 rounded",children:(i==null?void 0:i.message)||"Unknown Error"})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-blue-700 transition",children:c("Retry Connection")})]})}):n.jsx(Ra,{children:n.jsxs("div",{className:"space-y-6 pb-16 bg-gray-50 dark:bg-gray-900 transition-colors duration-200 min-h-screen",children:[f.length>0&&n.jsxs("section",{className:"relative h-[250px] md:h-[500px] group",children:[n.jsx("div",{id:"hero-slider",className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide h-full w-full",onScroll:y,style:{scrollBehavior:"smooth"},children:f.map(m=>n.jsx("div",{className:"min-w-full h-full relative snap-center",children:n.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover"})},m.id))}),n.jsx("button",{onClick:()=>b(e===0?f.length-1:e-1),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 p-2 rounded-full text-white transition-colors opacity-0 group-hover:opacity-100 z-10",children:n.jsx(Bc,{size:32})}),n.jsx("button",{onClick:()=>b(e===f.length-1?0:e+1),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 p-2 rounded-full text-white transition-colors opacity-0 group-hover:opacity-100 z-10",children:n.jsx(Dt,{size:32})}),n.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:f.map((m,v)=>n.jsx("button",{onClick:()=>b(v),className:`w-3 h-3 rounded-full transition-colors ${v===e?"bg-white":"bg-white/50"}`},v))})]}),g.length>0&&n.jsx("section",{className:"bg-gray-50 dark:bg-gray-900 py-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:c("Shop by Category")}),n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-8 gap-4 md:gap-6",children:g.map(m=>n.jsxs(X,{to:`/store?category=${encodeURIComponent(m.name)}`,className:"flex flex-col items-center gap-2 md:gap-3 group",children:[n.jsx("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 ring-4 ring-white dark:ring-gray-800 group-hover:ring-blue-500",children:n.jsx("img",{src:m.image||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?q=80&w=1000&auto=format&fit=crop",alt:m.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),n.jsx("span",{className:"text-xs sm:text-sm md:text-base font-semibold text-gray-900 dark:text-white text-center max-w-full group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-2",children:c(m.name)})]},m._id||m.id))})]})}),n.jsx("section",{className:"md:hidden bg-white dark:bg-gray-800 py-4 sticky top-0 z-20 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4",children:n.jsxs("div",{className:"relative",children:[n.jsxs("form",{onSubmit:m=>{m.preventDefault(),r.trim()&&(h(`/shop?search=${encodeURIComponent(r)}`),s(""))},className:"relative",children:[n.jsx("input",{type:"text",name:"search",value:r,onChange:m=>s(m.target.value),placeholder:c("Search products..."),className:"w-full pl-10 pr-4 py-3 rounded-full border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-colors"}),n.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),r.trim()&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 max-h-96 overflow-y-auto z-30",children:(()=>{const m=a.filter(v=>{var k,O,N;return((k=v.title)==null?void 0:k.toLowerCase().includes(r.toLowerCase()))||((O=v.description)==null?void 0:O.toLowerCase().includes(r.toLowerCase()))||((N=v.category)==null?void 0:N.toLowerCase().includes(r.toLowerCase()))}).slice(0,5);return m.length===0?n.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:c("No products found")}):m.map(v=>n.jsxs(X,{to:`/product/${v._id||v.id}`,onClick:()=>s(""),className:"flex items-center gap-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[n.jsx("img",{src:v.image,alt:v.title,className:"w-12 h-12 rounded-lg object-cover"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:c(v,"title")}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["",Number(v.price).toFixed(0)]})]})]},v._id||v.id))})()})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:Object.entries(p).map(([m,v])=>n.jsx(F1,{category:m,products:v.slice(0,10),t:c},m))})]})})},F1=({category:e,products:t,t:r})=>{var l;const s=w.useRef(null),a=i=>{if(s.current){const d=s.current.scrollLeft+(i==="left"?-300:300);s.current.scrollTo({left:d,behavior:"smooth"})}};return!t||t.length===0?null:((l=t[0])!=null&&l.image,n.jsxs("section",{className:"relative space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:r(e)}),n.jsxs(X,{to:`/store?category=${encodeURIComponent(e)}`,className:"text-sm md:text-base text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors",children:[r("View All")," "]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("button",{onClick:()=>a("left"),className:"hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10 bg-white dark:bg-gray-800 shadow-lg rounded-full p-3 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700","aria-label":"Scroll left",children:n.jsx(Bc,{size:20,className:"text-gray-700 dark:text-gray-300"})}),n.jsx("button",{onClick:()=>a("right"),className:"hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10 bg-white dark:bg-gray-800 shadow-lg rounded-full p-3 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700","aria-label":"Scroll right",children:n.jsx(Dt,{size:20,className:"text-gray-700 dark:text-gray-300"})}),n.jsx("div",{ref:s,className:"flex overflow-x-auto gap-3 md:gap-4 pb-4 snap-x snap-mandatory scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map(i=>n.jsx("div",{className:"flex-none w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px] snap-start",children:n.jsx(O1,{product:i})},i._id||i.id))})]})]}))},U1=()=>{const[e,t]=w.useState(""),[r,s]=Cb(),{stores:a,categories:l}=Oe(),{t:i}=oe(),o=Te(),d=r.get("category")||"All",u=[{name:"All"},...(l||[]).map(f=>({name:f.name}))];if(!a)return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const c=a.filter(f=>{const x=f.name.toLowerCase().includes(e.toLowerCase())||f.address&&f.address.toLowerCase().includes(e.toLowerCase()),p=d==="All"||f.type&&f.type.toLowerCase()===d.toLowerCase();return x&&p}),h=f=>{s({category:f})};return n.jsx(Ra,{children:n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:i("Find a Store")}),n.jsxs("div",{className:"relative max-w-xl mb-6",children:[n.jsx("input",{type:"text",placeholder:i("Search by store name or location..."),value:e,onChange:f=>t(f.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 transition-colors"}),n.jsx(Jr,{className:"absolute left-3 top-3.5 text-gray-400 dark:text-gray-500",size:20})]}),n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i("Showing")," ",n.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:c.length})," ",i("stores")]})}),n.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-hide",children:u.map(f=>{const x=f.name===d;return n.jsx("button",{onClick:()=>h(f.name),className:`flex-shrink-0 px-4 py-2 rounded-full border transition-all duration-300 ${x?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:border-blue-500 hover:text-blue-500"}`,children:n.jsx("span",{className:"font-medium whitespace-nowrap text-sm",children:i(f.name)})},f.name)})})]}),c.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(f=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 group",children:[n.jsxs("div",{className:"relative h-48 overflow-hidden",children:[n.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),!Ds(f)&&n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:n.jsx("span",{className:"bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg transform -rotate-12 border-2 border-white",children:i("STORE CLOSED")})}),n.jsx("div",{className:"absolute top-3 right-3 z-20",children:Ds(f)&&n.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-semibold rounded-full shadow-lg",children:i("Open")})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex justify-between items-start mb-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:i(f,"name")}),n.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm mb-2",children:[n.jsx(es,{size:16,className:"mr-1 flex-shrink-0"}),n.jsx("span",{className:"line-clamp-1",children:f.address||"No address"})]}),f.type&&n.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400 rounded-md",children:f.type})]})}),n.jsxs("div",{className:"space-y-2 mb-6",children:[n.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 text-sm",children:[n.jsx(Sn,{size:16,className:"mr-2 text-blue-500"}),n.jsx("span",{children:f.timing||"9:00 AM - 9:00 PM"})]}),n.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 text-sm",children:[n.jsx(Ln,{size:16,className:"mr-2 text-blue-500"}),n.jsx("span",{children:f.mobile})]})]}),n.jsx("button",{onClick:()=>{Ds(f)?o(`/store/${f._id||f.id}`):alert(i("This store is currently closed."))},className:`block w-full text-center py-3 rounded-lg font-medium transition-all duration-300 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${Ds(f)?"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-lg focus:ring-blue-500":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:Ds(f)?i("Visit Store"):i("Closed")})]})]},f._id||f.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(Jr,{className:"text-gray-400 dark:text-gray-500",size:32})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:i("No stores found")}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:i("Try adjusting your search terms or category filter.")})]})]})})})},$1="modulepreload",B1=function(e){return"/"+e},Z0={},$g=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(d=>{if(d=B1(d),d in Z0)return;Z0[d]=!0;const u=d.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":$1,u||(h.as="script"),h.crossOrigin="",h.href=d,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,x)=>{h.addEventListener("load",f),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&l(o.reason);return t().catch(l)})},q1=()=>{const{id:e}=Pi(),t=Te(),{addToCart:r,cartItems:s,updateQuantity:a}=ts(),{products:l,stores:i,savedProducts:o,toggleSaveProduct:d}=Oe(),{t:u}=oe(),[c,h]=w.useState(null),[f,x]=w.useState(0),p=c&&(i==null?void 0:i.find(T=>(T._id||T.id)===c.storeId)),y=(p==null?void 0:p.name)||"Unknown Store";w.useEffect(()=>{(async()=>{if(l.length>0){const L=l.find(V=>(V._id||V.id)===e||(V._id||V.id)===parseInt(e));if(L){h(L),x(0);return}}try{const L=await $g(()=>Promise.resolve().then(()=>y1),void 0).then(V=>V.apiService.getProduct(e));L.success&&L.data&&(h(L.data),x(0))}catch(L){console.error("Failed to fetch individual product:",L)}})()},[e,l]);const b=c?c._id||c.id:null,g=c?s.find(T=>T.id===b):null,m=g?g.quantity:0,v=c&&o.some(T=>(T._id||T.id||T)===(c._id||c.id)),k=async()=>{c&&await d(c._id||c.id)},O=()=>{g||r(c),t("/checkout")},N=T=>{const L=T.target,V=Math.round(L.scrollLeft/L.clientWidth);x(V)},E=T=>{const L=document.getElementById("product-slider");L&&(L.scrollTo({left:T*L.clientWidth,behavior:"smooth"}),x(T))};if(!c)return n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 text-center px-4 transition-colors duration-200",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:u("Product not found")}),n.jsx(X,{to:"/store",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium",children:u("Return to Store")})]});const C=c.images||[c.image],A=(Number(c.price)*(m||1)).toFixed(0);return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8 pb-32 transition-colors duration-200",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors group",children:[n.jsx(ut,{className:"mr-2 group-hover:-translate-x-1 transition-transform",size:20}),n.jsx("span",{className:"font-medium",children:u("Back")})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:k,className:`p-2 transition-colors ${v?"text-blue-600 fill-current":"text-gray-400 hover:text-blue-600"}`,children:n.jsx(Pa,{size:24,fill:v?"currentColor":"none"})}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:n.jsx(lg,{size:24})})]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[n.jsxs("div",{className:"relative aspect-square lg:aspect-auto lg:h-[600px] group",children:[n.jsx("div",{id:"product-slider",className:"flex overflow-x-auto snap-x snap-mandatory scrollbar-hide h-full w-full",onScroll:N,style:{scrollBehavior:"smooth"},children:C.map((T,L)=>n.jsx("div",{className:"min-w-full h-full snap-center flex items-center justify-center",children:n.jsx("img",{src:T,alt:`${c.title} - ${u("View")} ${L+1}`,className:"w-full h-full object-cover"})},L))}),C.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>E(f===0?C.length-1:f-1),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-black/50 backdrop-blur-sm p-2 rounded-full text-gray-800 dark:text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white dark:hover:bg-black/70 z-10",children:n.jsx(Bc,{size:24})}),n.jsx("button",{onClick:()=>E(f===C.length-1?0:f+1),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-black/50 backdrop-blur-sm p-2 rounded-full text-gray-800 dark:text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white dark:hover:bg-black/70 z-10",children:n.jsx(Dt,{size:24})}),n.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:C.map((T,L)=>n.jsx("button",{onClick:()=>E(L),className:`w-2.5 h-2.5 rounded-full transition-all ${f===L?"bg-blue-600 w-6":"bg-white/60 hover:bg-white/80"}`},L))})]})]}),n.jsx("div",{className:"p-8 lg:p-12 flex flex-col h-full",children:n.jsxs("div",{className:"mb-auto",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-bold uppercase tracking-wider rounded-full",children:u(c,"category")}),c.storeId&&n.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full",children:[n.jsx(Ze,{size:12,className:"text-gray-500 dark:text-gray-400"}),n.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-300",children:y})]})]}),n.jsx("h1",{className:"text-2xl md:text-4xl font-extrabold text-gray-900 dark:text-white mb-4 leading-tight",children:u(c,"title")}),n.jsxs("div",{className:"text-2xl md:text-4xl font-bold text-gray-900 dark:text-white mb-8 flex items-baseline gap-2",children:["",Number(c.price).toFixed(0)]}),n.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-10",children:n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:u(c,"description")})}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:u("Quantity")})}),n.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-600",children:[n.jsx("button",{onClick:()=>{g&&a(b,Math.max(0,m-1))},className:`w-10 h-10 flex items-center justify-center text-gray-600 dark:text-gray-400 transition-colors ${m<=0?"opacity-50 cursor-not-allowed":"hover:text-blue-600 dark:hover:text-blue-400"}`,disabled:m<=0,children:n.jsx(Hc,{size:18})}),n.jsx("span",{className:"w-12 text-center font-bold text-gray-900 dark:text-white",children:m}),n.jsx("button",{onClick:()=>{g?a(b,m+1):r(c)},className:"w-10 h-10 flex items-center justify-center text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:n.jsx(Ve,{size:18})})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-600",children:[n.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:u("Total")}),n.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["",Number(A).toFixed(0)]})]})]}),n.jsx("div",{className:"hidden md:block",children:n.jsx("button",{onClick:m>0?O:()=>r(c),className:`w-full py-4 px-6 rounded-xl font-bold text-lg shadow-xl flex items-center justify-center gap-2 transition-all transform hover:-translate-y-1 ${m>0?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200 dark:shadow-none":"bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:bg-black dark:hover:bg-gray-100"}`,children:m>0?n.jsxs(n.Fragment,{children:[n.jsx(er,{size:22}),u("Proceed to Checkout")]}):n.jsxs(n.Fragment,{children:[n.jsx(Oa,{size:22}),u("Buy Now")]})})})]})})]})})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 p-3 pb-[calc(0.75rem+env(safe-area-inset-bottom))] shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50 md:hidden",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("button",{onClick:m>0?O:()=>r(c),className:`w-[90%] mx-auto block py-2.5 px-4 rounded-xl font-bold text-sm shadow-xl flex items-center justify-center gap-2 transition-all transform hover:-translate-y-1 ${m>0?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200 dark:shadow-none":"bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:bg-black dark:hover:bg-gray-100"}`,children:m>0?n.jsxs(n.Fragment,{children:[n.jsx(er,{size:20}),u("Proceed to Checkout")]}):n.jsxs(n.Fragment,{children:[n.jsx(Oa,{size:20}),u("Buy Now")]})})})})]})},Bg=({product:e})=>{const{addToCart:t,cartItems:r,updateQuantity:s}=ts(),{savedProducts:a,toggleSaveProduct:l}=Oe(),{t:i}=oe(),o=e._id||e.id,d=r.find(h=>h.id===o),u=a.some(h=>(h._id||h.id||h)===o),c=h=>{h.preventDefault(),h.stopPropagation(),l(o)};return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 flex flex-col h-full border border-gray-100 dark:border-gray-700 relative group",children:[n.jsxs(X,{to:`/product/${o}`,className:"flex-1 block",children:[n.jsxs("div",{className:"relative pb-[100%] overflow-hidden",children:[n.jsx("img",{src:e.image,alt:i(e,"title"),loading:"lazy",className:"absolute top-0 left-0 w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-300"}),n.jsx("button",{onClick:c,className:"absolute top-2 right-2 p-2 rounded-full bg-white/80 dark:bg-black/40 hover:bg-white dark:hover:bg-black/60 transition-colors shadow-sm z-10",children:n.jsx(Pa,{size:18,className:`${u?"text-blue-600 fill-current":"text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400"}`})})]}),n.jsxs("div",{className:"p-4 pb-0",children:[n.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-800 dark:text-white mb-1 truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:i(e,"title")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2",children:i(e,"description")})]})]}),n.jsx("div",{className:"p-4 pt-2 mt-auto",children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("span",{className:"text-lg md:text-xl font-bold text-blue-600 dark:text-blue-400",children:["",Number(e.price||0).toFixed(2)]}),d?n.jsxs("div",{className:"flex items-center justify-between w-full gap-2",onClick:h=>h.stopPropagation(),children:[n.jsx("button",{onClick:()=>s(o,d.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-blue-600 text-white hover:bg-blue-700 focus:outline-none rounded-full transition-colors shadow-sm","aria-label":"Decrease quantity",children:n.jsx(Hc,{size:16})}),n.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:d.quantity}),n.jsx("button",{onClick:()=>s(o,d.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-blue-600 text-white hover:bg-blue-700 focus:outline-none rounded-full transition-colors shadow-sm","aria-label":"Increase quantity",children:n.jsx(Ve,{size:16})})]}):n.jsxs("button",{onClick:()=>t(e),className:"w-full bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 dark:hover:bg-blue-500 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 flex items-center justify-center gap-2","aria-label":"Add to cart",children:[n.jsx(Ve,{size:20}),n.jsx("span",{className:"text-sm font-medium",children:"Add"})]})]})})]})},H1=()=>{const{id:e}=Pi(),{products:t,stores:r,savedProducts:s}=Oe(),{t:a}=oe(),[l,i]=w.useState(null),o=e,d=r.find(x=>(x._id||x.id)===o),u=w.useMemo(()=>t.filter(x=>{var b;const p=((b=x.storeId)==null?void 0:b._id)||x.storeId,y=o;return p==y||String(p)===String(y)}),[t,o]),c=w.useMemo(()=>[...new Set(u.map(p=>p.category))].map(p=>{var y;return{name:p,image:(y=u.find(b=>b.category===p))==null?void 0:y.image,count:u.filter(b=>b.category===p).length}}).filter(p=>p.name),[u]),h=l?u.filter(x=>x.category===l):u;if(!d)return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col items-center justify-center p-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:a("Store not found")}),n.jsxs(X,{to:"/store",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center gap-2",children:[n.jsx(ut,{size:20}),a("Back to Stores")]})]});const f=Ds(d);return n.jsxs("div",{className:"w-full max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("nav",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-4",children:[n.jsx(X,{to:"/store",className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:a("Stores")}),n.jsx(Dt,{size:16,className:"mx-2"}),n.jsx("span",{className:l?"":"font-semibold text-gray-900 dark:text-white",children:d.name}),l&&n.jsxs(n.Fragment,{children:[n.jsx(Dt,{size:16,className:"mx-2"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-white cursor-pointer",onClick:()=>i(null),children:a(l)})]})]}),!f&&n.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 flex items-center gap-3",children:[n.jsx(eg,{className:"text-red-600 dark:text-red-400 flex-shrink-0",size:24}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-red-900 dark:text-red-200",children:a("Store Currently Closed")}),n.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:[a("Opens at")," ",d.openingTime||"9:00 AM"]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:d.name}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 px-3 py-1.5 rounded-lg",children:[n.jsx(es,{className:"h-4 w-4 mr-2 text-blue-500"}),n.jsx("span",{children:d.address||a("No address available")})]}),n.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 px-3 py-1.5 rounded-lg",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2 text-blue-500"}),n.jsx("span",{children:d.timing||"9:00 AM - 9:00 PM"})]}),n.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 px-3 py-1.5 rounded-lg",children:[n.jsx(Ln,{className:"h-4 w-4 mr-2 text-blue-500"}),n.jsx("span",{children:d.mobile||a("No phone number")})]})]})]})]}),c.length>0&&n.jsx("div",{className:"mb-8 overflow-x-auto pb-4 scrollbar-hide",children:n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:()=>i(null),className:`flex - shrink - 0 px - 4 py - 2 rounded - full border transition - all duration - 300 ${l?"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:border-blue-500 hover:text-blue-500":"bg-blue-600 text-white border-blue-600"} `,children:n.jsx("span",{className:"font-medium whitespace-nowrap text-sm",children:a("All")})}),c.map((x,p)=>n.jsx("button",{onClick:()=>i(x.name),className:`flex - shrink - 0 px - 4 py - 2 rounded - full border transition - all duration - 300 ${l===x.name?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:border-blue-500 hover:text-blue-500"} `,children:n.jsxs("span",{className:"font-medium whitespace-nowrap text-sm",children:[a(x.name)," ",n.jsxs("span",{className:"text-xs opacity-75 ml-1",children:["(",x.count,")"]})]})},p))]})}),n.jsx("div",{children:h.length>0?n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a(l||"All Products")}),n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[h.length," ",a("products")]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:h.map(x=>n.jsx(Bg,{product:x,showHeart:!1},x._id||x.id))})]}):n.jsx("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-dashed border-gray-300 dark:border-gray-700",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:a("No products available at this store currently.")})})})]})},qg=w.createContext(),Q1=({children:e})=>{const[t,r]=w.useState(()=>localStorage.getItem("theme")||"light");w.useEffect(()=>{const a=window.document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const s=()=>{r(a=>a==="light"?"dark":"light")};return n.jsx(qg.Provider,{value:{theme:t,toggleTheme:s},children:e})},V1=()=>{const e=w.useContext(qg);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},ia={all:["orders"],lists:()=>[...ia.all,"list"],details:()=>[...ia.all,"detail"],detail:e=>[...ia.details(),e]},Hg=()=>tr({queryKey:ia.lists(),queryFn:async()=>(await D.getOrders()).data,staleTime:10*1e3}),W1=()=>{const e=Me();return Ke({mutationFn:t=>D.deleteOrder(t),onSuccess:()=>{e.invalidateQueries(ia.lists())}})},nn={all:["users"],lists:()=>[...nn.all,"list"],details:()=>[...nn.all,"detail"],profile:()=>[...nn.all,"profile"]},K1=()=>tr({queryKey:nn.lists(),queryFn:async()=>(await D.getAllUsers()).data,staleTime:5*60*1e3}),J1=()=>tr({queryKey:nn.profile(),queryFn:async()=>(await D.getProfile()).data,staleTime:30*60*1e3}),G1=()=>{const e=Me();return Ke({mutationFn:t=>D.deleteUser(t),onSuccess:()=>{e.invalidateQueries(nn.lists())}})},Y1=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const r={year:"numeric",month:"short",day:"numeric"};return t.toLocaleDateString("en-US",r)}catch(t){return console.error("Error formatting date:",t),"Invalid Date"}},X1=e=>{if(!e)return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const r={year:"numeric",month:"short",day:"numeric"},s={hour:"numeric",minute:"2-digit",hour12:!0},a=t.toLocaleDateString("en-US",r),l=t.toLocaleTimeString("en-US",s);return`${a} at ${l}`}catch(t){return console.error("Error formatting date time:",t),"Invalid Date"}},Z1=e=>{if(!e)return null;try{const t=new Date(e);if(isNaN(t.getTime()))return null;const r={year:"numeric",month:"short",day:"numeric"},s={hour:"numeric",minute:"2-digit",hour12:!0},a=t.toLocaleDateString("en-US",r),l=t.toLocaleTimeString("en-US",s);return`${a} at ${l}`}catch(t){return console.error("Error formatting delivery time:",t),null}},ek=()=>{const{theme:e,toggleTheme:t}=V1(),{language:r,setLanguage:s,t:a}=oe(),{user:l,logout:i}=w.useContext(Ja),{data:o}=J1(),{data:d=[]}=Hg(),u=(o==null?void 0:o.data)||l,c=Te(),[h,f]=w.useState(!1),x=d.length,p=d.filter(k=>k.status==="Processing").length,y=d.filter(k=>k.status==="Delivered").length,b=d.filter(k=>k.status==="Cancelled").length,g=d.length>0?d[0]:null,m=()=>{f(!0)},v=()=>{i(),c("/login")};return n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 py-8 md:py-12 transition-colors duration-200",children:[h&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-sm w-full shadow-xl transform transition-all",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:a("Sign Out")}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:a("Are you sure you want to sign out?")}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:a("Cancel")}),n.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-colors",children:a("Sign Out")})]})]})}),n.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 pb-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-6 flex items-center gap-4 sm:gap-6 transition-colors duration-200",children:[n.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 sm:p-4 rounded-full flex-shrink-0",children:n.jsx(Wc,{size:40,className:"text-blue-600 dark:text-blue-400 sm:w-12 sm:h-12"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white truncate",children:(u==null?void 0:u.name)||"Guest User"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 truncate",children:(u==null?void 0:u.email)||"Not logged in"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6 transition-colors duration-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Ts,{className:"text-blue-600 dark:text-blue-400",size:20}),a("Orders Dashboard")]}),n.jsx(X,{to:"/orders",className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium hover:underline",children:a("View All Orders")})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:[n.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:x}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium mt-1",children:a("Total Orders")})]}),n.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:p}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium mt-1",children:a("Processing")})]}),n.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:y}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium mt-1",children:a("Delivered")})]}),n.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[n.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:b}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium mt-1",children:a("Cancelled")})]})]}),n.jsx("div",{className:"mt-6",children:g?n.jsxs(X,{to:`/orders/${g._id||g.id}`,className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 flex items-center justify-center",children:n.jsx(Ts,{className:"text-gray-400 dark:text-gray-500",size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:a("Track your recent order")}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["#",String(g._id||g.id).slice(-6).toUpperCase(),"  ",Y1(g.createdAt||g.date)]})]})]}),n.jsx(Dt,{className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300",size:20})]}):n.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl text-center",children:n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("No orders yet")})})})]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6 transition-colors duration-200",children:n.jsxs(X,{to:"/news",className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-pink-50 dark:bg-pink-900/20 rounded-xl",children:n.jsx(_b,{className:"text-pink-600 dark:text-pink-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a("News & Offers")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("Check out latest deals and updates")})]})]}),n.jsx(Dt,{className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300",size:20})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6 transition-colors duration-200",children:n.jsxs(X,{to:"/services",className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-xl",children:n.jsx(di,{className:"text-purple-600 dark:text-purple-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a("Services")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("Explore our additional services")})]})]}),n.jsx(Dt,{className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300",size:20})]})}),u&&(u.role==="admin"||u.role==="store_admin"||u.email==="mohamedinamulhasan0@gmail.com"||u.email==="mohamedinamulhasan28052004@gmail.com")&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6 transition-colors duration-200",children:n.jsxs(X,{to:u.role==="store_admin"?"/my-store":"/admin",className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:u.role==="store_admin"?n.jsx(Ze,{className:"text-blue-600 dark:text-blue-400",size:24}):n.jsx(og,{className:"text-blue-600 dark:text-blue-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:u.role==="store_admin"?a("My Store"):a("Admin Dashboard")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.role==="store_admin"?a("Manage your store products and details"):a("Manage products, stores, and users")})]})]}),n.jsx(Dt,{className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300",size:20})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6 transition-colors duration-200",children:n.jsxs(X,{to:"/saved-products",className:"p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:n.jsx(Pa,{className:"text-blue-600 dark:text-blue-400 fill-current",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:a("Saved Products")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a("View your favorite items")})]})]}),n.jsx(Dt,{className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300",size:20})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden transition-colors duration-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:n.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(ag,{className:"text-gray-600 dark:text-gray-400",size:20}),a("Settings")]})}),n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:n.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer",onClick:t,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e==="dark"?n.jsx(Db,{className:"text-purple-600 dark:text-purple-400",size:20}):n.jsx($b,{className:"text-purple-600 dark:text-purple-400",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:a("Appearance")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a(e==="dark"?"Dark Mode":"Light Mode")})]})]}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 bg-gray-200 dark:bg-purple-600",children:n.jsx("span",{className:`${e==="dark"?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})]})}),n.jsx("div",{className:"p-4 sm:p-6 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer text-red-600 dark:text-red-400",onClick:m,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg",children:n.jsx(zb,{className:"text-red-600 dark:text-red-400",size:20})}),n.jsx("p",{className:"font-medium",children:a("Sign Out")})]})})]})]}),n.jsx("a",{href:"https://wa.me/919500171980",target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-32 md:bottom-6 right-6 p-4 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 z-50 flex items-center justify-center","aria-label":"Chat on WhatsApp",children:n.jsx("svg",{viewBox:"0 0 24 24",width:"28",height:"28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})]})},tk=()=>{const{cartItems:e,removeFromCart:t,updateQuantity:r,cartTotal:s}=ts(),{t:a}=oe(),{stores:l}=Oe(),i=20,o=s+i;return e.length===0?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8 bg-white dark:bg-gray-900 transition-colors duration-200",children:[n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-full mb-6",children:n.jsx(er,{className:"h-12 w-12 text-blue-600 dark:text-blue-400"})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:a("Your cart is empty")}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-8 text-center max-w-md",children:[a("Looks like you haven't added anything to your cart yet."),a("Explore our products and find something you love.")]}),n.jsxs(X,{to:"/store",className:"inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 dark:hover:bg-blue-500 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[a("Start Shopping"),n.jsx($c,{className:"ml-2 h-5 w-5"})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 flex items-center gap-3",children:[n.jsx(er,{className:"text-blue-600 dark:text-blue-400"}),a("Cart"),n.jsxs("span",{className:"text-lg font-normal text-gray-500 dark:text-gray-400 ml-2",children:["(",e.length," ",a("items"),")"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(d=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 sm:p-6 flex gap-6 transition-all duration-200",children:[n.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-lg border border-gray-200 dark:border-gray-600",children:n.jsx("img",{src:d.image,alt:d.title,className:"h-full w-full object-cover object-center"})}),n.jsxs("div",{className:"flex flex-1 flex-col",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.jsx(X,{to:`/product/${d.id}`,className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:a(d,"title")||d.title||d.name||a("Product")})}),d.storeId&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Ze,{size:12,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:Ya(d.storeId,l)})]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400 line-clamp-1",children:a(d,"description")})]}),n.jsxs("p",{className:"ml-4 text-lg font-medium text-gray-900 dark:text-white",children:["",(d.price*d.quantity).toFixed(0)]})]}),n.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>r(d.id,d.quantity-1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n.jsx(Hc,{size:14})}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white w-4 text-center",children:d.quantity}),n.jsx("button",{onClick:()=>r(d.id,d.quantity+1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n.jsx(Ve,{size:14})})]}),n.jsx("button",{type:"button",onClick:()=>t(d.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:a("Remove item"),children:n.jsx(Ot,{size:18})})]})]})]},d.id))}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 sticky top-24 transition-all duration-200",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6",children:a("Order Summary")}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("Subtotal")}),n.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["",s.toFixed(0)]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("Delivery Charge")}),n.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["",i]})]}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 flex items-center justify-between",children:[n.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:a("Total")}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["",o.toFixed(0)]})]})]}),n.jsx(X,{to:"/checkout",className:"mt-6 w-full flex items-center justify-center px-6 py-3 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 dark:hover:bg-blue-500 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:a("Proceed to Checkout")})]})})]})]})})},rk=()=>{const e=Te(),{cartItems:t,cartTotal:r,clearCart:s}=ts(),{user:a,setUser:l}=Ga(),{t:i}=oe(),{stores:o,updateUser:d,settings:u}=Oe(),[c,h]=w.useState({fullName:"",mobile:"",address:"",city:"",zip:"",deliveryTime:"",paymentMethod:"cod"}),[f,x]=w.useState(!1);if(w.useEffect(()=>{a||(sessionStorage.setItem("redirectAfterLogin","/checkout"),alert(i("Please sign in to continue with checkout")),e("/login"))},[a,e,i]),w.useEffect(()=>{if(a){const m=a.address||{},v=typeof a.address=="object"&&a.address!==null;h(k=>({...k,fullName:a.fullName||a.name||k.fullName,mobile:a.mobile||a.phone||k.mobile,address:(v?m.street:a.address)||k.address,city:(v?m.city:a.city)||k.city,zip:(v?m.zip:a.zip||a.pincode)||k.zip}))}},[a]),!a)return null;const p=m=>{h({...c,[m.target.name]:m.target.value})},y=async m=>{if(m.preventDefault(),!c.fullName||!c.address||!c.city||!c.zip){alert(i("Please fill in all required fields"));return}const v=/^\d{10}$/,k=/^\d{6}$/;if(!v.test(c.mobile)){alert(i("Please enter a valid 10-digit mobile number"));return}if(!k.test(c.zip)){alert(i("Please enter a valid 6-digit ZIP code"));return}if(!c.deliveryTime){alert(i("Please select a preferred delivery time"));return}x(!0);const O={...a,name:c.fullName,fullName:c.fullName,mobile:c.mobile,phone:c.mobile,address:{street:c.address,city:c.city,zip:c.zip,state:"",country:"India"},city:c.city,zip:c.zip,pincode:c.zip};localStorage.setItem("userInfo",JSON.stringify(O)),l(O),d(O).then(()=>console.log(" User address updated successfully")).catch(E=>console.error(" Failed to update user address:",E)),e("/order-confirmation",{state:{formData:{...c,name:c.fullName,pincode:c.zip},cartItems:t,cartTotal:r,deliveryCharge:20}})};if(t.length===0)return e("/cart"),null;const g=r+20;return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8 pb-24 transition-colors duration-200",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("button",{onClick:()=>e("/cart"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 mb-8 transition-colors group",children:[n.jsx(ut,{className:"mr-2 group-hover:-translate-x-1 transition-transform",size:20}),n.jsx("span",{className:"font-medium",children:i("Back to Cart")})]}),n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8 flex items-center gap-3",children:[n.jsx(ig,{className:"text-blue-600 dark:text-blue-400"}),i("Checkout")]}),n.jsxs("form",{onSubmit:y,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 sm:p-8",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(es,{className:"text-blue-600 dark:text-blue-400",size:24}),i("Shipping Details")]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Full Name")}),n.jsx("input",{type:"text",name:"fullName",required:!0,value:c.fullName,onChange:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors",placeholder:i("Enter your full name")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Mobile Number")}),n.jsx("input",{type:"tel",name:"mobile",required:!0,value:c.mobile,onChange:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors",placeholder:i("Enter your mobile number")})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Address")}),n.jsx("textarea",{name:"address",required:!0,rows:"3",value:c.address,onChange:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors resize-none",placeholder:i("Enter your full address")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("City")}),n.jsx("input",{type:"text",name:"city",required:!0,value:c.city,onChange:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors",placeholder:i("Enter city")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("ZIP Code")}),n.jsx("input",{type:"text",name:"zip",required:!0,value:c.zip,onChange:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors",placeholder:i("Enter ZIP code")})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[i("Preferred Delivery Time")," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"deliveryTime",required:!0,value:c.deliveryTime,onChange:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors",children:[n.jsx("option",{value:"",children:i("Select a time slot")}),(()=>{const m=new Date,v=new Date(m.getTime()+30*6e4);v.getMinutes()<30?v.setMinutes(30,0,0):(v.setMinutes(0,0,0),v.setHours(v.getHours()+1));const O=new Date(v);O.setHours(23,30,0,0),v.getHours()>=23&&v.getMinutes()>30&&(v.setDate(v.getDate()+1),v.setHours(9,0,0,0),O.setDate(O.getDate()+1));const N=[],E=new Date(v);let C=0;for(;E<=O&&C<50;){const T=E.getHours(),L=E.getMinutes(),V=`${T.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`,K=E.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});N.push({value:V,label:K}),E.setMinutes(E.getMinutes()+30),C++}const A=(u==null?void 0:u.deliveryTimes)||[];return N.map(T=>A.length>0&&!A.includes(T.value)?null:n.jsx("option",{value:T.value,children:T.label},T.value))})()]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:i("Choose your preferred delivery time (available slots from now until 11:30 PM)")})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 sm:p-8",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(tg,{className:"text-blue-600 dark:text-blue-400",size:24}),i("Payment Method")]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("label",{className:`flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all ${c.paymentMethod==="cod"?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-blue-300"}`,children:[n.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:c.paymentMethod==="cod",onChange:p,className:"w-5 h-5 text-blue-600 focus:ring-blue-500"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("span",{className:"block font-medium text-gray-900 dark:text-white",children:i("Cash on Delivery")}),n.jsx("span",{className:"block text-sm text-gray-500 dark:text-gray-400",children:i("Pay when you receive your order")})]}),n.jsx(Vc,{className:"ml-auto text-gray-400",size:24})]})})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 sticky top-24",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:i("Order Summary")}),n.jsx("div",{className:"space-y-4 mb-6",children:t.map(m=>n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border border-gray-200 dark:border-gray-600",children:n.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover object-center"})}),n.jsxs("div",{className:"flex flex-1 flex-col justify-center min-w-0",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-1",children:i(m,"title")||m.title||m.name||i("Product")}),m.storeId&&n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx(Ze,{size:10,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:Ya(m.storeId,o)})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i("Qty"),": ",m.quantity]}),n.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["",(m.price*m.quantity).toFixed(0)]})]})]},m.id))}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("Subtotal")}),n.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["",r.toFixed(0)]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i("Delivery Charge")}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"20"})]}),n.jsxs("div",{className:"flex items-center justify-between text-base font-bold pt-2 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("span",{className:"text-gray-900 dark:text-white",children:i("Total")}),n.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",g.toFixed(0)]})]})]}),n.jsx("button",{onClick:y,disabled:f,className:"hidden md:flex w-full mt-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg items-center justify-center gap-2 transition-all transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:f?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("Loading...")]}):n.jsxs(n.Fragment,{children:[n.jsx(er,{size:22}),i("Review Order")]})})]})})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 p-3 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50 md:hidden pb-[calc(0.75rem+env(safe-area-inset-bottom))]",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:i("Total")}),n.jsxs("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:["",g.toFixed(0)]})]}),n.jsx("button",{onClick:y,disabled:f,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-3 text-sm rounded-xl shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("Loading...")]}):n.jsxs(n.Fragment,{children:[n.jsx(er,{size:20}),i("Review Order")]})})]})})]})},Il={all:["stores"],lists:()=>[...Il.all,"list"],details:()=>[...Il.all,"detail"],detail:e=>[...Il.details(),e]},eu=()=>tr({queryKey:Il.lists(),queryFn:async()=>(await D.getStores()).data,staleTime:5*60*1e3}),sk=()=>{const e=Te(),{data:t=[],isLoading:r}=Hg(),{data:s=[]}=eu(),{mutate:a}=W1(),{t:l}=oe(),[i,o]=w.useState("All"),[d,u]=w.useState(""),[c,h]=w.useState({isOpen:!1,orderId:null}),f=["All","Active","Completed","Cancelled"],x=t.filter(b=>{var v;const g=i==="All"?!0:i==="Active"?["Processing","Shipped"].includes(b.status):i==="Completed"?b.status==="Delivered":i==="Cancelled"?b.status==="Cancelled":!0,m=String(b._id||b.id).toLowerCase().includes(d.toLowerCase())||((v=b.items)==null?void 0:v.some(k=>k.name.toLowerCase().includes(d.toLowerCase())));return g&&m}),p=b=>{switch(b){case"Delivered":return"text-green-700 dark:text-green-400 bg-green-100 dark:bg-green-900/30 border-green-200 dark:border-green-800";case"Shipped":return"text-blue-700 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800";case"Processing":return"text-amber-700 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30 border-amber-200 dark:border-amber-800";case"Cancelled":return"text-red-700 dark:text-red-400 bg-red-100 dark:bg-red-900/30 border-red-200 dark:border-red-800";default:return"text-gray-700 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},y=b=>{switch(b){case"Delivered":return n.jsx(Zt,{size:16,className:"mr-1.5"});case"Shipped":return n.jsx(Vc,{size:16,className:"mr-1.5"});case"Processing":return n.jsx(Sn,{size:16,className:"mr-1.5"});case"Cancelled":return n.jsx(ng,{size:16,className:"mr-1.5"});default:return null}};return r?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsx(Ra,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 pb-24 transition-colors duration-200",children:[n.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l("Order History")}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:l("Manage and track your recent orders")})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:l("Search orders..."),value:d,onChange:b=>u(b.target.value),className:"w-full md:w-64 pl-10 pr-4 py-2 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"}),n.jsx(Jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),n.jsx("div",{className:"flex overflow-x-auto pb-4 mb-4 scrollbar-hide gap-2",children:f.map(b=>n.jsx("button",{onClick:()=>o(b),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${i===b?"bg-blue-600 text-white shadow-md shadow-blue-200 dark:shadow-blue-900/20":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-100 dark:border-gray-700"}`,children:l(b)},b))}),n.jsx("div",{className:"space-y-4",children:x.length>0?x.map(b=>n.jsx("div",{onClick:()=>e(`/orders/${b._id||b.id}`),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all cursor-pointer group",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start gap-2 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[n.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400 flex-shrink-0",children:n.jsx(Ts,{size:18})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"text-xs md:text-sm font-semibold text-gray-900 dark:text-white truncate",children:["#",String(b._id||b.id).slice(-6).toUpperCase()]}),n.jsxs("p",{className:"text-[10px] md:text-xs text-gray-500 dark:text-gray-400 truncate",children:[X1(b.createdAt||b.date),b.scheduledDeliveryTime&&n.jsxs("span",{className:"text-blue-600 dark:text-blue-400 ml-1",children:[" ",Z1(b.scheduledDeliveryTime)]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] md:text-xs font-medium border ${p(b.status)}`,children:[y(b.status),n.jsx("span",{className:"ml-1",children:l(b.status)})]}),!["Shipped","Delivered"].includes(b.status)&&n.jsx("button",{onClick:g=>{g.stopPropagation(),h({isOpen:!0,orderId:b._id||b.id})},className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:l("Delete Order"),children:n.jsx(Ot,{size:18})})]})]}),n.jsxs("div",{className:"divide-y divide-gray-50 dark:divide-gray-700",children:[b.items.slice(0,2).map((g,m)=>{var v;return n.jsxs("div",{className:"py-3 flex items-center gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-100 dark:bg-gray-700 overflow-hidden flex-shrink-0",children:n.jsx("img",{src:g.image,alt:g.name,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:g.name}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx(Ze,{size:10,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:((v=g.storeId)==null?void 0:v.name)||Ya(g.storeId,s)||l("Unknown Store")})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[l("Quantity"),": ",g.quantity]})]})]},m)}),b.items.length>2&&n.jsxs("div",{className:"py-2 text-sm text-gray-500 dark:text-gray-400",children:["+",b.items.length-2," ",l("more items")]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-50 dark:border-gray-700 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:l("Total Amount")}),n.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["",b.total.toFixed(0)]})]}),n.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400 text-sm font-medium group-hover:translate-x-1 transition-transform",children:[l("View Details"),n.jsx(Dt,{size:16,className:"ml-1"})]})]})]})},b._id||b.id)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(er,{size:24,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:l("No orders found")}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:l("Try adjusting your search or filter to find what you're looking for.")}),n.jsx(X,{to:"/",className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors",children:l("Start Shopping")})]})})]}),c.isOpen&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-md w-full p-6 transform transition-all scale-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-400",children:[n.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-full",children:n.jsx(Qc,{size:24})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l("Delete Order")})]}),n.jsx("button",{onClick:()=>h({isOpen:!1,orderId:null}),className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors",children:n.jsx(Cn,{size:20})})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:l("Are you sure you want to delete this order? This action cannot be undone.")}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>h({isOpen:!1,orderId:null}),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl font-medium transition-colors",children:l("Cancel")}),n.jsx("button",{onClick:()=>{c.orderId&&(a(c.orderId),h({isOpen:!1,orderId:null}))},className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-xl font-medium shadow-lg shadow-red-200 dark:shadow-red-900/20 transition-colors",children:l("Delete")})]})]})})]})})},nk=({size:e="md",message:t="Loading..."})=>{const r={sm:"w-6 h-6 border-2",md:"w-12 h-12 border-3",lg:"w-16 h-16 border-4"};return n.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[n.jsx("div",{className:`${r[e]} border-blue-600 border-t-transparent rounded-full animate-spin`}),t&&n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400 font-medium",children:t})]})},ak=()=>{var p,y,b,g,m,v,k,O,N;const{id:e}=Pi(),t=Te(),{t:r}=oe(),{orders:s,loading:a,stores:l}=Oe(),[i,o]=w.useState(null),[d,u]=w.useState(!0),c=s.find(E=>(E._id||E.id)===e)||i;if(w.useEffect(()=>{if(s.find(C=>(C._id||C.id)===e)){u(!1);return}a.orders||(u(!0),D.getOrder(e).then(C=>{C.success&&C.data&&o(C.data)}).catch(C=>{console.error("Failed to fetch single order:",C)}).finally(()=>{u(!1)}))},[e,s,a.orders]),!c&&(a.orders||d))return n.jsx(nk,{});const h=((p=c==null?void 0:c.items)==null?void 0:p.reduce((E,C)=>E+Number(C.price||0)*Number(C.quantity||1),0))||0;if(!c)return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col items-center justify-center p-4 transition-colors duration-200",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:r("Order not found")}),n.jsxs("button",{onClick:()=>t("/orders"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center gap-2",children:[n.jsx(ut,{size:20}),r("Back to Orders")]})]});const f=E=>{switch(E){case"Delivered":return"text-green-700 dark:text-green-400 bg-green-100 dark:bg-green-900/30 border-green-200 dark:border-green-800";case"Shipped":return"text-blue-700 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800";case"Processing":return"text-amber-700 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30 border-amber-200 dark:border-amber-800";case"Cancelled":return"text-red-700 dark:text-red-400 bg-red-100 dark:bg-red-900/30 border-red-200 dark:border-red-800";default:return"text-gray-700 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},x=E=>{switch(E){case"Delivered":return n.jsx(Zt,{size:20,className:"mr-2"});case"Shipped":return n.jsx(Vc,{size:20,className:"mr-2"});case"Processing":return n.jsx(Sn,{size:20,className:"mr-2"});case"Cancelled":return n.jsx(ng,{size:20,className:"mr-2"});default:return null}};return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 pb-24 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("button",{onClick:()=>t("/orders"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-6 transition-colors",children:[n.jsx(ut,{size:20,className:"mr-2"}),r("Back to Orders")]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:r("Order Details")}),n.jsxs("p",{className:"text-sm md:text-base text-gray-500 dark:text-gray-400 whitespace-nowrap",children:[r("Order")," #",String(c._id||c.id).slice(-6).toUpperCase()]}),c.createdAt&&n.jsxs("p",{className:"text-xs md:text-sm text-gray-400 dark:text-gray-500 mt-1",children:[r("Placed on")," ",new Date(c.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," at ",new Date(c.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]}),n.jsxs("div",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium border ${f(c.status)}`,children:[x(c.status),r(c.status)]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden mb-6",children:[n.jsx("div",{className:"p-6 border-b border-gray-50 dark:border-gray-700",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[n.jsx(Ts,{size:20,className:"mr-2 text-gray-400 dark:text-gray-500"}),r("Items")]})}),n.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700",children:(y=c.items)==null?void 0:y.map((E,C)=>{var A;return n.jsxs("div",{className:"p-6 flex items-start gap-4",children:[n.jsx("div",{className:"h-20 w-20 flex-shrink-0 rounded-xl bg-gray-100 dark:bg-gray-700 overflow-hidden border border-gray-100 dark:border-gray-600",children:n.jsx("img",{src:E.image||((A=E.product)==null?void 0:A.image)||"https://via.placeholder.com/150?text=No+Image",alt:E.name,className:"h-full w-full object-cover",onError:T=>{T.target.src="https://via.placeholder.com/150?text=Product"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:E.name}),E.storeId&&n.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[n.jsx(Ze,{size:12,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:Ya(E.storeId,l)})]}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-2",children:[r("Quantity"),": ",E.quantity]}),n.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:["",Number(E.price||0).toFixed(0)]})]})]},C)})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.scheduledDeliveryTime&&n.jsx("div",{className:"md:col-span-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl shadow-sm border-2 border-blue-200 dark:border-blue-800 p-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-600 rounded-xl",children:n.jsx(Sn,{size:24,className:"text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-1",children:r("Scheduled Delivery Time")}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:new Date(c.scheduledDeliveryTime).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),n.jsx("p",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400 mt-1",children:new Date(c.scheduledDeliveryTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4",children:[n.jsx(es,{size:20,className:"mr-2 text-gray-400 dark:text-gray-500"}),r("Shipping Address")]}),n.jsxs("address",{className:"not-italic text-gray-600 dark:text-gray-300 space-y-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((b=c.shippingAddress)==null?void 0:b.name)||"N/A"}),n.jsx("p",{children:((g=c.shippingAddress)==null?void 0:g.street)||""}),n.jsxs("p",{children:[((m=c.shippingAddress)==null?void 0:m.city)||"",", ",((v=c.shippingAddress)==null?void 0:v.state)||""," ",((k=c.shippingAddress)==null?void 0:k.zip)||""]}),n.jsx("p",{children:((O=c.shippingAddress)==null?void 0:O.country)||""})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4",children:[n.jsx(tg,{size:20,className:"mr-2 text-gray-400 dark:text-gray-500"}),r("Payment Method")]}),n.jsx("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:n.jsx("span",{className:"font-medium text-gray-900 dark:text-white mr-2",children:((N=c.paymentMethod)==null?void 0:N.type)||r("Card")})})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:r("Order Summary")}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:r("Subtotal")}),n.jsxs("span",{children:["",h.toFixed(0)]})]}),n.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:r("Delivery Charge")}),n.jsxs("span",{children:["",(Number(c.shipping)||20).toFixed(0)]})]}),c.discount>0&&n.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[n.jsx("span",{children:r("Discount")}),n.jsxs("span",{children:["-",Number(c.discount).toFixed(0)]})]}),n.jsxs("div",{className:"pt-3 border-t border-gray-100 dark:border-gray-700 flex justify-between font-bold text-gray-900 dark:text-white text-lg",children:[n.jsx("span",{children:r("Total")}),n.jsxs("span",{children:["",(h+(Number(c.shipping)||20)-(Number(c.discount)||0)).toFixed(0)]})]})]})]})]})})},lk=()=>{const e=wt(),t=Te(),{clearCart:r}=ts(),{addOrder:s,stores:a}=Oe(),{t:l}=oe(),{formData:i,cartItems:o,cartTotal:d,deliveryCharge:u}=e.state||{},c=(d||0)+(u||0);if(!e.state)return n.jsx(Navigate,{to:"/",replace:!0});const[h,f]=w.useState(!1),[x,p]=w.useState(!1),[y,b]=w.useState(null),[g,m]=w.useState(!1),v=()=>{f(!0)},k=async()=>{var C,A;if(g)return;m(!0);const N=u!==void 0?u:20,E={items:o.map(T=>{var L;return{product:T._id||T.id,name:T.title||T.name||"Product",quantity:T.quantity,price:T.price,image:T.image&&T.image.length<1e3?T.image:null,storeId:((L=T.storeId)==null?void 0:L._id)||T.storeId||null}}),total:c||(d||0)+N,subtotal:d,shipping:N,tax:0,discount:0,shippingAddress:{name:i.name,street:i.address,city:i.city,state:"",zip:i.pincode,country:"India",mobile:i.mobile},paymentMethod:{type:"Cash on Delivery",last4:""},scheduledDeliveryTime:i.deliveryTime?(()=>{console.log(" formData.deliveryTime:",i.deliveryTime);const T=new Date,[L,V]=i.deliveryTime.split(":");return T.setHours(parseInt(L),parseInt(V),0,0),console.log(" Converted scheduledDeliveryTime:",T.toISOString()),T.toISOString()})():null};console.log(" Creating order with data:",E),console.log(" scheduledDeliveryTime in order:",E.scheduledDeliveryTime);try{const T=await s(E);console.log(" Order created successfully:",T),r(),b((T==null?void 0:T._id)||"NEW"),f(!1),p(!0)}catch(T){console.error(" Failed to create order:",T);let L=l("Failed to place order. Please try again.");(A=(C=T.response)==null?void 0:C.data)!=null&&A.message?L=T.response.data.message:T.message&&(L=T.message),alert(`${l("Error")}: ${L}`),m(!1)}},O=()=>{t(y?`/orders/${y}`:"/orders")};return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8 pb-24 transition-colors duration-200",children:[n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 mb-6 transition-colors group",children:[n.jsx(ut,{className:"mr-2 group-hover:-translate-x-1 transition-transform",size:20}),n.jsx("span",{className:"font-medium",children:l("Back to Edit")})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden mb-8",children:[n.jsxs("div",{className:"bg-blue-600 p-8 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg text-blue-600",children:n.jsx(qc,{size:40})}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:l("Review Order")}),n.jsx("p",{className:"text-blue-100 text-lg",children:l("Please review your details before confirming.")})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-8 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:l("Order Summary")}),n.jsx("div",{className:"space-y-4",children:o.map(N=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-16 w-16 rounded-xl bg-gray-100 dark:bg-gray-700 overflow-hidden",children:n.jsx("img",{src:N.image,alt:N.title,className:"h-full w-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:l(N,"title")||N.title||N.name||l("Product")}),N.storeId&&n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx(Ze,{size:12,className:"text-gray-400 dark:text-gray-500 flex-shrink-0"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:Ya(N.storeId,a)})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l("Qty"),": ",N.quantity]})]})]}),n.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["",(N.price*N.quantity||0).toFixed(0)]})]},N.id))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:l("Subtotal")}),n.jsxs("span",{children:["",(d||0).toFixed(0)]})]}),n.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[n.jsx("span",{children:l("Delivery Charge")}),n.jsxs("span",{children:["",(u||20).toFixed(0)]})]}),n.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:l("Total")}),n.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["",c.toFixed(0)]})]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-8",children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(es,{className:"text-blue-600 dark:text-blue-400",size:20}),l("Shipping Details")]}),n.jsxs("div",{className:"text-gray-600 dark:text-gray-300 space-y-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),n.jsx("p",{children:i.address}),n.jsxs("p",{children:[i.city,", ",i.pincode]}),n.jsxs("p",{children:[l("Mobile"),": ",i.mobile]})]}),i.deliveryTime&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l("Scheduled Delivery")}),n.jsxs("p",{className:"font-semibold",children:[l("Today")," at ",(()=>{const[N,E]=i.deliveryTime.split(":"),C=new Date;return C.setHours(parseInt(N),parseInt(E)),C.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})()]})]})]})})]}),n.jsx("div",{className:"hidden md:block",children:n.jsx("button",{onClick:v,className:"w-full bg-blue-600 text-white py-4 px-6 text-lg rounded-xl font-bold shadow-lg hover:bg-blue-700 dark:hover:bg-blue-500 hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800",children:l("Place Order")})})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 p-3 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50 md:hidden pb-[calc(0.75rem+env(safe-area-inset-bottom))]",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("button",{onClick:v,className:"w-[90%] mx-auto block bg-blue-600 text-white py-2.5 px-4 text-sm md:py-4 md:px-6 md:text-lg rounded-xl font-bold shadow-lg hover:bg-blue-700 dark:hover:bg-blue-500 hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800",children:l("Place Order")})})}),h&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md transition-opacity duration-300",children:n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-sm w-full p-8 transform transition-all scale-100 animate-bounce-subtle border border-gray-100 dark:border-gray-700",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-blue-50 dark:bg-blue-900/40 mb-6 shadow-inner relative group",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-400 opacity-20 animate-ping group-hover:animate-none"}),n.jsx(er,{className:"h-10 w-10 text-blue-600 dark:text-blue-400 relative z-10"})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:l("Ready to Wrap Up?")}),n.jsx("p",{className:"text-base text-gray-500 dark:text-gray-400 mb-8 leading-relaxed",children:l("You are just one step away from confirming your order. Do you want to proceed?")}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>f(!1),disabled:g,className:"flex-1 px-4 py-3.5 text-sm font-bold text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 transition-colors",children:l("Cancel")}),n.jsx("button",{onClick:k,disabled:g,className:"flex-1 px-4 py-3.5 text-sm font-bold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 rounded-xl shadow-lg shadow-blue-500/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2 transform active:scale-95 transition-all",children:g?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),l("Processing")]}):l("Confirm Order")})]})]})})}),x&&n.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-green-500/20 backdrop-blur-md",children:n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-sm w-full p-8 transform transition-all scale-100 animate-bounce-subtle",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Zt,{className:"h-12 w-12 text-green-600 dark:text-green-400 animate-pulse"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:l("Order Placed!")}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:l("Your order has been placed successfully. Thank you for shopping with us!")}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 mb-6",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:l("Order ID")}),n.jsxs("p",{className:"font-mono font-bold text-gray-900 dark:text-white text-lg",children:["#",String(y||"000").slice(-6).toUpperCase()]})]}),n.jsx("button",{onClick:O,className:"w-full bg-green-600 text-white py-3 px-6 rounded-xl font-bold shadow-lg hover:bg-green-700 transition-colors",children:l("View Order Details")})]})})})]})},ik=()=>{const e=Te(),{news:t}=Oe(),{t:r}=oe(),[s,a]=w.useState(()=>{const i=localStorage.getItem("savedNews");return i?JSON.parse(i):[]}),l=i=>{a(o=>{let d;return o.includes(i)?d=o.filter(u=>u!==i):d=[...o,i],localStorage.setItem("savedNews",JSON.stringify(d)),d})};return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[n.jsx(ut,{className:"h-5 w-5 mr-2"}),r("Back")]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r("News & Offers")}),n.jsx("div",{className:"w-5"})," "]}),n.jsx("div",{className:"space-y-6",children:t.map(i=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all duration-300",children:[n.jsxs("div",{className:"relative h-48 sm:h-64",children:[n.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[n.jsx("button",{className:"p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:n.jsx(lg,{size:18})}),n.jsx("button",{onClick:()=>l(i.id),className:`p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full transition-colors ${s.includes(i.id)?"text-red-500 hover:text-red-600":"text-gray-600 dark:text-gray-300 hover:text-red-500"}`,children:n.jsx(Lb,{size:18,fill:s.includes(i.id)?"currentColor":"none"})})]}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full uppercase tracking-wider shadow-lg",children:r(i,"category")})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-3",children:[n.jsx(Ob,{size:14,className:"mr-2"}),i.date]}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:r(i,"title")}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:i.content?r(i,"content"):r(i,"description")})]})]},i.id))})]})})},ok=()=>{const e=Te(),{t}=oe(),{services:r,loading:s,requestService:a}=Oe(),[l,i]=w.useState(null),[o,d]=w.useState(!1),[u,c]=w.useState(!1),[h,f]=w.useState(!1),x=y=>{i(y),d(!0)},p=async()=>{if(l){f(!0);try{await a(l._id||l.id),d(!1),setTimeout(()=>{c(!0),f(!1)},300)}catch(y){console.error("Failed to request service:",y),f(!1),alert(t("Failed to request service. Please try again."))}}};return n.jsx(Ra,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:[n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 mb-8 transition-colors group",children:[n.jsx(ut,{className:"mr-2 group-hover:-translate-x-1 transition-transform",size:20}),n.jsx("span",{className:"font-medium",children:t("Back")})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:t("Our Services")}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("Enhance your shopping experience with our premium services.")})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.services?n.jsx("div",{className:"col-span-full flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r.length>0?r.map((y,b)=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden group flex flex-col h-full",children:[n.jsxs("div",{className:"relative h-56 overflow-hidden bg-gray-100 dark:bg-gray-900",children:[n.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700 ease-out",onError:g=>{g.target.src="https://via.placeholder.com/400x250?text=Service"}}),n.jsx("div",{className:"absolute top-4 right-4 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md p-2 rounded-full shadow-sm",children:n.jsx(di,{className:"text-blue-600 dark:text-blue-400",size:16})})]}),n.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 line-clamp-1",children:y.name}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed mb-3 line-clamp-2",children:y.description}),n.jsx("div",{className:"space-y-2 mb-4",children:n.jsxs("div",{className:"flex items-start gap-2.5 w-full group/loc leading-snug",children:[n.jsx("div",{className:"mt-0.5 p-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg shrink-0",children:n.jsx(es,{size:14,className:"text-blue-600 dark:text-blue-400"})}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium truncate pt-0.5",children:y.address})]})}),n.jsx("div",{className:"pt-0 mt-auto",children:n.jsxs("button",{onClick:()=>x(y),className:"w-full py-3 rounded-xl bg-blue-600 text-white font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/20 flex items-center justify-center gap-2 active:scale-95 duration-200",children:[n.jsx("span",{children:t("Book Now")}),n.jsx(ut,{className:"rotate-180 w-4 h-4"})]})})]})]},y._id||b)):n.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700",children:[n.jsx(di,{size:48,className:"mx-auto mb-4 opacity-50"}),n.jsx("p",{children:t("No services available at the moment.")})]})})]}),o&&l&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-sm p-6 transform transition-all scale-100 opacity-100",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ig,{className:"text-blue-600 dark:text-blue-400",size:32})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("Confirm Request")}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[t("Are you sure you want to request")," ",n.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',l.name,'"']}),"?"]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:t("Cancel")}),n.jsx("button",{onClick:p,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors",children:t("Confirm")})]})]})}),u&&l&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-sm p-6 transform transition-all scale-100 opacity-100",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Zt,{className:"text-green-600 dark:text-green-400",size:32})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t("Request Sent!")}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[t("Your request for")," ",n.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:['"',l.name,'"']})," ",t("has been received"),".",n.jsx("br",{}),t("Our team will contact you shortly at")," ",n.jsx("span",{className:"font-semibold text-blue-600",children:l.mobile}),"."]})]}),n.jsx("button",{onClick:()=>c(!1),className:"w-full py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors",children:t("Close")})]})})]})})},dk=()=>{const e=Te(),{savedProducts:t,loading:r}=Oe(),{t:s}=oe();return r.users?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:n.jsx(ut,{size:24})}),n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Pa,{className:"text-blue-600 fill-current",size:28}),s("Saved Products")]})]}),t.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Pa,{className:"text-gray-400 dark:text-gray-600",size:48})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:s("No saved products")}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 max-w-sm mx-auto",children:s("Products you mark as favorite will appear here for easy access.")}),n.jsx(X,{to:"/store",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:s("Browse Products")})]}):n.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:t.map(a=>!a||typeof a!="object"?null:n.jsx(Bg,{product:a},a._id||a.id))})]})})},Qg=(e,t=500,r=800)=>new Promise((s,a)=>{const l=new FileReader;l.onload=i=>{const o=new Image;o.onload=()=>{const d=document.createElement("canvas");let u=o.width,c=o.height;u>r&&(c=c*r/u,u=r),d.width=u,d.height=c,d.getContext("2d").drawImage(o,0,0,u,c);let f=.9,x=d.toDataURL("image/jpeg",f);for(;x.length>t*1024*1.37&&f>.1;)f-=.1,x=d.toDataURL("image/jpeg",f);s(x)},o.onerror=()=>a(new Error("Failed to load image")),o.src=i.target.result},l.onerror=()=>a(new Error("Failed to read file")),l.readAsDataURL(e)}),Vg=(e,t=5)=>{const r=t*1024*1024;return e.size<=r},Md=()=>{const{user:e}=Ga(),{stores:t,products:r,categories:s,addStore:a,updateStore:l,addProduct:i,updateProduct:o,deleteProduct:d,deleteStore:u}=Oe(),{t:c}=oe(),h=(e==null?void 0:e.role)==="store_admin",f=h?t.find(_=>_._id===e.storeId||_.id===e.storeId):null,[x,p]=w.useState("list"),[y,b]=w.useState(f),[g,m]=w.useState(f);w.useEffect(()=>{h&&f&&!g&&(m(f),b(f),A({name:f.name,address:f.address||"",image:f.image,rating:f.rating,openingTime:f.openingTime||"09:00",closingTime:f.closingTime||"21:00",mobile:f.mobile||"",category:f.type||""}))},[h,f,t,g]);const v=()=>{h||p("list")},[k,O]=w.useState(null),[N,E]=w.useState(""),[C,A]=w.useState({name:"",address:"",image:"",rating:4.5,openingTime:"09:00",closingTime:"21:00",mobile:"",category:""}),[T,L]=w.useState({title:"",price:"",category:"",description:"",image:"",sliderImages:[],stock:0,unit:"kg"}),V=_=>{const Z=_.target.files[0];if(Z){const ue=new FileReader;ue.onloadend=()=>{A({...C,image:ue.result})},ue.readAsDataURL(Z)}},K=(_,Z=!1)=>{const ue=Array.from(_.target.files);ue.length>0&&ue.forEach(ze=>{const st=new FileReader;st.onloadend=()=>{L(Z?qt=>({...qt,sliderImages:[...qt.sliderImages,st.result]}):qt=>({...qt,image:st.result}))},st.readAsDataURL(ze)})},se=_=>{L(Z=>({...Z,sliderImages:Z.sliderImages.filter((ue,ze)=>ze!==_)}))},ne=_=>{m(_),A({name:_.name,address:_.address||"",image:_.image,rating:_.rating,openingTime:_.openingTime||"09:00",closingTime:_.closingTime||"21:00",mobile:_.mobile||"",category:_.type||""}),p("form")},ce=async _=>{if(window.confirm(c("Are you sure you want to delete this store?")))try{await u(_),alert(c("Store deleted successfully!"))}catch(Z){console.error("Error deleting store:",Z),alert(c("Failed to delete store. Please try again."))}},Ae=async _=>{_.preventDefault();const Z=st=>{const[qt,Ui]=st.split(":"),rs=parseInt(qt),$i=rs>=12?"PM":"AM";return`${rs===0?12:rs>12?rs-12:rs}:${Ui} ${$i}`},ue=`${Z(C.openingTime)} - ${Z(C.closingTime)}`,ze={name:C.name,type:C.category||"General Store",address:C.address,city:C.address.split(",").pop().trim()||"Unknown",timing:ue,openingTime:C.openingTime,closingTime:C.closingTime,mobile:C.mobile,image:C.image,rating:C.rating||4.5};try{g?(await l({...g,...ze}),alert(c("Store updated successfully!"))):(await a(ze),alert(c("Store added successfully!"))),A({name:"",address:"",image:"",rating:4.5,openingTime:"09:00",closingTime:"21:00",mobile:"",category:""}),m(null),p("list")}catch(st){alert(c("Failed to save store. Please try again.")),console.error("Error saving store:",st)}},z=_=>{b(_),p("storeProducts")},H=_=>{b(_),p("storeProducts")},W=()=>{L({title:"",price:"",category:"",description:"",image:"",sliderImages:[]}),O(null),p("addProductToStore")},G=_=>{O(_),L({title:_.title,price:_.price,category:_.category,description:_.description,image:_.image,sliderImages:_.images||[]}),p("addProductToStore")},$=async _=>{if(window.confirm(c("Are you sure you want to delete this product?")))try{await d(_),alert(c("Product deleted successfully!"))}catch(Z){console.error("Error deleting product:",Z),alert(c("Failed to delete product. Please try again."))}},be=async _=>{var ue,ze;if(_.preventDefault(),!y){alert(c("No store selected. Please go back and select a store."));return}const Z={...T,price:parseFloat(T.price),storeId:y._id||y.id,images:T.sliderImages.length>0?T.sliderImages:[T.image]};try{k?(await o({...k,...Z}),alert(c("Product updated successfully!"))):(await i(Z),alert(c("Product added to store successfully!"))),p("storeProducts")}catch(st){console.error("Error saving product:",st);const qt=((ze=(ue=st.response)==null?void 0:ue.data)==null?void 0:ze.message)||st.message||c("Failed to save product. Please try again.");alert(`${c("Error")}: ${qt}`)}},$e=h?f?[f]:[]:t.filter(_=>_.name.toLowerCase().includes(N.toLowerCase())||_.address&&_.address.toLowerCase().includes(N.toLowerCase()));return n.jsxs("div",{className:"max-w-6xl",children:[!h&&x==="list"&&n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c("Manage Stores")}),n.jsxs("button",{onClick:()=>{m(null),A({name:"",address:"",image:"",rating:4.5,openingTime:"09:00",closingTime:"21:00",mobile:"",category:""}),p("form")},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[n.jsx(Ve,{size:20}),c("Add New Store")]})]}),x==="list"&&n.jsxs(n.Fragment,{children:[!h&&n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:c("Search by store name or location..."),value:N,onChange:_=>E(_.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"}),n.jsx(Jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$e.map(_=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden group",children:[n.jsxs("div",{className:"h-48 overflow-hidden relative",children:[n.jsx("img",{src:_.image,alt:_.name,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[n.jsx("button",{onClick:()=>ne(_),className:"p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full text-blue-600 hover:text-blue-700 shadow-sm",children:n.jsx(Os,{size:18})}),!h&&n.jsx("button",{onClick:()=>ce(_.id||_._id),className:"p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full text-red-600 hover:text-red-700 shadow-sm",children:n.jsx(Ot,{size:18})})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:_.name}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4 flex items-center gap-2",children:[n.jsx(es,{size:16}),_.address||"No address"]}),n.jsx("button",{onClick:()=>z(_),className:"w-full py-2 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:c("Manage Products")})]})]},_.id))})]}),x==="form"&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[!h&&n.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:n.jsx(ut,{size:20,className:"text-gray-500 dark:text-gray-400"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c(g?h?"My Store Settings":"Edit Store":"Add New Store")})]}),h&&g&&n.jsxs("button",{onClick:()=>H(g),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center gap-2",children:[n.jsx(Ts,{size:18}),c("Manage Products")]})]}),n.jsxs("form",{onSubmit:Ae,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Store Name")}),n.jsx("input",{type:"text",value:C.name,onChange:_=>A({...C,name:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Address")}),n.jsx("input",{type:"text",value:C.address,onChange:_=>A({...C,address:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g., 123 Main St, City",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Opening Time")}),n.jsx("input",{type:"time",value:C.openingTime,onChange:_=>A({...C,openingTime:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Closing Time")}),n.jsx("input",{type:"time",value:C.closingTime,onChange:_=>A({...C,closingTime:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Mobile Number")}),n.jsx("input",{type:"tel",value:C.mobile,onChange:_=>A({...C,mobile:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:c("Enter mobile number"),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Category")}),n.jsxs("select",{value:C.category,onChange:_=>A({...C,category:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0,children:[n.jsx("option",{value:"",children:c("Select Category")}),s&&s.length>0&&s.map(_=>n.jsx("option",{value:_.name,children:c(_.name)},_._id||_.id))]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Store Image")}),n.jsxs("div",{className:"flex items-center gap-4",children:[C.image&&n.jsx("img",{src:C.image,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsxs("div",{className:"w-full px-4 py-2 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{size:20}),n.jsx("span",{children:c("Upload Image")})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:V,className:"hidden",required:!C.image})]})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ms,{size:20}),c(g?"Update Store":"Add Store")]})})]})]}),x==="storeProducts"&&y&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>{p("list")},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:n.jsx(ut,{size:20,className:"text-gray-500 dark:text-gray-400"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:y.name}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:c("Manage Products")})]})]}),n.jsxs("button",{onClick:W,className:"ml-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm md:text-base",children:[n.jsx(Ve,{size:20}),c("Add Product")]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:c("Image")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:c("Title")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:c("Price")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:c("Actions")})]})}),n.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[r.filter(_=>{var ze;const Z=((ze=_.storeId)==null?void 0:ze._id)||_.storeId,ue=y._id||y.id;return Z==ue||String(Z)===String(ue)}).map(_=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[n.jsx("td",{className:"p-4",children:n.jsx("img",{src:_.image,alt:_.title,className:"w-12 h-12 rounded-lg object-cover"})}),n.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:_.title}),n.jsxs("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:["$",_.price]}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>G(_),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:n.jsx(Os,{size:18})}),n.jsx("button",{onClick:()=>$(_._id||_.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:n.jsx(Ot,{size:18})})]})})]},_._id||_.id)),r.filter(_=>{var ze;const Z=((ze=_.storeId)==null?void 0:ze._id)||_.storeId,ue=y._id||y.id;return Z==ue||String(Z)===String(ue)}).length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-500 dark:text-gray-400",children:c("No products found in this store. Add one to get started!")})})]})]})})})]}),x==="addProductToStore"&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("button",{onClick:()=>p("storeProducts"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:n.jsx(ut,{size:24,className:"text-gray-600 dark:text-gray-400"})}),n.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:k?c("Edit Product"):`${c("Add Product to")} ${y==null?void 0:y.name}`})]}),n.jsxs("form",{onSubmit:be,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Product Title")}),n.jsx("input",{type:"text",value:T.title,onChange:_=>L({...T,title:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price ($)"}),n.jsx("input",{type:"number",value:T.price,onChange:_=>L({...T,price:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Category")}),n.jsxs("select",{value:T.category,onChange:_=>L({...T,category:_.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0,children:[n.jsx("option",{value:"",children:c("Select Category")}),s&&s.length>0?s.map(_=>n.jsx("option",{value:_.name,children:c(_.name)},_._id||_.id)):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"Electronics",children:c("Electronics")}),n.jsx("option",{value:"Fashion",children:c("Fashion")}),n.jsx("option",{value:"Home",children:c("Home")}),n.jsx("option",{value:"Beauty",children:c("Beauty")})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Main Image")}),n.jsxs("div",{className:"flex items-center gap-4",children:[T.image&&n.jsx("img",{src:T.image,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsxs("div",{className:"w-full px-4 py-2 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{size:20}),n.jsx("span",{children:c("Upload Image")})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:_=>K(_,!1),className:"hidden",required:!T.image})]})]})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Slider Images (Optional)")}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[T.sliderImages.map((_,Z)=>n.jsxs("div",{className:"relative w-20 h-20 group",children:[n.jsx("img",{src:_,alt:`Slider ${Z}`,className:"w-full h-full rounded-lg object-cover"}),n.jsx("button",{type:"button",onClick:()=>se(Z),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Cn,{size:12})})]},Z)),n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("div",{className:"w-20 h-20 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center",children:n.jsx(Ve,{size:24})}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:_=>K(_,!0),className:"hidden"})]})]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c("Description")}),n.jsx("textarea",{value:T.description,onChange:_=>L({...T,description:_.target.value}),rows:"4",className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ve,{size:20}),c(k?"Update Product":"Add Product to Store")]})})]})]})]})},ck=()=>{const{settings:e,updateDeliverySettings:t,updateMaintenanceMode:r}=Oe(),{t:s}=oe(),[a,l]=w.useState(!1),[i,o]=w.useState({type:"",text:""}),u=(()=>{const k=[];for(let O=0;O<24;O++)for(let N=0;N<60;N+=30){const E=O.toString().padStart(2,"0"),C=N.toString().padStart(2,"0"),A=`${E}:${C}`,T=new Date;T.setHours(O,N,0,0);const L=T.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});k.push({id:A,label:L})}return k})(),[c,h]=w.useState([]);w.useEffect(()=>{e&&(e.deliveryTimes&&h(e.deliveryTimes),e.maintenanceMode!==void 0&&x(e.maintenanceMode))},[e]);const[f,x]=w.useState(!1),p=async()=>{l(!0);try{const k=!f;await r(k),x(k),o({type:"success",text:s(`App is now ${k?"CLOSED (Maintenance)":"OPEN"}`)})}catch(k){console.error("Error updating status:",k),o({type:"error",text:s("Failed to update status.")})}finally{l(!1),setTimeout(()=>o({type:"",text:""}),3e3)}},y=k=>{h(O=>O.includes(k)?O.filter(N=>N!==k):[...O,k].sort())},b=()=>{h(u.map(k=>k.id))},g=()=>{h([])},m=()=>{const k=u.filter(O=>{const N=parseInt(O.id.split(":")[0]);return N>=9&&N<21}).map(O=>O.id);h(k)},v=async()=>{l(!0),o({type:"",text:""});try{await t(c),o({type:"success",text:s("Settings saved successfully!")})}catch(k){console.error("Error saving settings:",k),o({type:"error",text:s("Failed to save settings. Please try again.")})}finally{l(!1),setTimeout(()=>o({type:"",text:""}),3e3)}};return n.jsxs("div",{className:"max-w-6xl",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:n.jsx(Sn,{className:"text-blue-600 dark:text-blue-400",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s("Delivery Settings")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("Configure available delivery time slots for customers")})]})]}),i.text&&n.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 animate-fade-in ${i.type==="success"?"bg-green-100 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800":"bg-red-100 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800"}`,children:[i.type==="success"?n.jsx(Zt,{size:20}):n.jsx(eg,{size:20}),n.jsx("span",{className:"font-medium",children:i.text})]}),n.jsx("div",{className:`mb-6 rounded-2xl shadow-sm border overflow-hidden transition-all ${f?"bg-red-50 border-red-200 dark:bg-red-900/10 dark:border-red-800":"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800"}`,children:n.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`p-3 rounded-full ${f?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400"}`,children:f?n.jsx(Ub,{size:32}):n.jsx(Zt,{size:32})}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-lg font-bold ${f?"text-red-700 dark:text-red-400":"text-green-700 dark:text-green-400"}`,children:s(f?"Not Taking Orders (Maintenance Mode)":"Taking Orders (Online)")}),n.jsx("p",{className:`text-sm mt-1 ${f?"text-red-600/80 dark:text-red-400/80":"text-green-600/80 dark:text-green-400/80"}`,children:s(f?"The app is currently hidden from users and store admins. Only Super Admins can access.":"The app is live and accepting orders from all users.")})]})]}),n.jsxs("button",{onClick:p,disabled:a,className:`
                            relative inline-flex h-8 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2
                            ${f?"bg-red-600 focus:ring-red-500":"bg-green-600 focus:ring-green-500"}
                        `,children:[n.jsx("span",{className:"sr-only",children:"Use setting"}),n.jsx("span",{"aria-hidden":"true",className:`
                                pointer-events-none inline-block h-7 w-7 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out
                                ${f?"translate-x-6":"translate-x-0"}
                            `})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s("Time Slots")}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s("Select the time slots you want to make available for delivery")})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:m,className:"px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:s("Working Hours (9am-9pm)")}),n.jsx("button",{onClick:b,className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 rounded-lg transition-colors",children:s("Select All")}),n.jsx("button",{onClick:g,className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 rounded-lg transition-colors",children:s("Clear All")})]})]}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3",children:u.map(k=>{const O=c.includes(k.id);return n.jsx("button",{onClick:()=>y(k.id),className:`
                                        flex items-center justify-center py-2 px-3 rounded-xl border text-sm font-medium transition-all
                                        ${O?"bg-blue-600 border-blue-600 text-white shadow-md transform scale-105":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-blue-300 dark:hover:border-blue-700"}
                                    `,children:k.label},k.id)})})}),n.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-700/30 border-t border-gray-100 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center gap-2"}),n.jsxs("button",{onClick:v,disabled:a,className:"w-full sm:w-auto px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[a?n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):n.jsx(Ms,{size:20}),s("Save Settings")]})]})]})]})},Wg=()=>{const[e,t]=w.useState(!1),[r,s]=w.useState(null);return{uploadImage:async l=>{var i;t(!0),s(null);try{const o=await q.get("/upload/signature"),{signature:d,timestamp:u,cloudName:c,apiKey:h,folder:f}=o,x=new FormData;x.append("file",l),x.append("api_key",h),x.append("timestamp",u),x.append("signature",d),x.append("folder",f);const p=`https://api.cloudinary.com/v1_1/${c}/image/upload`,y=await fetch(p,{method:"POST",body:x}),b=await y.json();if(!y.ok)throw new Error(((i=b.error)==null?void 0:i.message)||"Cloudinary Upload Failed");return t(!1),b.secure_url}catch(o){throw console.error("Upload Error:",o),s(o.message||"Image upload failed"),t(!1),o}},uploading:e,error:r}},Xa={all:["news"],lists:()=>[...Xa.all,"list"]},uk=()=>tr({queryKey:Xa.lists(),queryFn:async()=>(await D.getNews()).data,staleTime:10*60*1e3}),hk=()=>{const e=Me();return Ke({mutationFn:t=>D.createNews(t),onSuccess:()=>{e.invalidateQueries(Xa.lists())}})},fk=()=>{const e=Me();return Ke({mutationFn:({id:t,data:r})=>D.updateNews(t,r),onSuccess:()=>{e.invalidateQueries(Xa.lists())}})},mk=()=>{const e=Me();return Ke({mutationFn:t=>D.deleteNews(t),onSuccess:()=>{e.invalidateQueries(Xa.lists())}})},zi={all:["services"],lists:()=>[...zi.all,"list"]},gk=()=>tr({queryKey:zi.lists(),queryFn:async()=>(await D.services.getAll()).data,staleTime:30*60*1e3}),pk=()=>{const e=Me();return Ke({mutationFn:t=>D.services.create(t),onSuccess:()=>{e.invalidateQueries(zi.lists())}})},xk=()=>{const e=Me();return Ke({mutationFn:t=>D.services.delete(t),onSuccess:()=>{e.invalidateQueries(zi.lists())}})},Di={all:["serviceRequests"],lists:()=>[...Di.all,"list"]},yk=()=>tr({queryKey:Di.lists(),queryFn:async()=>(await D.serviceRequests.getAll()).data,staleTime:5*60*1e3}),vk=()=>{const e=Me();return Ke({mutationFn:({id:t,status:r})=>D.serviceRequests.updateStatus(t,r),onSuccess:()=>{e.invalidateQueries(Di.lists())}})},bk=()=>{const e=Me();return Ke({mutationFn:t=>D.serviceRequests.delete(t),onSuccess:()=>{e.invalidateQueries(Di.lists())}})},wk=()=>{const{user:e}=Oe(),t=(e==null?void 0:e.role)==="store_admin",[r,s]=w.useState(t?"stores":"products"),[a,l]=w.useState(!1),{t:i}=oe();w.useEffect(()=>{t&&r!=="stores"&&r!=="products"&&r!=="orders"&&s("stores")},[t,r]);const o=()=>{switch(r){case"products":return n.jsx(eh,{});case"stores":return n.jsx(Md,{});case"news":return n.jsx(kk,{});case"orders":return n.jsx(jk,{});case"users":return n.jsx(Sk,{});case"categories":return n.jsx(Nk,{});case"ads":return n.jsx(Ck,{});case"services":return n.jsx(Ek,{});case"service-requests":return n.jsx(Pk,{});case"settings":return n.jsx(ck,{});default:return n.jsx(eh,{})}},d=()=>l(!a);return t?n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex transition-colors duration-200 relative",children:[n.jsx("button",{onClick:d,className:"md:hidden fixed top-4 right-4 z-50 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-md text-gray-600 dark:text-gray-300",children:a?n.jsx(Cn,{size:24}):n.jsx(L0,{size:24})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>l(!1)}),n.jsxs("div",{className:`
                    fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 
                    transform transition-transform duration-300 ease-in-out md:translate-x-0 md:hidden flex flex-col
                    ${a?"translate-x-0":"-translate-x-full"}
                `,children:[n.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Ze,{className:"text-blue-600 dark:text-blue-400"}),i("My Store")]})}),n.jsx("nav",{className:"flex-1 p-4 space-y-2",children:n.jsx(Rt,{icon:n.jsx(Ze,{size:20}),label:i("Store Details"),id:"stores",active:!0,onClick:()=>l(!1)})})]}),n.jsx("div",{className:"flex-1 overflow-auto w-full",children:n.jsx("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(Ze,{className:"text-blue-600 dark:text-blue-400",size:24})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i("My Store")})]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 hidden md:block",children:e==null?void 0:e.name})]}),n.jsx(Md,{})]})})})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex transition-colors duration-200 relative",children:[n.jsx("button",{onClick:d,className:"md:hidden fixed top-4 right-4 z-50 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-md text-gray-600 dark:text-gray-300",children:a?n.jsx(Cn,{size:24}):n.jsx(L0,{size:24})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>l(!1)}),n.jsxs("div",{className:`
                fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 
                transform transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:flex flex-col
                ${a?"translate-x-0":"-translate-x-full"}
            `,children:[n.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Mb,{className:"text-blue-600 dark:text-blue-400"}),i("Admin Panel")]})}),n.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[n.jsx(Rt,{icon:n.jsx(Ze,{size:20}),label:i("Stores"),id:"stores",active:r==="stores",onClick:s}),n.jsx(Rt,{icon:n.jsx(Ts,{size:20}),label:i("Products"),id:"products",active:r==="products",onClick:s}),n.jsx(Rt,{icon:n.jsx(er,{size:20}),label:i("Orders"),id:"orders",active:r==="orders",onClick:s}),n.jsx(Rt,{icon:n.jsx(sg,{size:20}),label:i("News"),id:"news",active:r==="news",onClick:s}),n.jsx(Rt,{icon:n.jsx(Kc,{size:20}),label:i("Users"),id:"users",active:r==="users",onClick:s}),n.jsx(Rt,{icon:n.jsx(Ha,{size:20}),label:i("Categories"),id:"categories",active:r==="categories",onClick:s}),n.jsx(Rt,{icon:n.jsx(Ib,{size:20}),label:i("Ads"),id:"ads",active:r==="ads",onClick:s}),n.jsx(Rt,{icon:n.jsx(di,{size:20}),label:i("Services"),id:"services",active:r==="services",onClick:s}),n.jsx(Rt,{icon:n.jsx(qc,{size:20}),label:i("Service Requests"),id:"service-requests",active:r==="service-requests",onClick:s}),n.jsx("div",{className:"my-2 border-t border-gray-100 dark:border-gray-700"}),n.jsx(Rt,{icon:n.jsx(ag,{size:20}),label:i("Settings"),id:"settings",active:r==="settings",onClick:s})]})]}),n.jsx("div",{className:"flex-1 overflow-auto w-full",children:n.jsx("div",{className:"p-4 md:p-8 pt-16 md:pt-8",children:o()})})]})},Rt=({icon:e,label:t,id:r,active:s,onClick:a,hidden:l=!1})=>l?null:n.jsxs("button",{onClick:()=>a(r),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-colors ${s?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-medium":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e,t]}),eh=()=>{const{data:e=[]}=zg(),{data:t=[]}=eu(),{data:r=[]}=Zc(),{mutateAsync:s}=j1(),{mutateAsync:a}=N1(),{mutateAsync:l}=S1(),{t:i}=oe(),[o,d]=w.useState("list"),[u,c]=w.useState(null),[h,f]=w.useState(""),[x,p]=w.useState({title:"",price:"",category:"",storeId:"",description:"",image:"",sliderImages:[]}),{uploadImage:y,uploading:b}=Wg(),g=async(N,E=!1)=>{const C=Array.from(N.target.files);if(C.length>0)try{for(const A of C){const T=await y(A);p(E?L=>({...L,sliderImages:[...L.sliderImages,T]}):L=>({...L,image:T}))}}catch(A){console.error("Upload failed:",A),alert("Image upload failed. Please try again.")}},m=N=>{p(E=>({...E,sliderImages:E.sliderImages.filter((C,A)=>A!==N)}))},v=N=>{c(N),p({title:N.title,price:N.price,category:N.category,storeId:N.storeId||"",description:N.description,image:N.image||N.images&&N.images[0]||"",sliderImages:N.images||[],stock:N.stock||0,unit:N.unit||"kg"}),d("form")},k=async N=>{if(window.confirm(i("Are you sure you want to delete this product?")))try{await l(N),alert(i("Product deleted successfully!"))}catch(E){alert(i("Failed to delete product. Please try again.")),console.error("Error deleting product:",E)}},O=async N=>{N.preventDefault();const E=x.sliderImages.length>0?x.sliderImages:x.image?[x.image]:[],C={title:x.title,description:x.description,category:x.category,price:parseFloat(x.price),image:x.image||E[0],images:E,stock:parseInt(x.stock)||0,unit:x.unit||"kg"};x.storeId&&(C.storeId=x.storeId);try{u?(await a({id:u.id||u._id,data:C}),alert(i("Product updated successfully!"))):(await s(C),alert(i("Product uploaded successfully!"))),p({title:"",price:"",category:"",storeId:"",description:"",image:"",sliderImages:[],stock:0,unit:"kg"}),c(null),d("list")}catch(A){alert(i("Failed to save product. Please try again.")),console.error("Error saving product:",A)}};return n.jsxs("div",{className:"max-w-6xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i(o==="list"?"Product Inventory":u?"Edit Product":"Add New Product")}),n.jsxs("button",{onClick:()=>{o==="list"?(c(null),p({title:"",price:"",category:"",storeId:"",description:"",image:"",sliderImages:[],stock:0,unit:"kg"}),d("form")):d("list")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o==="list"?n.jsx(Ve,{size:20}):n.jsx(Ha,{size:20}),i(o==="list"?"Add Product":"View List")]})]}),o==="list"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:i("Search products..."),value:h,onChange:N=>f(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"}),n.jsx(Jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:i("Image")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:i("Title")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:i("Category")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:i("Price")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:i("Actions")})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:e.filter(N=>!N.storeId).filter(N=>N.title.toLowerCase().includes(h.toLowerCase())||N.category.toLowerCase().includes(h.toLowerCase())||N.description&&N.description.toLowerCase().includes(h.toLowerCase())).map(N=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[n.jsx("td",{className:"p-4",children:n.jsx("img",{src:N.image,alt:N.title,className:"w-12 h-12 rounded-lg object-cover"})}),n.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:N.title}),n.jsx("td",{className:"p-4 text-gray-500 dark:text-gray-400",children:N.category}),n.jsxs("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:["$",N.price]}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>v(N),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:n.jsx(Os,{size:18})}),n.jsx("button",{onClick:()=>k(N.id||N._id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:n.jsx(Ot,{size:18})})]})})]},N.id||N._id))})]})})})]}):n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:n.jsxs("form",{onSubmit:O,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Product Title")}),n.jsx("input",{type:"text",value:x.title,onChange:N=>p({...x,title:N.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:i("e.g., Wireless Headphones"),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Price")}),n.jsx("input",{type:"number",value:x.price,onChange:N=>p({...x,price:N.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"0.00",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Category")}),n.jsxs("select",{value:x.category,onChange:N=>p({...x,category:N.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0,children:[n.jsx("option",{value:"",children:i("Select Category")}),r&&r.length>0&&r.map(N=>n.jsx("option",{value:N.name,children:i(N.name)},N._id||N.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Store")}),n.jsxs("select",{value:x.storeId,onChange:N=>p({...x,storeId:N.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",children:[n.jsx("option",{value:"",children:i("Select Store (Optional)")}),t.map(N=>n.jsx("option",{value:N.id||N._id,children:i(N,"name")},N.id||N._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Main Image")}),n.jsxs("div",{className:"flex items-center gap-4",children:[x.image&&n.jsx("img",{src:x.image,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsxs("div",{className:"w-full px-4 py-2 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{size:20}),n.jsx("span",{children:b?"Uploading...":i("Upload Image")})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:N=>g(N,!1),className:"hidden",required:!x.image})]})]})]}),n.jsxs("div",{className:"col-span-1 md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Slider Images (Optional)")}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[x.sliderImages.map((N,E)=>n.jsxs("div",{className:"relative w-20 h-20 group",children:[n.jsx("img",{src:N,alt:`Slider ${E}`,className:"w-full h-full rounded-lg object-cover"}),n.jsx("button",{type:"button",onClick:()=>m(E),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Cn,{size:12})})]},E)),n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("div",{className:"w-20 h-20 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center",children:n.jsx(Ve,{size:24})}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N=>g(N,!0),className:"hidden"})]})]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i("Description")}),n.jsx("textarea",{value:x.description,onChange:N=>p({...x,description:N.target.value}),rows:"4",className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:i("Product description..."),required:!0})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u?n.jsx(Ms,{size:20}):n.jsx(Ve,{size:20}),i(u?"Update Product":"Add Product")]})})]})})]})},kk=()=>{const{data:e=[]}=uk(),{mutateAsync:t}=hk(),{mutateAsync:r}=fk(),{mutateAsync:s}=mk(),{t:a}=oe(),[l,i]=w.useState("list"),[o,d]=w.useState(null),[u,c]=w.useState({headline:"",type:"Offer",image:"",content:""}),{uploadImage:h,uploading:f}=Wg(),x=async g=>{const m=g.target.files[0];if(m)try{const v=await h(m);c({...u,image:v})}catch(v){console.error("Error uploading news image:",v),alert(a("Failed to upload image. Please try another image."))}},p=g=>{d(g),c({headline:g.title,type:g.category,image:g.image,content:g.content||g.description}),i("form")},y=async g=>{if(window.confirm(a("Are you sure you want to delete this post?")))try{await s(g),alert(a("Post deleted successfully!"))}catch(m){console.error("Error deleting news:",m),alert(a("Failed to delete post. Please try again."))}},b=g=>{g.preventDefault();const m={title:u.headline,category:u.type,image:u.image,content:u.content,date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};o?(r({id:o._id||o.id,data:m}),alert(a("News updated successfully!"))):(t(m),alert(a("News published successfully!"))),c({headline:"",type:"Offer",image:"",content:""}),d(null),i("list")};return n.jsxs("div",{className:"max-w-6xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a(l==="list"?"News & Offers":o?"Edit Post":"Publish News & Offers")}),n.jsxs("button",{onClick:()=>{l==="list"?(d(null),c({headline:"",type:"Offer",image:"",content:""}),i("form")):i("list")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l==="list"?n.jsx(Ve,{size:20}):n.jsx(Ha,{size:20}),a(l==="list"?"Add Post":"View List")]})]}),l==="list"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(g=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col group relative",children:[n.jsxs("div",{className:"absolute top-4 right-4 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[n.jsx("button",{onClick:m=>{m.stopPropagation(),p(g)},className:"p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full text-blue-600 hover:text-blue-700 shadow-sm",children:n.jsx(Os,{size:18})}),n.jsx("button",{onClick:m=>{m.stopPropagation(),y(g._id||g.id)},className:"p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full text-red-600 hover:text-red-700 shadow-sm",children:n.jsx(Ot,{size:18})})]}),n.jsx("div",{className:"h-48 overflow-hidden",children:n.jsx("img",{src:g.image,alt:g.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.category==="Offer"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:g.category})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:g.title}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm line-clamp-3",children:g.content||g.description})]})]},g._id||g.id))}):n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Headline")}),n.jsx("input",{type:"text",value:u.headline,onChange:g=>c({...u,headline:g.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Type")}),n.jsxs("select",{value:u.type,onChange:g=>c({...u,type:g.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",children:[n.jsx("option",{children:a("Offer")}),n.jsx("option",{children:a("News")}),n.jsx("option",{children:a("Deal")})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Post Image")}),n.jsxs("div",{className:"flex items-center gap-4",children:[u.image&&n.jsx("img",{src:u.image,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsxs("div",{className:"w-full px-4 py-2 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{size:20}),n.jsx("span",{children:f?"Uploading...":a("Upload Image")})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden",required:!u.image})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Content")}),n.jsx("textarea",{rows:"5",value:u.content,onChange:g=>c({...u,content:g.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o?n.jsx(Ms,{size:20}):n.jsx(sg,{size:20}),a(o?"Update Post":"Publish")]})})]})})]})},jk=()=>{const{orders:e,updateOrder:t,deleteOrder:r,refreshOrders:s}=Oe(),{t:a}=oe(),[l,i]=w.useState(null),[o,d]=w.useState(""),[u,c]=w.useState(!1);w.useEffect(()=>{const N=setInterval(()=>{s()},1e4);return()=>clearInterval(N)},[s]);const h=async()=>{c(!0),await s(),setTimeout(()=>c(!1),1e3)},f=(N,E)=>{const C=e.find(A=>(A._id||A.id)===N);C&&t({...C,status:E})},x=N=>{var E,C;i(N._id||N.id),d(((E=N.shippingAddress)==null?void 0:E.street)+", "+((C=N.shippingAddress)==null?void 0:C.city)||"")},p=N=>{const E=e.find(C=>(C._id||C.id)===N);E&&(t({...E,address:o}),i(null))},y=async N=>{if(window.confirm(a("Are you sure you want to delete this order?")))try{await r(N),alert(a("Order deleted successfully!"))}catch(E){console.error("Error deleting order:",E),alert(a("Failed to delete order"))}},b=e.filter(N=>N.status==="Processing"),g=e.filter(N=>N.status==="Shipped"),m=e.filter(N=>N.status==="Delivered"),v=e.filter(N=>N.status==="Cancelled"),k=N=>{if(!N)return"N/A";const E=new Date(N);return E.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+" at "+E.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},O=(N,E,C)=>N.length===0?null:n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:`text-lg font-semibold mb-4 ${C}`,children:[a(E)," (",N.length,")"]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Order ID")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Customer")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Mobile")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Address")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Date & Time")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Total")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Status")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Actions")})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:N.map(A=>{var T,L,V,K,se;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[n.jsxs("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:["#",String(A._id||A.id).slice(-6).toUpperCase()]}),n.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-300",children:((T=A.shippingAddress)==null?void 0:T.name)||A.user}),n.jsx("td",{className:"p-4 text-gray-600 dark:text-gray-300",children:((L=A.shippingAddress)==null?void 0:L.mobile)||"N/A"}),n.jsx("td",{className:"p-4 text-gray-500 dark:text-gray-400 text-sm max-w-xs",children:l===(A._id||A.id)?n.jsx("input",{type:"text",value:o,onChange:ne=>d(ne.target.value),className:"w-full px-2 py-1 border rounded"}):n.jsx("span",{className:"truncate block",title:`${(V=A.shippingAddress)==null?void 0:V.street}, ${(K=A.shippingAddress)==null?void 0:K.city}`,children:A.shippingAddress?`${A.shippingAddress.street}, ${A.shippingAddress.city}`:"N/A"})}),n.jsx("td",{className:"p-4 text-gray-500 dark:text-gray-400 text-sm",children:k(A.createdAt||A.date)}),n.jsxs("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:["",((((se=A.items)==null?void 0:se.reduce((ne,ce)=>ne+Number(ce.price||0)*Number(ce.quantity||1),0))||0)+(Number(A.shipping)||20)-(Number(A.discount)||0)).toFixed(0)]}),n.jsx("td",{className:"p-4",children:n.jsxs("select",{value:A.status,onChange:ne=>f(A._id||A.id,ne.target.value),className:"text-sm border border-gray-200 dark:border-gray-600 rounded-lg px-2 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:A.status,children:a(A.status)}),A.status==="Processing"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"Shipped",children:a("Shipped")}),n.jsx("option",{value:"Cancelled",children:a("Cancelled")})]}),A.status==="Shipped"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"Delivered",children:a("Delivered")}),n.jsx("option",{value:"Cancelled",children:a("Cancelled")})]})]})}),n.jsx("td",{className:"p-4",children:l===(A._id||A.id)?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>p(A._id||A.id),className:"text-green-600 hover:text-green-700",children:n.jsx(Zt,{size:18})}),n.jsx("button",{onClick:()=>i(null),className:"text-red-600 hover:text-red-700",children:n.jsx(Ab,{size:18})})]}):n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>x(A),className:"text-blue-600 hover:text-blue-700",children:n.jsx(Os,{size:18})}),n.jsx("button",{onClick:()=>y(A._id||A.id),className:"text-red-600 hover:text-red-700",children:n.jsx(Ot,{size:18})})]})})]},A._id||A.id)})})]})})})]},E);return n.jsxs("div",{className:"max-w-6xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a("Manage Orders")}),n.jsx("button",{onClick:h,className:`p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-blue-600 dark:text-blue-400 ${u?"animate-spin":""}`,title:a("Refresh Orders"),children:n.jsx(Fb,{size:24})})]}),O(b,"Processing Orders","text-amber-700 dark:text-amber-400"),O(g,"Shipped Orders","text-blue-700 dark:text-blue-400"),O(m,"Delivered Orders","text-green-700 dark:text-green-400"),O(v,"Cancelled Orders","text-red-700 dark:text-red-400"),e.length===0&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-12 text-center",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a("No orders found")})})]})},Nk=()=>{const{data:e=[]}=Zc(),{mutateAsync:t}=P1(),{mutateAsync:r}=T1(),s=async()=>{},{t:a}=oe(),[l,i]=w.useState("list"),[o,d]=w.useState(null),[u,c]=w.useState({name:"",image:""});w.useEffect(()=>{fetchCategories()},[]);const h=async p=>{const y=p.target.files[0];if(y){if(!Vg(y,5)){alert(a("Image is too large! Please select an image smaller than 5MB."));return}try{const b=await Qg(y,500,800);c(g=>({...g,image:b}))}catch(b){console.error("Error compressing image:",b),alert(a("Failed to process image. Please try another image."))}}},f=async p=>{if(window.confirm(a("Are you sure you want to delete this category?")))try{await r(p),alert(a("Category deleted successfully!"))}catch(y){alert(a("Failed to delete category. Please try again.")),console.error("Error deleting category:",y)}},x=async p=>{var y;p.preventDefault();try{if(o)await s({...o,...u}),alert(a("Category updated successfully!"));else{console.log("Adding category with data:",u);const b=await t(u);console.log("Category add result:",b),alert(a("Category added successfully!"))}c({name:"",image:""}),d(null),i("list"),fetchCategories()}catch(b){console.error("Error saving category - Full details:",b);const g=(b==null?void 0:b.message)||((y=b==null?void 0:b.data)==null?void 0:y.message)||"Failed to save category. Please try again.";alert(a(g))}};return n.jsxs("div",{className:"max-w-5xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a(l==="list"?"Categories":o?"Edit Category":"Add New Category")}),n.jsxs("button",{onClick:()=>{l==="list"?(d(null),c({name:""}),i("form")):i("list")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l==="list"?n.jsx(Ve,{size:20}):n.jsx(Ha,{size:20}),a(l==="list"?"Add Category":"View List")]})]}),l==="list"?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Name")}),n.jsx("th",{className:"p-4 text-sm font-medium text-gray-500 dark:text-gray-400",children:a("Actions")})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:e.length>0?e.map(p=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[n.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-white",children:p.name}),n.jsx("td",{className:"p-4",children:n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{onClick:()=>f(p._id||p.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:n.jsx(Ot,{size:18})})})})]},p._id||p.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"2",className:"p-8 text-center text-gray-500 dark:text-gray-400",children:a("No categories found. Add one to get started!")})})})]})})}):n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Category Name")}),n.jsx("input",{type:"text",value:u.name,onChange:p=>c({...u,name:p.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:a("e.g., Vegetables"),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Category Image")}),n.jsxs("div",{className:"flex items-center gap-4",children:[u.image&&n.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden ring-4 ring-gray-200 dark:ring-gray-700",children:n.jsx("img",{src:u.image,alt:"Preview",className:"w-full h-full object-cover"})}),n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsxs("div",{className:"w-full px-4 py-2 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{size:20}),n.jsx("span",{children:a("Upload Image")})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden",required:!u.image})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o?n.jsx(Ms,{size:20}):n.jsx(Ve,{size:20}),a(o?"Update Category":"Add Category")]})})]})})]})},Sk=()=>{const{data:e=[],refetch:t}=K1(),{mutateAsync:r}=G1(),{data:s=[]}=eu(),a=async E=>{},{t:l}=oe(),[i,o]=w.useState(null),[d,u]=w.useState(!0),[c,h]=w.useState(null),[f,x]=w.useState({name:"",email:"",mobile:"",address:"",role:"customer",storeId:""}),[p,y]=w.useState(""),b=e.length,g=e.filter(E=>E.role==="admin").length,m=e.filter(E=>E.role==="store_admin").length,v=e.filter(E=>E.role==="customer").length;w.useEffect(()=>{(async()=>{try{u(!0),h(null),console.log("Fetching users..."),await t(),console.log("Users fetched successfully, count:",e.length)}catch(C){console.error("Error fetching users:",C),h((C==null?void 0:C.message)||"Failed to load users")}finally{u(!1)}})()},[]);const k=E=>{var C;o(E),x({name:E.name,email:E.email,mobile:E.mobile||"",address:E.address||"",role:E.role||"customer",storeId:((C=E.storeId)==null?void 0:C._id)||E.storeId||""})},O=async()=>{var E;try{console.log("Updating user:",{...i,...f}),await a({...i,...f}),alert(l("User updated successfully!")),o(null),t()}catch(C){console.error("Error updating user - Full details:",C);const A=(C==null?void 0:C.message)||((E=C==null?void 0:C.data)==null?void 0:E.message)||"Failed to update user. Please try again.";alert(l(A))}},N=async E=>{var C;if(window.confirm(l("Are you sure you want to delete this user?")))try{console.log("Deleting user with ID:",E),await r(E),alert(l("User deleted successfully!")),t()}catch(A){console.error("Error deleting user - Full details:",A);const T=(A==null?void 0:A.message)||((C=A==null?void 0:A.data)==null?void 0:C.message)||"Failed to delete user. Please try again.";alert(l(T))}};return n.jsxs("div",{className:"max-w-6xl",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:l("User Database")}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-lg",children:n.jsx(Kc,{size:20})}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:l("Total Users")})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 text-purple-600 rounded-lg",children:n.jsx(Zt,{size:20})}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:l("Customers")})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:v})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 text-orange-600 rounded-lg",children:n.jsx(Ze,{size:20})}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:l("Store Admins")})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-600 rounded-lg",children:n.jsx(og,{size:20})}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:l("Admins")})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g})]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:l("Search users by name or email..."),value:p,onChange:E=>y(E.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white transition-colors"}),n.jsx(Jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})}),d&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-8 text-center",children:n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:l("Loading users...")})}),c&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-2xl border border-red-200 dark:border-red-800 p-6 mb-6",children:[n.jsxs("p",{className:"text-red-600 dark:text-red-400",children:[l("Error"),": ",c]}),n.jsx("button",{onClick:()=>t(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:l("Retry")})]}),!d&&!c&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l("User")}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l("Contact")}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l("Role")}),n.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:l("Actions")})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.filter(E=>{var A,T;const C=p.toLowerCase();return((A=E.name)==null?void 0:A.toLowerCase().includes(C))||((T=E.email)==null?void 0:T.toLowerCase().includes(C))}).length>0?e.filter(E=>{var A,T;const C=p.toLowerCase();return((A=E.name)==null?void 0:A.toLowerCase().includes(C))||((T=E.email)==null?void 0:T.toLowerCase().includes(C))}).map(E=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 flex-shrink-0 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 font-bold text-lg",children:E.name.charAt(0).toUpperCase()}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.name}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l("Joined"),": ",new Date(E.createdAt).toLocaleDateString()]})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"text-sm text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Oi,{size:14,className:"text-gray-400"}),E.email]}),E.mobile&&n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-2",children:[n.jsx(Ln,{size:14,className:"text-gray-400"}),E.mobile]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                                                ${E.role==="admin"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":E.role==="store_admin"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:l(E.role==="store_admin"?"Store Admin":E.role.charAt(0).toUpperCase()+E.role.slice(1))}),E.role==="store_admin"&&E.storeId&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:E.storeId.name||"Store Linked"})]}),n.jsx("td",{className:"px-6 py-4 text-right",children:i&&(i._id||i.id)===(E._id||E.id)?n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:l("Edit User Role")}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:l("Role")}),n.jsxs("select",{value:f.role,onChange:C=>x({...f,role:C.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"customer",children:l("Customer")}),n.jsx("option",{value:"store_admin",children:l("Store Admin")}),n.jsx("option",{value:"admin",children:l("Global Admin")})]})]}),f.role==="store_admin"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:l("Assign Store")}),n.jsxs("select",{value:f.storeId,onChange:C=>x({...f,storeId:C.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"",children:l("Select Store")}),s.map(C=>n.jsx("option",{value:C._id||C.id,children:C.name},C._id||C.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:l("Full Name")}),n.jsx("input",{type:"text",value:f.name,onChange:C=>x({...f,name:C.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:l("Email Address")}),n.jsx("input",{type:"email",value:f.email,onChange:C=>x({...f,email:C.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:l("Cancel")}),n.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ms,{size:18}),l("Save")]})]})]}):n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx("button",{onClick:()=>k(E),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:n.jsx(Os,{size:18})}),n.jsx("button",{onClick:()=>N(E._id||E.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:n.jsx(Ot,{size:18})})]})})]},E._id||E.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-500 dark:text-gray-400",children:l("No users found.")})})})]})})})]})},Ck=()=>{const{data:e=[]}=Dg(),{mutateAsync:t}=C1(),{mutateAsync:r}=E1(),{t:s}=oe(),[a,l]=w.useState(""),[i,o]=w.useState(""),d=h=>{const f=h.target.files[0];if(f){const x=new FileReader;x.onloadend=()=>{l(x.result)},x.readAsDataURL(f)}},u=h=>{h.preventDefault(),a&&(t({image:a,title:i||"Ad"}),l(""),o(""))},c=async h=>{if(window.confirm(s("Are you sure you want to delete this ad?")))try{await r(h),alert(s("Ad deleted successfully!"))}catch(f){console.error("Error deleting ad:",f),alert(s("Failed to delete ad. Please try again."))}};return n.jsxs("div",{className:"max-w-6xl",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:s("Ads Slider Management")}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 mb-8",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:s("Add New Ad Image")}),n.jsxs("form",{onSubmit:u,className:"flex flex-col md:flex-row gap-4 items-end",children:[n.jsxs("div",{className:"flex-1 w-full",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("Ad Image")}),n.jsxs("div",{className:"flex items-center gap-4",children:[a&&n.jsx("img",{src:a,alt:"Preview",className:"w-12 h-12 rounded-lg object-cover"}),n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsxs("div",{className:"w-full px-4 py-2 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{size:20}),n.jsx("span",{children:s("Upload Image")})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden",required:!a})]})]})]}),n.jsxs("div",{className:"flex-1 w-full",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("Title (Optional)")}),n.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:s("Ad Title")})]}),n.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center gap-2 h-[42px]",children:[n.jsx(Ve,{size:20})," ",s("Add")]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(h=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden group relative",children:[n.jsxs("div",{className:"aspect-video relative",children:[n.jsx("img",{src:h.image,alt:h.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsx("button",{onClick:()=>c(h._id||h.id),className:"p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:n.jsx(Ot,{size:20})})})]}),n.jsx("div",{className:"p-4",children:n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:h.title})})]},h._id||h.id))})]})},Ek=()=>{const{data:e=[]}=gk(),{mutateAsync:t}=pk(),{mutateAsync:r}=xk(),s=async()=>{},{t:a}=oe(),[l,i]=w.useState("list"),[o,d]=w.useState(null),[u,c]=w.useState({name:"",description:"",image:"",address:"",mobile:""}),h=async y=>{const b=y.target.files[0];if(b){if(!Vg(b,5)){alert(a("Image is too large! Please select an image smaller than 5MB."));return}try{const g=await Qg(b,800,800);c(m=>({...m,image:g}))}catch(g){console.error("Error compressing image:",g),alert(a("Failed to process image. Please try another image."))}}},f=y=>{d(y),c({name:y.name,description:y.description,image:y.image,address:y.address||"",mobile:y.mobile||""}),i("form")},x=async y=>{var b,g;if(window.confirm(a("Are you sure you want to delete this service?")))try{await r(y),alert(a("Service deleted successfully!"))}catch(m){console.error("Error deleting service:",m);const v=((g=(b=m.response)==null?void 0:b.data)==null?void 0:g.message)||m.message||a("Failed to delete service.");alert(v)}},p=async y=>{var b,g;y.preventDefault();try{o?(await s({...o,...u}),alert(a("Service updated successfully!"))):(await t(u),alert(a("Service added successfully!"))),c({name:"",description:"",image:"",address:"",mobile:""}),d(null),i("list")}catch(m){console.error("Error saving service:",m);const v=((g=(b=m.response)==null?void 0:b.data)==null?void 0:g.message)||m.message||a("Failed to save service.");alert(v)}};return n.jsxs("div",{className:"max-w-6xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a(l==="list"?"Service Management":o?"Edit Service":"Add New Service")}),n.jsxs("button",{onClick:()=>{l==="list"?(d(null),c({name:"",description:"",image:"",address:"",mobile:""}),i("form")):i("list")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[l==="list"?n.jsx(Ve,{size:20}):n.jsx(Ha,{size:20}),a(l==="list"?"Add Service":"View List")]})]}),l==="list"?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(y=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden group",children:[n.jsxs("div",{className:"h-48 overflow-hidden relative",children:[n.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"}),n.jsxs("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[n.jsx("button",{onClick:()=>f(y),className:"p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full text-blue-600 hover:text-blue-700 shadow-sm",children:n.jsx(Os,{size:18})}),n.jsx("button",{onClick:()=>x(y._id||y.id),className:"p-2 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full text-red-600 hover:text-red-700 shadow-sm",children:n.jsx(Ot,{size:18})})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:y.name}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:y.description}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(es,{size:16}),n.jsx("span",{children:y.address})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ln,{size:16}),n.jsx("span",{children:y.mobile})]})]})]})]},y._id||y.id))}):n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Service Name")}),n.jsx("input",{type:"text",value:u.name,onChange:y=>c({...u,name:y.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Image")}),n.jsxs("div",{className:"flex items-center gap-4",children:[u.image&&n.jsx("img",{src:u.image,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsxs("div",{className:"w-full px-4 py-2 rounded-xl border border-dashed border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{size:20}),n.jsx("span",{children:a("Upload Image")})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden",required:!u.image})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Description")}),n.jsx("textarea",{value:u.description,onChange:y=>c({...u,description:y.target.value}),rows:"4",className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Address")}),n.jsx("input",{type:"text",value:u.address,onChange:y=>c({...u,address:y.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("Mobile Number")}),n.jsx("input",{type:"text",value:u.mobile,onChange:y=>c({...u,mobile:y.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",required:!0})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ms,{size:20}),a(o?"Update Service":"Add Service")]})})]})})]})},Pk=()=>{const{data:e=[]}=yk(),{mutateAsync:t}=vk(),{mutateAsync:r}=bk(),s=e,{t:a}=oe(),l=async(o,d)=>{try{await t({id:o,status:d})}catch(u){console.error("Error updating status:",u),alert(a("Failed to update status"))}},i=async o=>{if(window.confirm(a("Are you sure you want to delete this service request?")))try{await r(o)}catch(d){console.error("Error deleting request:",d),alert(a("Failed to delete request"))}};return n.jsxs("div",{className:"max-w-6xl",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[n.jsx(qc,{className:"text-blue-600"}),a("Service Requests")]}),n.jsx("div",{className:"grid gap-6",children:s.length===0?n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 text-center text-gray-500",children:a("No service requests found")}):s.map(o=>{var d,u,c,h,f;return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"w-full md:w-32 h-32 flex-shrink-0",children:n.jsx("img",{src:((d=o.service)==null?void 0:d.image)||"https://via.placeholder.com/150",alt:(u=o.service)==null?void 0:u.name,className:"w-full h-full object-cover rounded-xl"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:((c=o.service)==null?void 0:c.name)||a("Unknown Service")}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a("Requested on")," ",new Date(o.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:a("Customer Name")}),n.jsxs("p",{className:"font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Kc,{size:16,className:"text-blue-600"}),((h=o.user)==null?void 0:h.name)||a("Unknown User")]})]}),n.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:a("Customer Mobile")}),n.jsxs("p",{className:"font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Ln,{size:16,className:"text-green-600"}),((f=o.user)==null?void 0:f.mobile)||a("N/A")]})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[n.jsx("label",{className:"text-xs font-semibold uppercase text-gray-500 dark:text-gray-400",children:a("Current Status")}),n.jsxs("select",{value:o.status,onChange:x=>l(o._id||o.id,x.target.value),className:`w-full p-3 rounded-xl border appearance-none font-medium cursor-pointer outline-none transition-colors
                                        ${o.status==="Pending"?"bg-amber-50 text-amber-700 border-amber-200":o.status==="In Progress"?"bg-blue-50 text-blue-700 border-blue-200":o.status==="Completed"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:[n.jsx("option",{value:"Pending",children:a("Pending")}),n.jsx("option",{value:"In Progress",children:a("In Progress")}),n.jsx("option",{value:"Completed",children:a("Completed")}),n.jsx("option",{value:"Cancelled",children:a("Cancelled")})]}),n.jsxs("button",{onClick:()=>i(o._id||o.id),className:"p-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50 transition-colors flex items-center justify-center gap-2",title:a("Delete Request"),children:[n.jsx(Ot,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:a("Delete")})]})]})]},o._id||o.id)})})]})},Tk=()=>{const e=wt(),{cartCount:t}=ts(),r=a=>e.pathname===a,s=[{path:"/",icon:rg,label:"Home"},{path:"/store",icon:Ze,label:"Store"},{path:"/orders",icon:Ts,label:"Orders"},{path:"/profile",icon:Wc,label:"Profile"}];return e.pathname.startsWith("/product/")||e.pathname==="/checkout"||e.pathname==="/order-confirmation"?null:n.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-100 dark:border-gray-800 z-50 transition-colors duration-200",style:{paddingBottom:"max(env(safe-area-inset-bottom), 8px)"},children:n.jsx("div",{className:"flex justify-around items-center h-16 py-2",children:s.map(a=>{const l=r(a.path);return n.jsxs(X,{to:a.path,className:`relative flex flex-col items-center justify-center w-full h-full space-y-0.5 ${l?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[n.jsxs("div",{className:"relative",children:[n.jsx(a.icon,{size:16,strokeWidth:l?2.5:2}),a.path==="/cart"&&t>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-[8px] font-bold rounded-full h-3 w-3 flex items-center justify-center border-2 border-white dark:border-gray-900",children:t})]}),n.jsx("span",{className:"text-[8px] font-medium",children:a.label})]},a.path)})})})},Ok=()=>{const[e,t]=w.useState(null),[r,s]=w.useState(!1),[a,l]=w.useState(!1);w.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){l(!0);return}const d=u=>{u.preventDefault(),t(u),setTimeout(()=>{s(!0)},3e3)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",()=>{l(!0),s(!1),console.log("PWA was installed")}),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]);const i=async()=>{if(!e)return;e.prompt();const{outcome:d}=await e.userChoice;console.log(d==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),t(null),s(!1)},o=()=>{s(!1),sessionStorage.setItem("installPromptDismissed","true")};return a||!r||sessionStorage.getItem("installPromptDismissed")?null:n.jsx("div",{className:"fixed bottom-20 md:bottom-6 left-4 right-4 md:left-auto md:right-6 md:max-w-sm z-50 animate-slide-up",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-4 md:p-5",children:[n.jsx("button",{onClick:o,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Dismiss",children:n.jsx(Cn,{size:18,className:"text-gray-500 dark:text-gray-400"})}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:n.jsx(Rb,{className:"text-blue-600 dark:text-blue-400",size:24})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white mb-1",children:"Install Homly App"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Install our app for a faster, better experience with offline access!"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2 px-4 rounded-lg transition-colors shadow-sm",children:"Install"}),n.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Not Now"})]})]})]})]})})},Ak=()=>n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-teal-500 animate-gradient",children:[n.jsx("style",{children:`
                @keyframes gradient {
                    0% { background-position: 0% 50%; }
                    50% { background-position: 100% 50%; }
                    100% { background-position: 0% 50%; }
                }
                
                @keyframes fadeInScale {
                    0% {
                        opacity: 0;
                        transform: scale(0.8);
                    }
                    100% {
                        opacity: 1;
                        transform: scale(1);
                    }
                }
                
                @keyframes pulse {
                    0%, 100% {
                        transform: scale(1);
                    }
                    50% {
                        transform: scale(1.05);
                    }
                }
                
                @keyframes float {
                    0%, 100% {
                        transform: translateY(0px);
                    }
                    50% {
                        transform: translateY(-10px);
                    }
                }
                
                @keyframes dots {
                    0%, 20% {
                        content: '.';
                    }
                    40% {
                        content: '..';
                    }
                    60%, 100% {
                        content: '...';
                    }
                }
                
                .animate-gradient {
                    background-size: 200% 200%;
                    animation: gradient 3s ease infinite;
                }
                
                .animate-fadeInScale {
                    animation: fadeInScale 0.8s ease-out forwards;
                }
                
                .animate-pulse-slow {
                    animation: pulse 2s ease-in-out infinite;
                }
                
                .animate-float {
                    animation: float 3s ease-in-out infinite;
                }
                
                .loading-dots::after {
                    content: '';
                    animation: dots 1.5s steps(1) infinite;
                }
            `}),n.jsxs("div",{className:"text-center animate-fadeInScale",children:[n.jsx("div",{className:"flex justify-center mb-6 animate-float",children:n.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-3xl p-6 shadow-2xl",children:n.jsx(rg,{size:64,className:"text-white",strokeWidth:1.5})})}),n.jsx("h1",{className:"text-7xl md:text-8xl font-bold text-white mb-4 tracking-tight animate-pulse-slow",children:"Homly"}),n.jsx("p",{className:"text-xl md:text-2xl text-white/90 font-light mb-8",children:"Your Home Shopping Companion"}),n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),n.jsx("p",{className:"text-white/70 text-sm mt-4 loading-dots",children:"Loading"})]}),n.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-10 right-10 w-32 h-32 bg-white/10 rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/3 right-20 w-16 h-16 bg-white/10 rounded-full blur-lg animate-pulse",style:{animationDelay:"0.5s"}})]}),Rk=()=>n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col items-center justify-center p-4 text-center",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-8 max-w-md w-full border border-gray-100 dark:border-gray-700 transform transition-all hover:scale-[1.02]",children:[n.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:n.jsx(Qc,{className:"text-red-500 dark:text-red-400",size:40})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Currently Not Taking Orders"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:"We are currently performing system maintenance or are not accepting orders at this time. Please check back later!"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-1 w-full bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 w-1/3 animate-[loading_2s_ease-in-out_infinite]"})}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 uppercase tracking-wider font-semibold",children:"System Maintenance"})]})]}),n.jsxs("p",{className:"mt-8 text-sm text-gray-400 dark:text-gray-600",children:[" ",new Date().getFullYear()," Homly. All rights reserved."]}),n.jsx("style",{jsx:!0,children:`
                @keyframes loading {
                    0% { transform: translateX(-100%); }
                    50% { transform: translateX(100%); }
                    100% { transform: translateX(-100%); }
                }
            `})]});/*! Capacitor: https://capacitorjs.com/ - MIT License */var Pn;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Pn||(Pn={}));class wo extends Error{constructor(t,r,s){super(t),this.message=t,this.code=r,this.data=s}}const _k=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Lk=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},s=r.Plugins=r.Plugins||{},a=()=>t!==null?t.name:_k(e),l=()=>a()!=="web",i=h=>{const f=u.get(h);return!!(f!=null&&f.platforms.has(a())||o(h))},o=h=>{var f;return(f=r.PluginHeaders)===null||f===void 0?void 0:f.find(x=>x.name===h)},d=h=>e.console.error(h),u=new Map,c=(h,f={})=>{const x=u.get(h);if(x)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),x.proxy;const p=a(),y=o(h);let b;const g=async()=>(!b&&p in f?b=typeof f[p]=="function"?b=await f[p]():b=f[p]:t!==null&&!b&&"web"in f&&(b=typeof f.web=="function"?b=await f.web():b=f.web),b),m=(C,A)=>{var T,L;if(y){const V=y==null?void 0:y.methods.find(K=>A===K.name);if(V)return V.rtype==="promise"?K=>r.nativePromise(h,A.toString(),K):(K,se)=>r.nativeCallback(h,A.toString(),K,se);if(C)return(T=C[A])===null||T===void 0?void 0:T.bind(C)}else{if(C)return(L=C[A])===null||L===void 0?void 0:L.bind(C);throw new wo(`"${h}" plugin is not implemented on ${p}`,Pn.Unimplemented)}},v=C=>{let A;const T=(...L)=>{const V=g().then(K=>{const se=m(K,C);if(se){const ne=se(...L);return A=ne==null?void 0:ne.remove,ne}else throw new wo(`"${h}.${C}()" is not implemented on ${p}`,Pn.Unimplemented)});return C==="addListener"&&(V.remove=async()=>A()),V};return T.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(T,"name",{value:C,writable:!1,configurable:!1}),T},k=v("addListener"),O=v("removeListener"),N=(C,A)=>{const T=k({eventName:C},A),L=async()=>{const K=await T;O({eventName:C,callbackId:K},A)},V=new Promise(K=>T.then(()=>K({remove:L})));return V.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await L()},V},E=new Proxy({},{get(C,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?N:k;case"removeListener":return O;default:return v(A)}}});return s[h]=E,u.set(h,{name:h,proxy:E,platforms:new Set([...Object.keys(f),...y?[p]:[]])}),E};return r.convertFileSrc||(r.convertFileSrc=h=>h),r.getPlatform=a,r.handleError=d,r.isNativePlatform=l,r.isPluginAvailable=i,r.registerPlugin=c,r.Exception=wo,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Ik=e=>e.Capacitor=Lk(e),zd=Ik(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Fi=zd.registerPlugin;class tu{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let s=!1;this.listeners[t]||(this.listeners[t]=[],s=!0),this.listeners[t].push(r);const l=this.windowListeners[t];l&&!l.registered&&this.addWindowListener(l),s&&this.sendRetainedArgumentsForEvent(t);const i=async()=>this.removeListener(t,r);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,s){const a=this.listeners[t];if(!a){if(s){let l=this.retainedEventArguments[t];l||(l=[]),l.push(r),this.retainedEventArguments[t]=l}return}a.forEach(l=>l(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(t="not implemented"){return new zd.Exception(t,Pn.Unimplemented)}unavailable(t="not available"){return new zd.Exception(t,Pn.Unavailable)}async removeListener(t,r){const s=this.listeners[t];if(!s)return;const a=s.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(s=>{this.notifyListeners(t,s)}))}}const th=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),rh=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Mk extends tu{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(s=>{if(s.length<=0)return;let[a,l]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=rh(a).trim(),l=rh(l).trim(),r[a]=l}),r}async setCookie(t){try{const r=th(t.key),s=th(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,l=(t.path||"/").replace("path=",""),i=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${s||""}${a}; path=${l}; ${i};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Fi("CapacitorCookies",{web:()=>new Mk});const zk=async e=>new Promise((t,r)=>{const s=new FileReader;s.onload=()=>{const a=s.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>r(a),s.readAsDataURL(e)}),Dk=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,l,i)=>(a[l]=e[t[i]],a),{})},Fk=(e,t=!0)=>e?Object.entries(e).reduce((s,a)=>{const[l,i]=a;let o,d;return Array.isArray(i)?(d="",i.forEach(u=>{o=t?encodeURIComponent(u):u,d+=`${l}=${o}&`}),d.slice(0,-1)):(o=t?encodeURIComponent(i):i,d=`${l}=${o}`),`${s}&${d}`},"").substr(1):null,Uk=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=Dk(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[i,o]of Object.entries(e.data||{}))l.set(i,o);r.body=l.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const l=new FormData;if(e.data instanceof FormData)e.data.forEach((o,d)=>{l.append(d,o)});else for(const o of Object.keys(e.data))l.append(o,e.data[o]);r.body=l;const i=new Headers(r.headers);i.delete("content-type"),r.headers=i}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class $k extends tu{async request(t){const r=Uk(t,t.webFetchExtra),s=Fk(t.params,t.shouldEncodeUrlParams),a=s?`${t.url}?${s}`:t.url,l=await fetch(a,r),i=l.headers.get("content-type")||"";let{responseType:o="text"}=l.ok?t:{};i.includes("application/json")&&(o="json");let d,u;switch(o){case"arraybuffer":case"blob":u=await l.blob(),d=await zk(u);break;case"json":d=await l.json();break;case"document":case"text":default:d=await l.text()}const c={};return l.headers.forEach((h,f)=>{c[f]=h}),{data:d,headers:c,status:l.status,url:l.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Fi("CapacitorHttp",{web:()=>new $k});var sh;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(sh||(sh={}));var nh;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(nh||(nh={}));class Bk extends tu{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Fi("SystemBars",{web:()=>new Bk});const ah=Fi("App",{web:()=>$g(()=>import("./web-DSLbx3qy.js"),[]).then(e=>new e.AppWeb)}),qk=()=>{const e=Te(),t=wt(),r=w.useRef(t);w.useEffect(()=>{r.current=t},[t]),w.useEffect(()=>{if(typeof window<"u"&&window.Capacitor){let s,a=!0;return(async()=>{const i=await ah.addListener("backButton",({canGoBack:o})=>{const d=r.current;d.pathname==="/"||d.pathname==="/home"?ah.exitApp():e(-1)});a?s=i:i.remove()})(),()=>{a=!1,s&&s.remove()}}},[e])},Hk=()=>{const{pathname:e}=wt();return w.useEffect(()=>{window.scrollTo(0,0)},[e]),null},Qk=()=>{const{user:e,loading:t}=Ga(),{t:r}=oe(),s=Te();return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!e||e.role!=="store_admin"?(setTimeout(()=>s("/"),0),null):n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 duration-200",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(Ze,{className:"text-blue-600 dark:text-blue-400",size:24})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r("My Store")})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 hidden sm:block",children:e==null?void 0:e.name})})]})}),n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx(Md,{})})]})},Vk=()=>{const[e,t]=w.useState(""),[r,s]=w.useState(""),{login:a,error:l,user:i}=w.useContext(Ja),o=Te(),d=wt(),[u,c]=w.useState(!1),h=d.search?d.search.split("=")[1]:"/";w.useEffect(()=>{if(i){const x=sessionStorage.getItem("redirectAfterLogin");x?(sessionStorage.removeItem("redirectAfterLogin"),o(x)):o(h)}},[o,i,h]);const f=async x=>{if(x.preventDefault(),c(!0),await a(e,r)){const y=sessionStorage.getItem("redirectAfterLogin");y&&(sessionStorage.removeItem("redirectAfterLogin"),o(y))}c(!1)};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900 dark:text-white",children:"Welcome Back"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Sign in to access your account"})]}),l&&n.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 p-4 rounded-md",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:l})})]})}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Oi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"you@example.com",value:e,onChange:x=>t(x.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ta,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"",value:r,onChange:x=>s(x.target.value)})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900 dark:text-gray-300",children:"Remember me"})]}),n.jsx("div",{className:"text-sm",children:n.jsx(X,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Forgot your password?"})})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:u?n.jsx(Ti,{className:"animate-spin h-5 w-5"}):n.jsxs(n.Fragment,{children:["Sign in",n.jsx($c,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",n.jsx(X,{to:h?`/signup?redirect=${h}`:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors",children:"Sign up now"})]})})]})})},Wk=()=>{const[e,t]=w.useState(""),[r,s]=w.useState(""),[a,l]=w.useState(""),[i,o]=w.useState(""),[d,u]=w.useState(""),[c,h]=w.useState(null),{register:f,error:x,user:p}=w.useContext(Ja),y=Te(),b=wt(),[g,m]=w.useState(!1),v=b.search?b.search.split("=")[1]:"/";w.useEffect(()=>{if(p){const O=sessionStorage.getItem("redirectAfterLogin");O?(sessionStorage.removeItem("redirectAfterLogin"),y(O)):y(v)}},[y,p,v]);const k=async O=>{if(O.preventDefault(),h(null),i!==d){h("Passwords do not match");return}if(m(!0),await f(e,r,i,a)){const E=sessionStorage.getItem("redirectAfterLogin");E&&(sessionStorage.removeItem("redirectAfterLogin"),y(E))}m(!1)};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create Account"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Join us and start shopping today"})]}),(c||x)&&n.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 p-4 rounded-md",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:c||x})})]})}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:k,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Wc,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"John Doe",value:e,onChange:O=>t(O.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Oi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"you@example.com",value:r,onChange:O=>s(O.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ta,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"",value:i,onChange:O=>o(O.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ta,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"",value:d,onChange:O=>u(O.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mobile Number"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ln,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"mobile",name:"mobile",type:"tel",autoComplete:"tel",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"+91 98765 43210",value:a,onChange:O=>l(O.target.value)})]})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:g?n.jsx(Ti,{className:"animate-spin h-5 w-5"}):n.jsxs(n.Fragment,{children:["Create Account",n.jsx($c,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",n.jsx(X,{to:v?`/login?redirect=${v}`:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors",children:"Sign in"})]})})]})})},Kk=()=>{const[e,t]=w.useState(""),[r,s]=w.useState(!1),[a,l]=w.useState(!1),[i,o]=w.useState(""),d=async u=>{u.preventDefault(),s(!0),o("");try{await D.forgotPassword(e),l(!0)}catch(c){o(c.message||"Something went wrong. Please try again.")}finally{s(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"mt-2 text-3xl font-extrabold text-gray-900 dark:text-white",children:"Forgot Password?"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:a?"If an account exists, a reset link has been sent.":"Enter your email address to reset your password"})]}),i&&n.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 p-4 rounded-md",children:n.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:i})}),a?n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Zt,{className:"h-16 w-16 text-green-500"})}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["If an account with ",n.jsx("strong",{children:e})," exists, we have sent a password reset link. Please check your inbox (and spam folder)."]}),n.jsx("div",{className:"pt-4",children:n.jsx(X,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Back to Login"})})]}):n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Oi,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"you@example.com",value:e,onChange:u=>t(u.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:r?n.jsx(Ti,{className:"animate-spin h-5 w-5"}):"Send Reset Link"})}),n.jsx("div",{className:"text-center",children:n.jsxs(X,{to:"/login",className:"flex items-center justify-center text-sm font-medium text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:[n.jsx(ut,{className:"h-4 w-4 mr-2"}),"Back to Login"]})})]})]})})},Jk=()=>{const{token:e}=Pi(),t=Te(),[r,s]=w.useState(""),[a,l]=w.useState(""),[i,o]=w.useState(!1),[d,u]=w.useState(!1),[c,h]=w.useState(""),f=async x=>{if(x.preventDefault(),h(""),r!==a){h("Passwords do not match");return}if(r.length<6){h("Password must be at least 6 characters");return}o(!0);try{await D.resetPassword(e,r),u(!0),setTimeout(()=>{t("/login")},3e3)}catch(p){h(p.message||"Invalid or expired token. Please try again.")}finally{o(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8 transition-colors duration-200",children:n.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"mt-2 text-3xl font-extrabold text-gray-900 dark:text-white",children:"Reset Password"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:d?"Password reset successfully!":"Enter your new password below"})]}),c&&n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 p-4 rounded-md flex items-start",children:[n.jsx(Qc,{className:"h-5 w-5 text-red-500 mr-3 mt-0.5"}),n.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:c})]}),d?n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Zt,{className:"h-16 w-16 text-green-500"})}),n.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your password has been successfully reset. ",n.jsx("br",{}),"Redirecting to login..."]}),n.jsx("div",{className:"pt-4",children:n.jsx(X,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",children:"Go to Login immediately"})})]}):n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ta,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"Min 6 characters",value:r,onChange:x=>s(x.target.value),minLength:6})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ta,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700 transition-colors duration-200",placeholder:"Repeat password",value:a,onChange:x=>l(x.target.value)})]})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:i?n.jsx(Ti,{className:"animate-spin h-5 w-5"}):"Reset Password"})})]})]})})},Gk=({children:e,onRefresh:t})=>{const r=wt();qk();const s=r.pathname==="/order-confirmation"||r.pathname==="/login"||r.pathname==="/signup"||r.pathname==="/forgot-password"||r.pathname.startsWith("/reset-password")||r.pathname.startsWith("/admin"),a=r.pathname==="/login"||r.pathname==="/signup"||r.pathname==="/forgot-password"||r.pathname.startsWith("/reset-password"),l=r.pathname.startsWith("/admin"),{settings:i}=Oe(),{user:o}=Ga(),d=(i==null?void 0:i.maintenanceMode)===!0,u=(o==null?void 0:o.role)==="admin",c=r.pathname==="/login"||r.pathname==="/signup"||r.pathname==="/forgot-password"||r.pathname.startsWith("/reset-password")||r.pathname.startsWith("/admin");return d&&!u&&!c?n.jsx(Rk,{}):n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[n.jsx(Hk,{}),!a&&n.jsx(w1,{}),n.jsx("main",{className:`flex-grow ${s?"":"pb-32"} md:pb-0 min-h-screen`,children:e}),!a&&!l&&n.jsx(Tk,{}),!a&&n.jsx(Ok,{})]})};function Yk(){const{initialLoading:e,refreshData:t}=Oe(),r=async()=>{t&&await t()};return n.jsx(v1,{children:n.jsxs(kb,{children:[e&&n.jsx(Ak,{}),n.jsx("div",{style:{display:e?"none":"block"},children:n.jsx(Gk,{onRefresh:r,children:n.jsxs(mb,{children:[n.jsx(je,{path:"/",element:n.jsx(D1,{})}),n.jsx(je,{path:"/store",element:n.jsx(U1,{})}),n.jsx(je,{path:"/store/:id",element:n.jsx(H1,{})}),n.jsx(je,{path:"/profile",element:n.jsx(ek,{})}),n.jsx(je,{path:"/product/:id",element:n.jsx(q1,{})}),n.jsx(je,{path:"/cart",element:n.jsx(tk,{})}),n.jsx(je,{path:"/checkout",element:n.jsx(rk,{})}),n.jsx(je,{path:"/orders",element:n.jsx(sk,{})}),n.jsx(je,{path:"/orders/:id",element:n.jsx(ak,{})}),n.jsx(je,{path:"/order-confirmation",element:n.jsx(lk,{})}),n.jsx(je,{path:"/news",element:n.jsx(ik,{})}),n.jsx(je,{path:"/saved-products",element:n.jsx(dk,{})}),n.jsx(je,{path:"/services",element:n.jsx(ok,{})}),n.jsx(je,{path:"/my-store",element:n.jsx(Qk,{})}),n.jsx(je,{path:"/admin",element:n.jsx(wk,{})}),n.jsx(je,{path:"/login",element:n.jsx(Vk,{})}),n.jsx(je,{path:"/signup",element:n.jsx(Wk,{})}),n.jsx(je,{path:"/forgot-password",element:n.jsx(Kk,{})}),n.jsx(je,{path:"/reset-password/:token",element:n.jsx(Jk,{})})]})})})]})})}class Xk extends _e.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?n.jsxs("div",{className:"p-8 bg-red-50 text-red-900 min-h-screen",children:[n.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong."}),n.jsxs("details",{className:"whitespace-pre-wrap",children:[this.state.error&&this.state.error.toString(),n.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}const Zk=new cv;Om(document.getElementById("root")).render(n.jsx(w.StrictMode,{children:n.jsx(Xk,{children:n.jsx(uv,{client:Zk,children:n.jsx(Q1,{children:n.jsx(b1,{children:n.jsx(k1,{children:n.jsx(Bb,{children:n.jsx(Yk,{})})})})})})})}));export{tu as W};
